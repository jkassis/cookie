{
  "version": 3,
  "sources": ["../node_modules/cash-dom/dist/cash.js", "../src/satori/Loader.ts", "../src/Loader.ts", "../src/ErrorHandler.ts", "../src/DAO.ts", "../src/satori/Donut.ts", "../src/CreationActions.ts", "../src/CreationFooter.ts", "../src/CreationHead.ts", "../src/satori/Eventful.ts", "../src/satori/Style.ts", "../src/satori/Router.ts", "../src/satori/Screen.ts", "../src/CreationE2EScreen.ts", "../src/CreationBrief.ts", "../src/ScreenHead.ts", "../src/satori/List.ts", "../src/satori/IList.ts", "../src/CreationsScreen.ts", "../src/satori/AlertPopup.ts", "../src/satori/Storage.ts", "../src/satori/App.ts", "../src/satori/CashExt.ts", "../src/satori/DonutFactory.ts", "../src/satori/Auth.ts", "../src/Main.ts"],
  "sourcesContent": ["(function(){\n\"use strict\";\nvar doc = document;\nvar win = window;\nvar docEle = doc.documentElement;\nvar createElement = doc.createElement.bind(doc);\nvar div = createElement('div');\nvar table = createElement('table');\nvar tbody = createElement('tbody');\nvar tr = createElement('tr');\nvar isArray = Array.isArray, ArrayPrototype = Array.prototype;\nvar concat = ArrayPrototype.concat, filter = ArrayPrototype.filter, indexOf = ArrayPrototype.indexOf, map = ArrayPrototype.map, push = ArrayPrototype.push, slice = ArrayPrototype.slice, some = ArrayPrototype.some, splice = ArrayPrototype.splice;\nvar idRe = /^#(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/;\nvar classRe = /^\\.(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/;\nvar htmlRe = /<.+>/;\nvar tagRe = /^\\w+$/;\n// @require ./variables.ts\nfunction find(selector, context) {\n    var isFragment = isDocumentFragment(context);\n    return !selector || (!isFragment && !isDocument(context) && !isElement(context))\n        ? []\n        : !isFragment && classRe.test(selector)\n            ? context.getElementsByClassName(selector.slice(1).replace(/\\\\/g, ''))\n            : !isFragment && tagRe.test(selector)\n                ? context.getElementsByTagName(selector)\n                : context.querySelectorAll(selector);\n}\n// @require ./find.ts\n// @require ./variables.ts\nvar Cash = /** @class */ (function () {\n    function Cash(selector, context) {\n        if (!selector)\n            return;\n        if (isCash(selector))\n            return selector;\n        var eles = selector;\n        if (isString(selector)) {\n            var ctx = context || doc;\n            eles = idRe.test(selector) && isDocument(ctx)\n                ? ctx.getElementById(selector.slice(1).replace(/\\\\/g, ''))\n                : htmlRe.test(selector)\n                    ? parseHTML(selector)\n                    : isCash(ctx)\n                        ? ctx.find(selector)\n                        : isString(ctx)\n                            ? cash(ctx).find(selector)\n                            : find(selector, ctx);\n            if (!eles)\n                return;\n        }\n        else if (isFunction(selector)) {\n            return this.ready(selector); //FIXME: `fn.ready` is not included in `core`, but it's actually a core functionality\n        }\n        if (eles.nodeType || eles === win)\n            eles = [eles];\n        this.length = eles.length;\n        for (var i = 0, l = this.length; i < l; i++) {\n            this[i] = eles[i];\n        }\n    }\n    Cash.prototype.init = function (selector, context) {\n        return new Cash(selector, context);\n    };\n    return Cash;\n}());\nvar fn = Cash.prototype;\nvar cash = fn.init;\ncash.fn = cash.prototype = fn; // Ensuring that `cash () instanceof cash`\nfn.length = 0;\nfn.splice = splice; // Ensuring a cash collection gets printed as array-like in Chrome's devtools\nif (typeof Symbol === 'function') { // Ensuring a cash collection is iterable\n    fn[Symbol['iterator']] = ArrayPrototype[Symbol['iterator']];\n}\nfunction isCash(value) {\n    return value instanceof Cash;\n}\nfunction isWindow(value) {\n    return !!value && value === value.window;\n}\nfunction isDocument(value) {\n    return !!value && value.nodeType === 9;\n}\nfunction isDocumentFragment(value) {\n    return !!value && value.nodeType === 11;\n}\nfunction isElement(value) {\n    return !!value && value.nodeType === 1;\n}\nfunction isText(value) {\n    return !!value && value.nodeType === 3;\n}\nfunction isBoolean(value) {\n    return typeof value === 'boolean';\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\nfunction isUndefined(value) {\n    return value === undefined;\n}\nfunction isNull(value) {\n    return value === null;\n}\nfunction isNumeric(value) {\n    return !isNaN(parseFloat(value)) && isFinite(value);\n}\nfunction isPlainObject(value) {\n    if (typeof value !== 'object' || value === null)\n        return false;\n    var proto = Object.getPrototypeOf(value);\n    return proto === null || proto === Object.prototype;\n}\ncash.isWindow = isWindow;\ncash.isFunction = isFunction;\ncash.isArray = isArray;\ncash.isNumeric = isNumeric;\ncash.isPlainObject = isPlainObject;\nfunction each(arr, callback, _reverse) {\n    if (_reverse) {\n        var i = arr.length;\n        while (i--) {\n            if (callback.call(arr[i], i, arr[i]) === false)\n                return arr;\n        }\n    }\n    else if (isPlainObject(arr)) {\n        var keys = Object.keys(arr);\n        for (var i = 0, l = keys.length; i < l; i++) {\n            var key = keys[i];\n            if (callback.call(arr[key], key, arr[key]) === false)\n                return arr;\n        }\n    }\n    else {\n        for (var i = 0, l = arr.length; i < l; i++) {\n            if (callback.call(arr[i], i, arr[i]) === false)\n                return arr;\n        }\n    }\n    return arr;\n}\ncash.each = each;\nfn.each = function (callback) {\n    return each(this, callback);\n};\nfn.empty = function () {\n    return this.each(function (i, ele) {\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n    });\n};\nfunction extend() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    var deep = isBoolean(sources[0]) ? sources.shift() : false;\n    var target = sources.shift();\n    var length = sources.length;\n    if (!target)\n        return {};\n    if (!length)\n        return extend(deep, cash, target);\n    for (var i = 0; i < length; i++) {\n        var source = sources[i];\n        for (var key in source) {\n            if (deep && (isArray(source[key]) || isPlainObject(source[key]))) {\n                if (!target[key] || target[key].constructor !== source[key].constructor)\n                    target[key] = new source[key].constructor();\n                extend(deep, target[key], source[key]);\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\ncash.extend = extend;\nfn.extend = function (plugins) {\n    return extend(fn, plugins);\n};\n// @require ./type_checking.ts\nvar splitValuesRe = /\\S+/g;\nfunction getSplitValues(str) {\n    return isString(str) ? str.match(splitValuesRe) || [] : [];\n}\nfn.toggleClass = function (cls, force) {\n    var classes = getSplitValues(cls);\n    var isForce = !isUndefined(force);\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        each(classes, function (i, c) {\n            if (isForce) {\n                force ? ele.classList.add(c) : ele.classList.remove(c);\n            }\n            else {\n                ele.classList.toggle(c);\n            }\n        });\n    });\n};\nfn.addClass = function (cls) {\n    return this.toggleClass(cls, true);\n};\nfn.removeAttr = function (attr) {\n    var attrs = getSplitValues(attr);\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        each(attrs, function (i, a) {\n            ele.removeAttribute(a);\n        });\n    });\n};\nfunction attr(attr, value) {\n    if (!attr)\n        return;\n    if (isString(attr)) {\n        if (arguments.length < 2) {\n            if (!this[0] || !isElement(this[0]))\n                return;\n            var value_1 = this[0].getAttribute(attr);\n            return isNull(value_1) ? undefined : value_1;\n        }\n        if (isUndefined(value))\n            return this;\n        if (isNull(value))\n            return this.removeAttr(attr);\n        return this.each(function (i, ele) {\n            if (!isElement(ele))\n                return;\n            ele.setAttribute(attr, value);\n        });\n    }\n    for (var key in attr) {\n        this.attr(key, attr[key]);\n    }\n    return this;\n}\nfn.attr = attr;\nfn.removeClass = function (cls) {\n    if (arguments.length)\n        return this.toggleClass(cls, false);\n    return this.attr('class', '');\n};\nfn.hasClass = function (cls) {\n    return !!cls && some.call(this, function (ele) { return isElement(ele) && ele.classList.contains(cls); });\n};\nfn.get = function (index) {\n    if (isUndefined(index))\n        return slice.call(this);\n    index = Number(index);\n    return this[index < 0 ? index + this.length : index];\n};\nfn.eq = function (index) {\n    return cash(this.get(index));\n};\nfn.first = function () {\n    return this.eq(0);\n};\nfn.last = function () {\n    return this.eq(-1);\n};\nfunction text(text) {\n    if (isUndefined(text)) {\n        return this.get().map(function (ele) { return isElement(ele) || isText(ele) ? ele.textContent : ''; }).join('');\n    }\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        ele.textContent = text;\n    });\n}\nfn.text = text;\n// @require core/type_checking.ts\n// @require core/variables.ts\nfunction computeStyle(ele, prop, isVariable) {\n    if (!isElement(ele))\n        return;\n    var style = win.getComputedStyle(ele, null);\n    return isVariable ? style.getPropertyValue(prop) || undefined : style[prop] || ele.style[prop];\n}\n// @require ./compute_style.ts\nfunction computeStyleInt(ele, prop) {\n    return parseInt(computeStyle(ele, prop), 10) || 0;\n}\n// @require css/helpers/compute_style_int.ts\nfunction getExtraSpace(ele, xAxis) {\n    return computeStyleInt(ele, \"border\".concat(xAxis ? 'Left' : 'Top', \"Width\")) + computeStyleInt(ele, \"padding\".concat(xAxis ? 'Left' : 'Top')) + computeStyleInt(ele, \"padding\".concat(xAxis ? 'Right' : 'Bottom')) + computeStyleInt(ele, \"border\".concat(xAxis ? 'Right' : 'Bottom', \"Width\"));\n}\n// @require css/helpers/compute_style.ts\nvar defaultDisplay = {};\nfunction getDefaultDisplay(tagName) {\n    if (defaultDisplay[tagName])\n        return defaultDisplay[tagName];\n    var ele = createElement(tagName);\n    doc.body.insertBefore(ele, null);\n    var display = computeStyle(ele, 'display');\n    doc.body.removeChild(ele);\n    return defaultDisplay[tagName] = display !== 'none' ? display : 'block';\n}\n// @require css/helpers/compute_style.ts\nfunction isHidden(ele) {\n    return computeStyle(ele, 'display') === 'none';\n}\n// @require ./cash.ts\nfunction matches(ele, selector) {\n    var matches = ele && (ele['matches'] || ele['webkitMatchesSelector'] || ele['msMatchesSelector']);\n    return !!matches && !!selector && matches.call(ele, selector);\n}\n// @require ./matches.ts\n// @require ./type_checking.ts\nfunction getCompareFunction(comparator) {\n    return isString(comparator)\n        ? function (i, ele) { return matches(ele, comparator); }\n        : isFunction(comparator)\n            ? comparator\n            : isCash(comparator)\n                ? function (i, ele) { return comparator.is(ele); }\n                : !comparator\n                    ? function () { return false; }\n                    : function (i, ele) { return ele === comparator; };\n}\nfn.filter = function (comparator) {\n    var compare = getCompareFunction(comparator);\n    return cash(filter.call(this, function (ele, i) { return compare.call(ele, i, ele); }));\n};\n// @require collection/filter.ts\nfunction filtered(collection, comparator) {\n    return !comparator ? collection : collection.filter(comparator);\n}\nfn.detach = function (comparator) {\n    filtered(this, comparator).each(function (i, ele) {\n        if (ele.parentNode) {\n            ele.parentNode.removeChild(ele);\n        }\n    });\n    return this;\n};\nvar fragmentRe = /^\\s*<(\\w+)[^>]*>/;\nvar singleTagRe = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/;\nvar containers = {\n    '*': div,\n    tr: tbody,\n    td: tr,\n    th: tr,\n    thead: table,\n    tbody: table,\n    tfoot: table\n};\n//TODO: Create elements inside a document fragment, in order to prevent inline event handlers from firing\n//TODO: Ensure the created elements have the fragment as their parent instead of null, this also ensures we can deal with detatched nodes more reliably\nfunction parseHTML(html) {\n    if (!isString(html))\n        return [];\n    if (singleTagRe.test(html))\n        return [createElement(RegExp.$1)];\n    var fragment = fragmentRe.test(html) && RegExp.$1;\n    var container = containers[fragment] || containers['*'];\n    container.innerHTML = html;\n    return cash(container.childNodes).detach().get();\n}\ncash.parseHTML = parseHTML;\nfn.has = function (selector) {\n    var comparator = isString(selector)\n        ? function (i, ele) { return find(selector, ele).length; }\n        : function (i, ele) { return ele.contains(selector); };\n    return this.filter(comparator);\n};\nfn.not = function (comparator) {\n    var compare = getCompareFunction(comparator);\n    return this.filter(function (i, ele) { return (!isString(comparator) || isElement(ele)) && !compare.call(ele, i, ele); });\n};\nfunction pluck(arr, prop, deep, until) {\n    var plucked = [];\n    var isCallback = isFunction(prop);\n    var compare = until && getCompareFunction(until);\n    for (var i = 0, l = arr.length; i < l; i++) {\n        if (isCallback) {\n            var val_1 = prop(arr[i]);\n            if (val_1.length)\n                push.apply(plucked, val_1);\n        }\n        else {\n            var val_2 = arr[i][prop];\n            while (val_2 != null) {\n                if (until && compare(-1, val_2))\n                    break;\n                plucked.push(val_2);\n                val_2 = deep ? val_2[prop] : null;\n            }\n        }\n    }\n    return plucked;\n}\n// @require core/pluck.ts\n// @require core/variables.ts\nfunction getValue(ele) {\n    if (ele.multiple && ele.options)\n        return pluck(filter.call(ele.options, function (option) { return option.selected && !option.disabled && !option.parentNode.disabled; }), 'value');\n    return ele.value || '';\n}\nfunction val(value) {\n    if (!arguments.length)\n        return this[0] && getValue(this[0]);\n    return this.each(function (i, ele) {\n        var isSelect = ele.multiple && ele.options;\n        if (isSelect || checkableRe.test(ele.type)) {\n            var eleValue_1 = isArray(value) ? map.call(value, String) : (isNull(value) ? [] : [String(value)]);\n            if (isSelect) {\n                each(ele.options, function (i, option) {\n                    option.selected = eleValue_1.indexOf(option.value) >= 0;\n                }, true);\n            }\n            else {\n                ele.checked = eleValue_1.indexOf(ele.value) >= 0;\n            }\n        }\n        else {\n            ele.value = isUndefined(value) || isNull(value) ? '' : value;\n        }\n    });\n}\nfn.val = val;\nfn.is = function (comparator) {\n    var compare = getCompareFunction(comparator);\n    return some.call(this, function (ele, i) { return compare.call(ele, i, ele); });\n};\ncash.guid = 1;\nfunction unique(arr) {\n    return arr.length > 1 ? filter.call(arr, function (item, index, self) { return indexOf.call(self, item) === index; }) : arr;\n}\ncash.unique = unique;\nfn.add = function (selector, context) {\n    return cash(unique(this.get().concat(cash(selector, context).get())));\n};\nfn.children = function (comparator) {\n    return filtered(cash(unique(pluck(this, function (ele) { return ele.children; }))), comparator);\n};\nfn.parent = function (comparator) {\n    return filtered(cash(unique(pluck(this, 'parentNode'))), comparator);\n};\nfn.index = function (selector) {\n    var child = selector ? cash(selector)[0] : this[0];\n    var collection = selector ? this : cash(child).parent().children();\n    return indexOf.call(collection, child);\n};\nfn.closest = function (comparator) {\n    var filtered = this.filter(comparator);\n    if (filtered.length)\n        return filtered;\n    var $parent = this.parent();\n    if (!$parent.length)\n        return filtered;\n    return $parent.closest(comparator);\n};\nfn.siblings = function (comparator) {\n    return filtered(cash(unique(pluck(this, function (ele) { return cash(ele).parent().children().not(ele); }))), comparator);\n};\nfn.find = function (selector) {\n    return cash(unique(pluck(this, function (ele) { return find(selector, ele); })));\n};\n// @require core/variables.ts\n// @require collection/filter.ts\n// @require traversal/find.ts\nvar HTMLCDATARe = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\nvar scriptTypeRe = /^$|^module$|\\/(java|ecma)script/i;\nvar scriptAttributes = ['type', 'src', 'nonce', 'noModule'];\nfunction evalScripts(node, doc) {\n    var collection = cash(node);\n    collection.filter('script').add(collection.find('script')).each(function (i, ele) {\n        if (scriptTypeRe.test(ele.type) && docEle.contains(ele)) { // The script type is supported // The element is attached to the DOM // Using `documentElement` for broader browser support\n            var script_1 = createElement('script');\n            script_1.text = ele.textContent.replace(HTMLCDATARe, '');\n            each(scriptAttributes, function (i, attr) {\n                if (ele[attr])\n                    script_1[attr] = ele[attr];\n            });\n            doc.head.insertBefore(script_1, null);\n            doc.head.removeChild(script_1);\n        }\n    });\n}\n// @require ./eval_scripts.ts\nfunction insertElement(anchor, target, left, inside, evaluate) {\n    if (inside) { // prepend/append\n        anchor.insertBefore(target, left ? anchor.firstChild : null);\n    }\n    else { // before/after\n        if (anchor.nodeName === 'HTML') {\n            anchor.parentNode.replaceChild(target, anchor);\n        }\n        else {\n            anchor.parentNode.insertBefore(target, left ? anchor : anchor.nextSibling);\n        }\n    }\n    if (evaluate) {\n        evalScripts(target, anchor.ownerDocument);\n    }\n}\n// @require ./insert_element.ts\nfunction insertSelectors(selectors, anchors, inverse, left, inside, reverseLoop1, reverseLoop2, reverseLoop3) {\n    each(selectors, function (si, selector) {\n        each(cash(selector), function (ti, target) {\n            each(cash(anchors), function (ai, anchor) {\n                var anchorFinal = inverse ? target : anchor;\n                var targetFinal = inverse ? anchor : target;\n                var indexFinal = inverse ? ti : ai;\n                insertElement(anchorFinal, !indexFinal ? targetFinal : targetFinal.cloneNode(true), left, inside, !indexFinal);\n            }, reverseLoop3);\n        }, reverseLoop2);\n    }, reverseLoop1);\n    return anchors;\n}\nfn.after = function () {\n    return insertSelectors(arguments, this, false, false, false, true, true);\n};\nfn.append = function () {\n    return insertSelectors(arguments, this, false, false, true);\n};\nfunction html(html) {\n    if (!arguments.length)\n        return this[0] && this[0].innerHTML;\n    if (isUndefined(html))\n        return this;\n    var hasScript = /<script[\\s>]/.test(html);\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        if (hasScript) {\n            cash(ele).empty().append(html);\n        }\n        else {\n            ele.innerHTML = html;\n        }\n    });\n}\nfn.html = html;\nfn.appendTo = function (selector) {\n    return insertSelectors(arguments, this, true, false, true);\n};\nfn.wrapInner = function (selector) {\n    return this.each(function (i, ele) {\n        var $ele = cash(ele);\n        var contents = $ele.contents();\n        contents.length ? contents.wrapAll(selector) : $ele.append(selector);\n    });\n};\nfn.before = function () {\n    return insertSelectors(arguments, this, false, true);\n};\nfn.wrapAll = function (selector) {\n    var structure = cash(selector);\n    var wrapper = structure[0];\n    while (wrapper.children.length)\n        wrapper = wrapper.firstElementChild;\n    this.first().before(structure);\n    return this.appendTo(wrapper);\n};\nfn.wrap = function (selector) {\n    return this.each(function (i, ele) {\n        var wrapper = cash(selector)[0];\n        cash(ele).wrapAll(!i ? wrapper : wrapper.cloneNode(true));\n    });\n};\nfn.insertAfter = function (selector) {\n    return insertSelectors(arguments, this, true, false, false, false, false, true);\n};\nfn.insertBefore = function (selector) {\n    return insertSelectors(arguments, this, true, true);\n};\nfn.prepend = function () {\n    return insertSelectors(arguments, this, false, true, true, true, true);\n};\nfn.prependTo = function (selector) {\n    return insertSelectors(arguments, this, true, true, true, false, false, true);\n};\nfn.contents = function () {\n    return cash(unique(pluck(this, function (ele) { return ele.tagName === 'IFRAME' ? [ele.contentDocument] : (ele.tagName === 'TEMPLATE' ? ele.content.childNodes : ele.childNodes); })));\n};\nfn.next = function (comparator, _all, _until) {\n    return filtered(cash(unique(pluck(this, 'nextElementSibling', _all, _until))), comparator);\n};\nfn.nextAll = function (comparator) {\n    return this.next(comparator, true);\n};\nfn.nextUntil = function (until, comparator) {\n    return this.next(comparator, true, until);\n};\nfn.parents = function (comparator, _until) {\n    return filtered(cash(unique(pluck(this, 'parentElement', true, _until))), comparator);\n};\nfn.parentsUntil = function (until, comparator) {\n    return this.parents(comparator, until);\n};\nfn.prev = function (comparator, _all, _until) {\n    return filtered(cash(unique(pluck(this, 'previousElementSibling', _all, _until))), comparator);\n};\nfn.prevAll = function (comparator) {\n    return this.prev(comparator, true);\n};\nfn.prevUntil = function (until, comparator) {\n    return this.prev(comparator, true, until);\n};\nfn.map = function (callback) {\n    return cash(concat.apply([], map.call(this, function (ele, i) { return callback.call(ele, i, ele); })));\n};\nfn.clone = function () {\n    return this.map(function (i, ele) { return ele.cloneNode(true); });\n};\nfn.offsetParent = function () {\n    return this.map(function (i, ele) {\n        var offsetParent = ele.offsetParent;\n        while (offsetParent && computeStyle(offsetParent, 'position') === 'static') {\n            offsetParent = offsetParent.offsetParent;\n        }\n        return offsetParent || docEle;\n    });\n};\nfn.slice = function (start, end) {\n    return cash(slice.call(this, start, end));\n};\n// @require ./cash.ts\nvar dashAlphaRe = /-([a-z])/g;\nfunction camelCase(str) {\n    return str.replace(dashAlphaRe, function (match, letter) { return letter.toUpperCase(); });\n}\nfn.ready = function (callback) {\n    var cb = function () { return setTimeout(callback, 0, cash); };\n    if (doc.readyState !== 'loading') {\n        cb();\n    }\n    else {\n        doc.addEventListener('DOMContentLoaded', cb);\n    }\n    return this;\n};\nfn.unwrap = function () {\n    this.parent().each(function (i, ele) {\n        if (ele.tagName === 'BODY')\n            return;\n        var $ele = cash(ele);\n        $ele.replaceWith($ele.children());\n    });\n    return this;\n};\nfn.offset = function () {\n    var ele = this[0];\n    if (!ele)\n        return;\n    var rect = ele.getBoundingClientRect();\n    return {\n        top: rect.top + win.pageYOffset,\n        left: rect.left + win.pageXOffset\n    };\n};\nfn.position = function () {\n    var ele = this[0];\n    if (!ele)\n        return;\n    var isFixed = (computeStyle(ele, 'position') === 'fixed');\n    var offset = isFixed ? ele.getBoundingClientRect() : this.offset();\n    if (!isFixed) {\n        var doc_1 = ele.ownerDocument;\n        var offsetParent = ele.offsetParent || doc_1.documentElement;\n        while ((offsetParent === doc_1.body || offsetParent === doc_1.documentElement) && computeStyle(offsetParent, 'position') === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent !== ele && isElement(offsetParent)) {\n            var parentOffset = cash(offsetParent).offset();\n            offset.top -= parentOffset.top + computeStyleInt(offsetParent, 'borderTopWidth');\n            offset.left -= parentOffset.left + computeStyleInt(offsetParent, 'borderLeftWidth');\n        }\n    }\n    return {\n        top: offset.top - computeStyleInt(ele, 'marginTop'),\n        left: offset.left - computeStyleInt(ele, 'marginLeft')\n    };\n};\nvar propMap = {\n    /* GENERAL */\n    class: 'className',\n    contenteditable: 'contentEditable',\n    /* LABEL */\n    for: 'htmlFor',\n    /* INPUT */\n    readonly: 'readOnly',\n    maxlength: 'maxLength',\n    tabindex: 'tabIndex',\n    /* TABLE */\n    colspan: 'colSpan',\n    rowspan: 'rowSpan',\n    /* IMAGE */\n    usemap: 'useMap'\n};\nfn.prop = function (prop, value) {\n    if (!prop)\n        return;\n    if (isString(prop)) {\n        prop = propMap[prop] || prop;\n        if (arguments.length < 2)\n            return this[0] && this[0][prop];\n        return this.each(function (i, ele) { ele[prop] = value; });\n    }\n    for (var key in prop) {\n        this.prop(key, prop[key]);\n    }\n    return this;\n};\nfn.removeProp = function (prop) {\n    return this.each(function (i, ele) { delete ele[propMap[prop] || prop]; });\n};\nvar cssVariableRe = /^--/;\n// @require ./variables.ts\nfunction isCSSVariable(prop) {\n    return cssVariableRe.test(prop);\n}\n// @require core/camel_case.ts\n// @require core/cash.ts\n// @require core/each.ts\n// @require core/variables.ts\n// @require ./is_css_variable.ts\nvar prefixedProps = {};\nvar style = div.style;\nvar vendorsPrefixes = ['webkit', 'moz', 'ms'];\nfunction getPrefixedProp(prop, isVariable) {\n    if (isVariable === void 0) { isVariable = isCSSVariable(prop); }\n    if (isVariable)\n        return prop;\n    if (!prefixedProps[prop]) {\n        var propCC = camelCase(prop);\n        var propUC = \"\".concat(propCC[0].toUpperCase()).concat(propCC.slice(1));\n        var props = (\"\".concat(propCC, \" \").concat(vendorsPrefixes.join(\"\".concat(propUC, \" \"))).concat(propUC)).split(' ');\n        each(props, function (i, p) {\n            if (p in style) {\n                prefixedProps[prop] = p;\n                return false;\n            }\n        });\n    }\n    return prefixedProps[prop];\n}\n// @require core/type_checking.ts\n// @require ./is_css_variable.ts\nvar numericProps = {\n    animationIterationCount: true,\n    columnCount: true,\n    flexGrow: true,\n    flexShrink: true,\n    fontWeight: true,\n    gridArea: true,\n    gridColumn: true,\n    gridColumnEnd: true,\n    gridColumnStart: true,\n    gridRow: true,\n    gridRowEnd: true,\n    gridRowStart: true,\n    lineHeight: true,\n    opacity: true,\n    order: true,\n    orphans: true,\n    widows: true,\n    zIndex: true\n};\nfunction getSuffixedValue(prop, value, isVariable) {\n    if (isVariable === void 0) { isVariable = isCSSVariable(prop); }\n    return !isVariable && !numericProps[prop] && isNumeric(value) ? \"\".concat(value, \"px\") : value;\n}\nfunction css(prop, value) {\n    if (isString(prop)) {\n        var isVariable_1 = isCSSVariable(prop);\n        prop = getPrefixedProp(prop, isVariable_1);\n        if (arguments.length < 2)\n            return this[0] && computeStyle(this[0], prop, isVariable_1);\n        if (!prop)\n            return this;\n        value = getSuffixedValue(prop, value, isVariable_1);\n        return this.each(function (i, ele) {\n            if (!isElement(ele))\n                return;\n            if (isVariable_1) {\n                ele.style.setProperty(prop, value);\n            }\n            else {\n                ele.style[prop] = value;\n            }\n        });\n    }\n    for (var key in prop) {\n        this.css(key, prop[key]);\n    }\n    return this;\n}\n;\nfn.css = css;\nfunction attempt(fn, arg) {\n    try {\n        return fn(arg);\n    }\n    catch (_a) {\n        return arg;\n    }\n}\n// @require core/attempt.ts\n// @require core/camel_case.ts\nvar JSONStringRe = /^\\s+|\\s+$/;\nfunction getData(ele, key) {\n    var value = ele.dataset[key] || ele.dataset[camelCase(key)];\n    if (JSONStringRe.test(value))\n        return value;\n    return attempt(JSON.parse, value);\n}\n// @require core/attempt.ts\n// @require core/camel_case.ts\nfunction setData(ele, key, value) {\n    value = attempt(JSON.stringify, value);\n    ele.dataset[camelCase(key)] = value;\n}\nfunction data(name, value) {\n    if (!name) {\n        if (!this[0])\n            return;\n        var datas = {};\n        for (var key in this[0].dataset) {\n            datas[key] = getData(this[0], key);\n        }\n        return datas;\n    }\n    if (isString(name)) {\n        if (arguments.length < 2)\n            return this[0] && getData(this[0], name);\n        if (isUndefined(value))\n            return this;\n        return this.each(function (i, ele) { setData(ele, name, value); });\n    }\n    for (var key in name) {\n        this.data(key, name[key]);\n    }\n    return this;\n}\nfn.data = data;\nfunction getDocumentDimension(doc, dimension) {\n    var docEle = doc.documentElement;\n    return Math.max(doc.body[\"scroll\".concat(dimension)], docEle[\"scroll\".concat(dimension)], doc.body[\"offset\".concat(dimension)], docEle[\"offset\".concat(dimension)], docEle[\"client\".concat(dimension)]);\n}\neach([true, false], function (i, outer) {\n    each(['Width', 'Height'], function (i, prop) {\n        var name = \"\".concat(outer ? 'outer' : 'inner').concat(prop);\n        fn[name] = function (includeMargins) {\n            if (!this[0])\n                return;\n            if (isWindow(this[0]))\n                return outer ? this[0][\"inner\".concat(prop)] : this[0].document.documentElement[\"client\".concat(prop)];\n            if (isDocument(this[0]))\n                return getDocumentDimension(this[0], prop);\n            return this[0][\"\".concat(outer ? 'offset' : 'client').concat(prop)] + (includeMargins && outer ? computeStyleInt(this[0], \"margin\".concat(i ? 'Top' : 'Left')) + computeStyleInt(this[0], \"margin\".concat(i ? 'Bottom' : 'Right')) : 0);\n        };\n    });\n});\neach(['Width', 'Height'], function (index, prop) {\n    var propLC = prop.toLowerCase();\n    fn[propLC] = function (value) {\n        if (!this[0])\n            return isUndefined(value) ? undefined : this;\n        if (!arguments.length) {\n            if (isWindow(this[0]))\n                return this[0].document.documentElement[\"client\".concat(prop)];\n            if (isDocument(this[0]))\n                return getDocumentDimension(this[0], prop);\n            return this[0].getBoundingClientRect()[propLC] - getExtraSpace(this[0], !index);\n        }\n        var valueNumber = parseInt(value, 10);\n        return this.each(function (i, ele) {\n            if (!isElement(ele))\n                return;\n            var boxSizing = computeStyle(ele, 'boxSizing');\n            ele.style[propLC] = getSuffixedValue(propLC, valueNumber + (boxSizing === 'border-box' ? getExtraSpace(ele, !index) : 0));\n        });\n    };\n});\nvar displayProperty = '___cd';\nfn.toggle = function (force) {\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        var hidden = isHidden(ele);\n        var show = isUndefined(force) ? hidden : force;\n        if (show) {\n            ele.style.display = ele[displayProperty] || '';\n            if (isHidden(ele)) {\n                ele.style.display = getDefaultDisplay(ele.tagName);\n            }\n        }\n        else if (!hidden) {\n            ele[displayProperty] = computeStyle(ele, 'display');\n            ele.style.display = 'none';\n        }\n    });\n};\nfn.hide = function () {\n    return this.toggle(false);\n};\nfn.show = function () {\n    return this.toggle(true);\n};\nvar eventsNamespace = '___ce';\nvar eventsNamespacesSeparator = '.';\nvar eventsFocus = { focus: 'focusin', blur: 'focusout' };\nvar eventsHover = { mouseenter: 'mouseover', mouseleave: 'mouseout' };\nvar eventsMouseRe = /^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;\n// @require ./variables.ts\nfunction getEventNameBubbling(name) {\n    return eventsHover[name] || eventsFocus[name] || name;\n}\n// @require ./variables.ts\nfunction parseEventName(eventName) {\n    var parts = eventName.split(eventsNamespacesSeparator);\n    return [parts[0], parts.slice(1).sort()]; // [name, namespace[]]\n}\nfn.trigger = function (event, data) {\n    if (isString(event)) {\n        var _a = parseEventName(event), nameOriginal = _a[0], namespaces = _a[1];\n        var name_1 = getEventNameBubbling(nameOriginal);\n        if (!name_1)\n            return this;\n        var type = eventsMouseRe.test(name_1) ? 'MouseEvents' : 'HTMLEvents';\n        event = doc.createEvent(type);\n        event.initEvent(name_1, true, true);\n        event.namespace = namespaces.join(eventsNamespacesSeparator);\n        event.___ot = nameOriginal;\n    }\n    event.___td = data;\n    var isEventFocus = (event.___ot in eventsFocus);\n    return this.each(function (i, ele) {\n        if (isEventFocus && isFunction(ele[event.___ot])) {\n            ele[\"___i\".concat(event.type)] = true; // Ensuring the native event is ignored\n            ele[event.___ot]();\n            ele[\"___i\".concat(event.type)] = false; // Ensuring the custom event is not ignored\n        }\n        ele.dispatchEvent(event);\n    });\n};\n// @require ./variables.ts\nfunction getEventsCache(ele) {\n    return ele[eventsNamespace] = (ele[eventsNamespace] || {});\n}\n// @require core/guid.ts\n// @require events/helpers/get_events_cache.ts\nfunction addEvent(ele, name, namespaces, selector, callback) {\n    var eventCache = getEventsCache(ele);\n    eventCache[name] = (eventCache[name] || []);\n    eventCache[name].push([namespaces, selector, callback]);\n    ele.addEventListener(name, callback);\n}\nfunction hasNamespaces(ns1, ns2) {\n    return !ns2 || !some.call(ns2, function (ns) { return ns1.indexOf(ns) < 0; });\n}\n// @require ./get_events_cache.ts\n// @require ./has_namespaces.ts\n// @require ./parse_event_name.ts\nfunction removeEvent(ele, name, namespaces, selector, callback) {\n    var cache = getEventsCache(ele);\n    if (!name) {\n        for (name in cache) {\n            removeEvent(ele, name, namespaces, selector, callback);\n        }\n    }\n    else if (cache[name]) {\n        cache[name] = cache[name].filter(function (_a) {\n            var ns = _a[0], sel = _a[1], cb = _a[2];\n            if ((callback && cb.guid !== callback.guid) || !hasNamespaces(ns, namespaces) || (selector && selector !== sel))\n                return true;\n            ele.removeEventListener(name, cb);\n        });\n    }\n}\nfn.off = function (eventFullName, selector, callback) {\n    var _this = this;\n    if (isUndefined(eventFullName)) {\n        this.each(function (i, ele) {\n            if (!isElement(ele) && !isDocument(ele) && !isWindow(ele))\n                return;\n            removeEvent(ele);\n        });\n    }\n    else if (!isString(eventFullName)) {\n        for (var key in eventFullName) {\n            this.off(key, eventFullName[key]);\n        }\n    }\n    else {\n        if (isFunction(selector)) {\n            callback = selector;\n            selector = '';\n        }\n        each(getSplitValues(eventFullName), function (i, eventFullName) {\n            var _a = parseEventName(eventFullName), nameOriginal = _a[0], namespaces = _a[1];\n            var name = getEventNameBubbling(nameOriginal);\n            _this.each(function (i, ele) {\n                if (!isElement(ele) && !isDocument(ele) && !isWindow(ele))\n                    return;\n                removeEvent(ele, name, namespaces, selector, callback);\n            });\n        });\n    }\n    return this;\n};\nfn.remove = function (comparator) {\n    filtered(this, comparator).detach().off();\n    return this;\n};\nfn.replaceWith = function (selector) {\n    return this.before(selector).remove();\n};\nfn.replaceAll = function (selector) {\n    cash(selector).replaceWith(this);\n    return this;\n};\nfunction on(eventFullName, selector, data, callback, _one) {\n    var _this = this;\n    if (!isString(eventFullName)) {\n        for (var key in eventFullName) {\n            this.on(key, selector, data, eventFullName[key], _one);\n        }\n        return this;\n    }\n    if (!isString(selector)) {\n        if (isUndefined(selector) || isNull(selector)) {\n            selector = '';\n        }\n        else if (isUndefined(data)) {\n            data = selector;\n            selector = '';\n        }\n        else {\n            callback = data;\n            data = selector;\n            selector = '';\n        }\n    }\n    if (!isFunction(callback)) {\n        callback = data;\n        data = undefined;\n    }\n    if (!callback)\n        return this;\n    each(getSplitValues(eventFullName), function (i, eventFullName) {\n        var _a = parseEventName(eventFullName), nameOriginal = _a[0], namespaces = _a[1];\n        var name = getEventNameBubbling(nameOriginal);\n        var isEventHover = (nameOriginal in eventsHover);\n        var isEventFocus = (nameOriginal in eventsFocus);\n        if (!name)\n            return;\n        _this.each(function (i, ele) {\n            if (!isElement(ele) && !isDocument(ele) && !isWindow(ele))\n                return;\n            var finalCallback = function (event) {\n                if (event.target[\"___i\".concat(event.type)])\n                    return event.stopImmediatePropagation(); // Ignoring native event in favor of the upcoming custom one\n                if (event.namespace && !hasNamespaces(namespaces, event.namespace.split(eventsNamespacesSeparator)))\n                    return;\n                if (!selector && ((isEventFocus && (event.target !== ele || event.___ot === name)) || (isEventHover && event.relatedTarget && ele.contains(event.relatedTarget))))\n                    return;\n                var thisArg = ele;\n                if (selector) {\n                    var target = event.target;\n                    while (!matches(target, selector)) {\n                        if (target === ele)\n                            return;\n                        target = target.parentNode;\n                        if (!target)\n                            return;\n                    }\n                    thisArg = target;\n                }\n                Object.defineProperty(event, 'currentTarget', {\n                    configurable: true,\n                    get: function () {\n                        return thisArg;\n                    }\n                });\n                Object.defineProperty(event, 'delegateTarget', {\n                    configurable: true,\n                    get: function () {\n                        return ele;\n                    }\n                });\n                Object.defineProperty(event, 'data', {\n                    configurable: true,\n                    get: function () {\n                        return data;\n                    }\n                });\n                var returnValue = callback.call(thisArg, event, event.___td);\n                if (_one) {\n                    removeEvent(ele, name, namespaces, selector, finalCallback);\n                }\n                if (returnValue === false) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n            };\n            finalCallback.guid = callback.guid = (callback.guid || cash.guid++);\n            addEvent(ele, name, namespaces, selector, finalCallback);\n        });\n    });\n    return this;\n}\nfn.on = on;\nfunction one(eventFullName, selector, data, callback) {\n    return this.on(eventFullName, selector, data, callback, true);\n}\n;\nfn.one = one;\nvar queryEncodeCRLFRe = /\\r?\\n/g;\nfunction queryEncode(prop, value) {\n    return \"&\".concat(encodeURIComponent(prop), \"=\").concat(encodeURIComponent(value.replace(queryEncodeCRLFRe, '\\r\\n')));\n}\nvar skippableRe = /file|reset|submit|button|image/i;\nvar checkableRe = /radio|checkbox/i;\nfn.serialize = function () {\n    var query = '';\n    this.each(function (i, ele) {\n        each(ele.elements || [ele], function (i, ele) {\n            if (ele.disabled || !ele.name || ele.tagName === 'FIELDSET' || skippableRe.test(ele.type) || (checkableRe.test(ele.type) && !ele.checked))\n                return;\n            var value = getValue(ele);\n            if (!isUndefined(value)) {\n                var values = isArray(value) ? value : [value];\n                each(values, function (i, value) {\n                    query += queryEncode(ele.name, value);\n                });\n            }\n        });\n    });\n    return query.slice(1);\n};\n// @require core/types.ts\n// @require core/cash.ts\n// @require core/type_checking.ts\n// @require core/variables.ts\n// @require core/each.ts\n// @require core/extend.ts\n// @require core/find.ts\n// @require core/get_compare_function.ts\n// @require core/get_split_values.ts\n// @require core/guid.ts\n// @require core/parse_html.ts\n// @require core/unique.ts\n// @require attributes/add_class.ts\n// @require attributes/attr.ts\n// @require attributes/has_class.ts\n// @require attributes/prop.ts\n// @require attributes/remove_attr.ts\n// @require attributes/remove_class.ts\n// @require attributes/remove_prop.ts\n// @require attributes/toggle_class.ts\n// @require collection/add.ts\n// @require collection/each.ts\n// @require collection/eq.ts\n// @require collection/filter.ts\n// @require collection/first.ts\n// @require collection/get.ts\n// @require collection/index.ts\n// @require collection/last.ts\n// @require collection/map.ts\n// @require collection/slice.ts\n// @require css/css.ts\n// @require data/data.ts\n// @require dimensions/inner_outer.ts\n// @require dimensions/normal.ts\n// @require effects/hide.ts\n// @require effects/show.ts\n// @require effects/toggle.ts\n// @require events/off.ts\n// @require events/on.ts\n// @require events/one.ts\n// @require events/ready.ts\n// @require events/trigger.ts\n// @require forms/serialize.ts\n// @require forms/val.ts\n// @require manipulation/after.ts\n// @require manipulation/append.ts\n// @require manipulation/append_to.ts\n// @require manipulation/before.ts\n// @require manipulation/clone.ts\n// @require manipulation/detach.ts\n// @require manipulation/empty.ts\n// @require manipulation/html.ts\n// @require manipulation/insert_after.ts\n// @require manipulation/insert_before.ts\n// @require manipulation/prepend.ts\n// @require manipulation/prepend_to.ts\n// @require manipulation/remove.ts\n// @require manipulation/replace_all.ts\n// @require manipulation/replace_with.ts\n// @require manipulation/text.ts\n// @require manipulation/unwrap.ts\n// @require manipulation/wrap.ts\n// @require manipulation/wrap_all.ts\n// @require manipulation/wrap_inner.ts\n// @require offset/offset.ts\n// @require offset/offset_parent.ts\n// @require offset/position.ts\n// @require traversal/children.ts\n// @require traversal/closest.ts\n// @require traversal/contents.ts\n// @require traversal/find.ts\n// @require traversal/has.ts\n// @require traversal/is.ts\n// @require traversal/next.ts\n// @require traversal/next_all.ts\n// @require traversal/next_until.ts\n// @require traversal/not.ts\n// @require traversal/parent.ts\n// @require traversal/parents.ts\n// @require traversal/parents_until.ts\n// @require traversal/prev.ts\n// @require traversal/prev_all.ts\n// @require traversal/prev_until.ts\n// @require traversal/siblings.ts\n// @no-require extras/get_script.ts\n// @no-require extras/shorthands.ts\n// @require methods.ts\nif (typeof exports !== 'undefined') { // Node.js\n    module.exports = cash;\n}\nelse { // Browser\n    win['cash'] = win['$'] = cash;\n}\n})();", "import type { LogFn } from './Logger.js'\n\nexport interface LoaderLogger {\n  debug: LogFn\n  error: LogFn\n  info: LogFn\n  trace: LogFn\n  warn: LogFn\n}\n\nexport declare interface InspectablePromise<T> extends Promise<T> {\n  isFulfilled: () => boolean\n  isPending: () => boolean\n  isRejected: () => boolean\n}\n\nexport var InspectablePromiseMake = function <T>(promise: Promise<T>): InspectablePromise<T> {\n  // Set initial state\n  var isPending = true\n  var isRejected = false\n  var isFulfilled = false\n\n  // Observe the promise, saving the fulfillment in a closure scope.\n  var result: InspectablePromise<T> = promise.then(\n    function (v) {\n      isFulfilled = true\n      isPending = false\n      return v\n    },\n    function (e) {\n      isRejected = true\n      isPending = false\n      throw e\n    }\n  ) as InspectablePromise<T>\n\n  result.isFulfilled = function (): boolean {\n    return isFulfilled\n  }\n  result.isPending = function (): boolean {\n    return isPending\n  }\n  result.isRejected = function (): boolean {\n    return isRejected\n  }\n  return result\n}\n\nexport function AddCSS(name: string, styles: string): void {\n  // Check if a style element with the given name already exists\n  let styleElement = document.getElementById(name) as HTMLStyleElement\n\n  if (!styleElement) {\n    // Create a new style element\n    styleElement = document.createElement('style')\n    styleElement.id = name\n    document.head.appendChild(styleElement)\n  }\n\n  // Set the inner content of the style element to the provided styles\n  styleElement.innerHTML = styles\n}\n\nexport function AddLess(name: string, lessStyles: string): void {\n  // Check if a style element with the given name already exists\n  let styleElement = document.getElementById(name) as HTMLStyleElement\n\n  if (!styleElement) {\n    // Create a new style element\n    styleElement = document.createElement('style')\n    styleElement.id = name\n    document.head.appendChild(styleElement)\n  }\n\n  // Compile the LESS code to CSS\n  less.render(lessStyles)\n    .then((output: any) => {\n      // Set the compiled CSS to the style element\n      styleElement.innerHTML = output.css\n    })\n    .catch((error: any) => {\n      console.error('Failed to compile LESS:', error)\n    })\n}\n\nexport abstract class Loader {\n  public assetPromiseResolves: { [k: string]: any }\n\n  public assetPromises: { [k: string]: InspectablePromise<any> }\n\n  public conf!: { [k: string]: any }\n\n  public filePromises: { [k: string]: InspectablePromise<any> }\n\n  public logger: LoaderLogger\n  public multiFileDelimiter: string\n  public stylesheets: HTMLStyleElement[]\n\n  constructor(logger: LoaderLogger) {\n    this.assetPromises = {}\n    this.assetPromiseResolves = {}\n    this.filePromises = {}\n    this.logger = logger\n    this.multiFileDelimiter = encodeURIComponent('\\n#########BREAK#########')\n    this.stylesheets = []\n  }\n\n  public assetKeyToUrl(key: string): string {\n    var segments = key.split(':')\n    var assetType = segments[0]\n    var assetId = segments[1]\n\n    throw new Error('method not implemented')\n  }\n\n  public pendingPromisesGet() {\n    var pending: string[] = []\n    var unknown: string[] = []\n    for (var assetKey in this.assetPromises) {\n      var promise = this.assetPromises[assetKey]\n      if (promise.isPending) {\n        if (promise.isPending()) {\n          pending.push(assetKey)\n        }\n      } else unknown.push(assetKey)\n    }\n\n    return { pending, unknown }\n  }\n\n  public async require(\n    keys: (string | Promise<any>)[],\n    goalCallback?: (bytes: number) => void,\n    progressCallback?: (bytes: number) => void\n  ): Promise<any[]> {\n    var assets: any[] = []\n\n    if (keys == undefined || keys == null) return []\n    if (!Array.isArray(keys)) keys = [keys]\n    if (keys.length == 0) return []\n\n    var promises: Promise<any>[] = []\n    for (let i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      if (key instanceof Promise)\n        promises.push(key)\n      else\n        promises.push(\n          this.promiseAsset(key, goalCallback, progressCallback).then((asset: any) => {\n            assets[i] = asset\n          })\n        )\n    }\n\n    await Promise.all(promises)\n      .catch(err => {\n        console.log(`failed to require ${keys}`)\n        console.log(err)\n      })\n\n    return assets\n  }\n\n  public transformAssetKey(key: string): string {\n    return key\n  }\n\n  public abstract promiseAsset(\n    key: string,\n    goalCallback?: (bytes: number) => void,\n    progressCallback?: (bytes: number) => void\n  ): any\n}\n", "import {\n  Loader as CoreLoader,\n  AddLess,\n  AddCSS,\n  InspectablePromiseMake\n} from './satori/Loader.js'\nexport { AddCSS, AddLess } from './satori/Loader.js'\n\n// see https://github.com/axios/axios\nconst requestConfigDefault: RequestConfig = {\n  'headers': { 'Content-Type': 'application/json' },\n  'responseType': 'text',\n}\n\nvar responseTransform = function <T>(\n  type: string,\n  goalCallback?: (bytes: number) => void,\n  progressCallback?: (bytes: number) => void\n): (Response: Response) => Promise<T> {\n  return async (response: Response): Promise<T> => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status} ${response.statusText}`)\n    } else if (response.body === null) {\n      throw new Error('Response body is null. This may be due to a CORS issue or the server not returning a body.')\n    }\n\n    // Step 1: obtain a reader\n    const reader = response.body.getReader()\n\n    // Step 2: get total length\n    const contentLengthStr = response.headers.get('Content-Length')!\n    var contentLength = parseInt(contentLengthStr)\n    if (isNaN(contentLength)) contentLength = 0\n    goalCallback && goalCallback(contentLength)\n\n    // Step 3: read the data\n    let receivedLength = 0 // received that many bytes at the moment\n    const chunks: Uint8Array[] = [] // array of received binary chunks (comprises the body)\n    while (true) {\n      const { done, value } = await reader.read()\n\n      if (done) {\n        break\n      }\n\n      chunks.push(value)\n      receivedLength += value.length\n\n      progressCallback && progressCallback(value.length)\n    }\n\n    // Step 4: concatenate chunks into single Uint8Array\n    const chunksAll = new Uint8Array(receivedLength) // (4.1)\n    let position = 0\n    for (const chunk of chunks) {\n      chunksAll.set(chunk, position) // (4.2)\n      position += chunk.length\n    }\n\n    // Step 5: decode into a string\n    const result = new TextDecoder('utf-8').decode(chunksAll)\n\n    if (type == 'text' || type == 'text/plain') {\n      return result as unknown as T\n    } else if (type == 'json' || type == 'text/json') {\n      return JSON.parse(result) as unknown as T\n    } else {\n      throw new Error('unknown response type ' + type)\n    }\n  }\n}\n\ndeclare interface ThemeGetResponse {\n  data: {\n    docs: {\n      toReturn: object[]\n    }\n  }\n}\n\nexport declare interface RequestConfig {\n  timeout?: string\n  headers?: { [k: string]: string }\n  responseType: string\n  params?: object\n}\n\nexport class Loader extends CoreLoader {\n  loadingAnim: HTMLElement | null\n  mergedStylesheet: any\n  mergedStylesheets: string = ''\n  themes: { [k: string]: any }\n\n\n  static getParameterByName(name: string, url: string) {\n    if (!url) url = window.location.href\n    name = name.replace(/[[\\]]/g, '\\\\$&')\n    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n      results = regex.exec(url)\n    if (!results) return null\n    if (!results[2]) return ''\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n  }\n\n  constructor() {\n    super(console)\n    this.themes = {}\n    this.loadingAnim = document.getElementById('loadingAnim')\n  }\n\n\n  promisePost<T>(\n    url: string,\n    data?: object,\n    config: RequestConfig = requestConfigDefault,\n    goalCallback?: (bytes: number) => void,\n    progressCallback?: (bytes: number) => void\n  ): Promise<T> {\n    return new Promise((resolve, reject) => {\n      fetch(url, {\n        method: 'POST', // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors', // no-cors, *cors, same-origin\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: 'same-origin', // include, *same-origin, omit\n        headers: config.headers,\n        redirect: 'follow', // manual, *follow, error\n        referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n        body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n      }).then(responseTransform(config.responseType, goalCallback, progressCallback))\n        .then(resolution => resolve(resolution as T))\n        .catch(error => {\n          if (error && error.response) reject(error.response)\n          else reject(error)\n        })\n    })\n  }\n\n  promiseDelete<T>(\n    url: string,\n    data?: object,\n    config: RequestConfig = requestConfigDefault,\n    goalCallback?: (bytes: number) => void,\n    progressCallback?: (bytes: number) => void\n  ): Promise<T> {\n    return new Promise((resolve, reject) => {\n      var myConfig: RequestConfig = Object.assign({}, config) as RequestConfig\n      myConfig.params = Object.assign({}, data)\n\n      fetch(url, {\n        method: 'DELETE', // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors', // no-cors, *cors, same-origin\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: 'same-origin', // include, *same-origin, omit\n        headers: config.headers,\n        redirect: 'follow', // manual, *follow, error\n        referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n      }).then(responseTransform(config.responseType, goalCallback, progressCallback))\n        .then(value => resolve(value as T))\n        .catch(error => {\n          if (error && error.response) reject(error.response)\n          else reject(error)\n        })\n    })\n  }\n\n  promiseGet<T>(\n    url: string,\n    data?: Record<string, any>,\n    config: RequestConfig = requestConfigDefault,\n    goalCallback?: (bytes: number) => void,\n    progressCallback?: (bytes: number) => void\n  ): Promise<T> {\n    return new Promise((resolve, reject) => {\n      var query = ''\n      if (data)\n        for (var key in data) {\n          if (data[key] == undefined) continue\n          var arg = encodeURIComponent(data[key])\n          query += `${key}=${arg}&`\n        }\n\n      return fetch(`${url}${query ? `?${query}` : ''}`, {\n        method: 'GET', // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors', // no-cors, *cors, same-origin\n        cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: 'same-origin', // include, *same-origin, omit\n        headers: config.headers,\n        redirect: 'follow', // manual, *follow, error\n        referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n      }).then(responseTransform(config.responseType, goalCallback, progressCallback))\n        .then(resolution => resolve(resolution as T))\n        .catch(error => {\n          if (error && error.response) reject(error.response)\n          else reject(error)\n        })\n    })\n  }\n\n  promiseSleep(duration: number): Promise<void> {\n    return new Promise((resolve, reject) => { setTimeout(resolve, duration) })\n  }\n\n  promiseAsset(\n    key: string,\n    goalCallback?: (bytes: number) => void,\n    progressCallback?: (bytes: number) => void\n  ) {\n    key = this.transformAssetKey(key)\n\n    // Already requested the asset?\n    var inspectableAssetPromise = this.assetPromises[key]\n    if (inspectableAssetPromise) return inspectableAssetPromise\n\n    var assetPromise: Promise<any>\n    var filePromise: Promise<any> | undefined\n\n    // Already requested the file?\n    var url = this.assetKeyToUrl(key)\n\n    var segments = key.split(':')\n    var assetType = segments[0]\n    var assetId = segments[1]\n\n    // Make a new one.\n    if (assetType == 'less') {\n      filePromise = this.filePromises[url]\n      if (!filePromise)\n        filePromise = this.promiseGet<string>(url, undefined, undefined, goalCallback, progressCallback).then(rawData => { this.appendMergedStylesheet(rawData) })\n      assetPromise = filePromise\n    } else if (assetType == 'module') {\n      if (this.conf.RUN_MODE == 'prod') {\n        // in prod we do this so that the loading bar is accurate\n        filePromise = this.filePromises[url]\n        if (!filePromise)\n          filePromise = this.promiseGet<string>(url, undefined, undefined, goalCallback, progressCallback).then((rawData: string) => {\n            const dataUri = 'data:text/javascript;charset=utf-8,' + encodeURIComponent(rawData)\n            return import(dataUri)\n          })\n        assetPromise = filePromise\n      } else {\n        // but since we haven't found a technique to get loading progress and sourcemapping, we do this in dev...\n        assetPromise = import(url)\n      }\n    } else if (assetType == 'script-ext') {\n      filePromise = this.filePromises[url]\n      if (!filePromise)\n        filePromise = this.promiseGet<string>(url, undefined, undefined, goalCallback, progressCallback)\n          // @ts-ignore\n          // filePromise = this.promiseGet<string>(url, undefined, { mode: 'no-cors' }, goalCallback, progressCallback)\n          .then(rawData => this.promiseLoadScript(rawData))\n      assetPromise = filePromise\n    } else if (assetType == 'script-tag') {\n      assetPromise = this.assetPromises[key]\n      if (!assetPromise) {\n        assetPromise = new Promise<any>((resolve, reject) => {\n          var s = document.createElement('script')\n          // Hack for better Safari Visibility\n          //s.src = `data:application/javascript;utf8, ${encodeURIComponent(file)}`;\n          s.crossOrigin = 'anonymous'\n          s.src = url\n          s.type = 'text/javascript'\n          s.onload = resolve\n          s.onerror = reject\n          document.head.append(s)\n        })\n      }\n    } else if (assetType == 'script') {\n      if (false) {\n        assetPromise = new Promise((resolve, reject) => {\n          var s = document.createElement('script')\n          s.type = 'text/javascript'\n          s.src = url\n          s.onload = resolve\n          document.head.append(s)\n        })\n      } else {\n        filePromise = this.filePromises[url]\n        if (!filePromise) {\n          filePromise = this.promiseGet<string>(url, undefined, undefined, goalCallback, progressCallback).then(rawData => {\n            var files = rawData.split(/#########BREAK#########/g)\n            files.forEach(file => this.promiseLoadScript(file))\n          })\n        }\n        assetPromise = filePromise\n      }\n    } else if (assetType == 'css') {\n      assetPromise = this.promiseGet<string>(url, undefined, undefined, goalCallback, progressCallback).then(rawData => {\n        AddLess(url, rawData)\n        return rawData\n      })\n    } else if (assetType == 'template') {\n      filePromise = this.filePromises[url]\n      if (!filePromise) {\n        filePromise = this.promiseGet(url, undefined, undefined, goalCallback, progressCallback).then(rawData => {\n          var foundAssets: Record<string, any> = {}\n          if (url.endsWith('_Mod.html')) {\n            var regex = /###TEMPLATESTART###(.+?)###TEMPLATESTART###((.|\\n)+?)###TEMPLATEEND######TEMPLATEEND###/g\n            var match\n            while ((match = regex.exec(rawData as string)) !== null) {\n              foundAssets[`template:${match[1]}`] = match[2]\n            }\n          } else {\n            foundAssets[key] = rawData\n          }\n          return foundAssets\n        })\n      }\n\n      assetPromise = filePromise.then(foundAssets => {\n        return foundAssets[key]\n      })\n    } else if (assetType == 'font') {\n      var [family, style, weight, local] = assetId.split('|')\n\n      var rule = `font-family: ${family}; font-style: ${style}; font-weight: ${weight}; src: local('${local}'), url('${url}') format('truetype');`\n      var styleElement = document.createElement('style')\n      // styleElement.type = 'text/css'\n      styleElement.setAttribute('rel', 'stylesheet')\n      // styleElement.rel = 'stylesheet'\n      styleElement.title = 'dynamicSheet'\n      styleElement.setAttribute('title', 'dynamicSheet')\n      styleElement.innerHTML = styleElement.innerHTML + '@font-face {' + rule + '}'\n      document.head.appendChild(styleElement)\n\n      // do this to prioritize font loading\n      var preload = document.createElement('link')\n      preload.rel = 'preload'\n      preload.href = url\n      preload.type = 'font/truetype'\n      preload.as = 'font'\n      preload.crossOrigin = 'anonymous'\n      document.head.appendChild(styleElement)\n\n      assetPromise = Promise.resolve()\n    } else {\n      throw new Error('no handler found to load asset \"' + key + '\"')\n    }\n\n    assetPromise = assetPromise.catch(function (err) {\n      console.error(`error loading ${key}`)\n      console.error(err)\n    })\n\n    if (assetPromise)\n      this.assetPromises[key] = InspectablePromiseMake(assetPromise)\n    if (filePromise)\n      this.filePromises[url] = InspectablePromiseMake(filePromise)\n    return assetPromise\n  }\n\n  promiseLoadScript(file: string) {\n    var isModule = file.match(/\\/\\/ MODULE\\n/)\n    var sourceUrlMatch = file.match(/sourceURL=(\\S+)/)\n\n    var s = document.createElement('script')\n    // Hack for better Safari Visibility\n    //s.src = `data:application/javascript;utf8, ${encodeURIComponent(file)}`;\n    if (isModule) {\n      s.text = `${file.slice(10)}\\n`\n      s.setAttribute('type', 'module')\n      s.crossOrigin = 'anonymous'\n      if (sourceUrlMatch) {\n        console.log(sourceUrlMatch[1])\n        s.setAttribute('src', sourceUrlMatch[1])\n      }\n    } else {\n      s.crossOrigin = 'anonymous'\n      s.text = file\n      s.type = 'text/javascript'\n      if (sourceUrlMatch) {\n        console.log(sourceUrlMatch[1])\n        s.setAttribute('file', sourceUrlMatch[1])\n      }\n    }\n\n    document.head.append(s)\n  }\n\n  appendMergedStylesheet(rawData: string) {\n    var files = rawData.split('/** THIS IS A CSS BREAK **/')\n    for (var file of files) {\n      var filenameMatch = file.match(/\\* FILE:(\\S+?) \\*/)\n      var style = document.createElement('style') as HTMLStyleElement\n      // style.type = 'text/css'\n      style.setAttribute('type', 'text/css')\n      if (filenameMatch) style.setAttribute('file', filenameMatch[1])\n\n      // if (style.styleSheet) {\n      //   style.styleSheet.cssText = rawData\n      // } else {\n      style.appendChild(document.createTextNode(file))\n      // }\n      document.head.append(style)\n      this.stylesheets.push(style)\n    }\n  }\n\n  // async themePlayByStoreUUID(\n  //   storeUUID: string,\n  //   useCache: boolean = true,\n  //   reload: boolean = false,\n  //   goalCallback?: (bytes: number) => void,\n  //   progressCallback?: (bytes: number) => void\n  // ): Promise<boolean> {\n  //   if (!useCache) {\n  //     delete this.themes[storeUUID]\n  //     this.themeStoreUUID = null\n  //   }\n\n  //   if (this.themeStoreUUID == storeUUID && !reload) return\n  //   this.themeStoreUUID = storeUUID\n\n  //   // Get theme\n  //   var theme = this.themes[storeUUID]\n  //   if (!theme) {\n  //     await this.promisePost<object>(\n  //       `${this.conf.API_SERVER_BASEURL_EXT}/themeGet`,\n  //       { storeUUID },\n  //       { headers: { 'Content-Type': 'application/json' }, responseType: 'json' },\n  //       goalCallback,\n  //       progressCallback,\n  //     ).then((response: ThemeGetResponse) => {\n  //       theme = response.data.docs.toReturn[0]\n  //     })\n  //   }\n\n  //   if (!this.mergedStylesheets) {\n  //     await this.promiseGet<string>(\n  //       `/less?v=${theme.version}&mod=base`,\n  //       undefined,\n  //       undefined,\n  //       goalCallback,\n  //       progressCallback\n  //     ).then(stylesheet => { this.mergedStylesheets = stylesheet })\n  //   }\n\n  //   // Start the switch\n  //   this.themes[storeUUID] = theme\n  //   this.conf.THEME = theme\n\n  //   // Switch the background\n  //   if (this.conf.THEME.thmBgImage)\n  //     document.documentElement.style.backgroundImage = `url('${this.assetKeyToUrl(`image:${this.conf.THEME.thmBgImage}`)}')`\n  //   else\n  //     document.documentElement.style.backgroundColor = this.conf.THEME.thmBgClr\n\n  //   // Save oldStylesheets\n  //   var oldStylesheets = this.stylesheets\n  //   this.stylesheets = []\n\n  //   // Substitute with theme values\n  //   var substitutions = {\n  //     ASSET_SERVER_CDN_BASEURL: this.conf['ASSET_SERVER_CDN_BASEURL']\n  //   }\n\n  //   for (var key in theme) {\n  //     if (!key.startsWith('thm')) continue\n  //     if (key.includes('Clr') ||\n  //       key.includes('Color') ||\n  //       key.includes('Img') ||\n  //       key.includes('Image') ||\n  //       key.includes('Logo') ||\n  //       key.includes('Icon')) {\n  //       substitutions[key] = theme[key]\n  //     }\n  //   }\n\n  //   // for (var key in theme.color) substitutions[`\\#${key}`] = theme.color[key]\n  //   // for (var key in theme.img) substitutions[key] = theme.img[key]\n\n  //   function replaceAll(str, mapObj) {\n  //     var re = new RegExp(Object.keys(mapObj).join('|'), 'gi')\n  //     return str.replace(re, function (matched) {\n  //       return mapObj[matched]\n  //     })\n  //   }\n\n  //   var mergedStylesheetsWithSubs = replaceAll(this.mergedStylesheets, substitutions)\n\n  //   // Swap stylesheets\n  //   this.appendMergedStylesheet(mergedStylesheetsWithSubs)\n  //   oldStylesheets.forEach(ss => ss.remove())\n  // }\n\n  transformAssetKey(key: string) {\n    return key.replace('com.gt.merch.', '').replace('com.gt.zowie.', '')\n  }\n\n  assetKeyToUrl(key: string) {\n    var segments = key.split(':')\n    var assetType = segments[0]\n    var assetId = segments[1]\n\n    if (assetType == 'script-ext' || assetType == 'script-tag') {\n      return segments.slice(1).join(':')\n    }\n    if (assetType == 'script') {\n      return `${this.conf.ASSET_SERVER_CDN_BASEURL}${this.conf.APP_URL_PATH_BASE}/code?v=${this.conf.VERSION}&mod=boot&delimiter=${this.multiFileDelimiter}${this.conf.COMPILE ? '&compile=true' : ''}`\n    }\n    if (assetType == 'module') {\n      return segments.slice(1).join(':')\n    }\n    if (assetType == 'less') {\n      return `${this.conf.ASSET_SERVER_CDN_BASEURL}${this.conf.APP_URL_PATH_BASE}/less?v=${this.conf.THEME.version}&storeUUID=${this.conf.THEME.storeUUID}&mod=base`\n    }\n    if (assetType == 'template') {\n      var assetPath: string = assetId.replace(/\\./g, '/') + '.html'\n      return `${this.conf.ASSET_SERVER_CDN_BASEURL}${this.conf.APP_URL_PATH_BASE}/${assetPath}?v=${this.conf.VERSION}`\n    }\n    if (assetType == 'css') {\n      var assetPath: string = assetId.replace(/\\./g, '/')\n      return assetPath + '.css'\n    }\n    if (assetType == 'font') {\n      var [family, style, weight, local, ttfFile] = assetId.split('|')\n      return `${this.conf.ASSET_SERVER_CDN_BASEURL}${this.conf.APP_URL_PATH_BASE}/font/${ttfFile}?v=${this.conf.VERSION}`\n    }\n    if (assetType == 'image') {\n      var subSegments = assetId.split('|')\n      var path = subSegments[0]\n      var maxW = subSegments[1]\n      var maxH = subSegments[2]\n\n      let maxWNum, maxHNum: number\n      if (maxW) {\n        if (maxW.indexOf('%') > -1) {\n          var w = window.innerWidth\n          maxWNum = (parseInt(maxW.substring(0, maxW.length - 1)) / 100) * (w - (w % 100)) + 100\n        } else\n          maxWNum = parseInt(maxW)\n      } else\n        maxWNum = Number.MAX_SAFE_INTEGER\n\n      if (maxH) {\n        if (maxH && maxH.indexOf('%') > -1) {\n          var h = window.innerHeight\n          maxHNum = (parseInt(maxH.substring(0, maxH.length - 1)) / 100) * (h - (h % 100)) + 100\n        } else\n          maxHNum = parseInt(maxH)\n      } else\n        maxHNum = Number.MAX_SAFE_INTEGER\n\n\n      return `${this.conf.IMAGE_SERVER_URL}?src=${encodeURIComponent(path)}&maxW=${maxW}&maxH=${maxH}`\n    }\n\n    return key\n  }\n\n  getCookie(name: string) {\n    var nameEQ = name + '='\n    var ca = document.cookie.split(';')\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i]\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length)\n      }\n      if (c.indexOf(nameEQ) === 0) {\n        return c.substring(nameEQ.length, c.length)\n      }\n    }\n    return null\n  }\n\n  cookie(key: string, value: string, attributes: Record<string, any>) {\n    throw 'Loader.cookie: unexpected call'\n    var result\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    // Write\n    if (arguments.length > 1) {\n      attributes = Object.assign({ path: '/' }, attributes)\n\n      if (typeof attributes.expires === 'number') {\n        var expires = new Date()\n        expires.setMilliseconds(\n          expires.getMilliseconds() + attributes.expires * 864e5\n        )\n        attributes.expires = expires\n      }\n\n      // We're using \"expires\" because \"max-age\" is not supported by IE\n      attributes.expires = attributes.expires\n        ? attributes.expires.toUTCString()\n        : ''\n\n      value = JSON.stringify(value)\n\n      key = encodeURIComponent(String(key))\n\n      var stringifiedAttributes = ''\n      for (var attributeName in attributes) {\n        if (!attributes[attributeName]) {\n          continue\n        }\n        stringifiedAttributes += '; ' + attributeName\n        if (attributes[attributeName] === true) {\n          continue\n        }\n        stringifiedAttributes += '=' + attributes[attributeName]\n      }\n      return (document.cookie = key + '=' + value + stringifiedAttributes)\n    }\n\n    // Read\n\n    if (!key) {\n      result = {}\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all. Also prevents odd result when\n    // calling \"get()\"\n    var cookies = document.cookie ? document.cookie.split('; ') : []\n    var rdecode = /(%[0-9A-Z]{2})+/g\n\n    var i = 0\n    for (; i < cookies.length; i++) {\n      var parts = cookies[i].split('=')\n      var cookie = parts.slice(1).join('=')\n\n      // if (!this.json && cookie.charAt(0) === '\"') {\n      //   cookie = cookie.slice(1, -1)\n      // }\n\n      var name = parts[0].replace(rdecode, decodeURIComponent)\n      cookie = cookie.replace(rdecode, decodeURIComponent)\n\n      cookie = JSON.parse(cookie)\n\n      if (key === name) {\n        result = cookie\n        break\n      }\n\n      if (!key) {\n        result[name] = cookie\n      }\n    }\n\n    return result\n  }\n\n  loadingAnimPlay() {\n    if (this.loadingAnim === null) return\n    this.loadingAnim.className = 'pulse'\n  }\n\n  loadingAnimStop() {\n    if (this.loadingAnim === null) return\n    this.loadingAnim.className = 'hide'\n  }\n}\n\nexport class LoadingBar {\n  catchUpIntervalMs: number = 2500\n  element: HTMLElement\n  loadGoalBytes: number = 0\n  loadProgressBytes: number = 0\n  loadProgressBytesToShow: number = 0\n  loadProgressDelta: number = 0\n  opacityCycleMs: number = 2200\n  opacityStop: number = .33\n  playing: boolean = false\n  startTimeMs: number = 0\n  stepIntervalMs: number = 15\n  stepTimeMs: number = 0\n  stepWrapper: (number: number) => void\n\n  constructor(element: HTMLElement) {\n    this.element = element\n    this.stepWrapper = (timestamp: number) => this.step(timestamp)\n  }\n\n  play(): LoadingBar {\n    if (this.playing) return this\n    this.playing = true\n    this.startTimeMs = Date.now()\n    window.requestAnimationFrame(this.stepWrapper)\n    return this\n  }\n\n  step(timestamp: number) {\n    if (!this.playing) return\n    if ((timestamp - this.stepTimeMs) < this.stepIntervalMs)\n      return window.requestAnimationFrame(this.stepWrapper)\n\n    this.stepTimeMs = timestamp\n\n    if (this.loadProgressBytesToShow < this.loadProgressBytes) {\n      this.loadProgressBytesToShow += this.loadProgressDelta\n      var pctComplete = .1 + .9 * this.loadProgressBytesToShow / this.loadGoalBytes\n      this.element.style.width = pctComplete * 100 + '%'\n    }\n    var timeDeltaMs = Date.now() - this.startTimeMs\n    if (timeDeltaMs > 120000) {\n      console.log('Loading Bar timed out')\n      this.stop() // This is a safeguard to kill the anim if there is a loading problem\n    }\n    var radiansElapsed = 6.28319 * timeDeltaMs / this.opacityCycleMs\n    var opacity = 1 - (1 - this.opacityStop) * Math.sin(radiansElapsed)\n    this.element.style.opacity = opacity as any as string\n\n    window.requestAnimationFrame(this.stepWrapper)\n  }\n\n  reset(loadGoalBytes: number): LoadingBar {\n    this.opacityStop = .33\n    this.opacityCycleMs = 2200\n    this.catchUpIntervalMs = 2500\n    this.loadGoalBytes = loadGoalBytes\n    this.loadProgressBytes = 0\n    this.loadProgressBytesToShow = 0\n    this.loadProgressDelta = 0\n    this.stepIntervalMs = 15\n    this.playing = false\n    this.stepTimeMs = 0\n    return this\n  }\n\n  stop() {\n    if (!this.playing) return\n    this.playing = false\n    console.log(`LoadingBar loaded ${this.loadProgressBytes} on stop`)\n    this.element.style.display = 'none'\n  }\n\n  goalAdd(bytes: number) {\n    this.loadGoalBytes += bytes\n  }\n\n  progressAdd(bytes: number) {\n    this.loadProgressBytes += bytes\n    this.loadProgressDelta = (this.loadProgressBytes - this.loadProgressBytesToShow) / this.catchUpIntervalMs * this.stepIntervalMs\n  }\n}\n", "export { }\n\n// install global error handlers\nvar handleError = async (error: any) => {\n  if (window.app) {\n    // rate limiting\n    if (error && error.data && error.data.code == 'too.many.requests') {\n      window.app.alert(\n        '<div class=\"h1\">Request Rate Limited</div><div class=\\'body\\'>Are you a robot?</div>',\n        'OK'\n      )\n      return true\n    }\n\n    // handle auth.token errors\n    if (error && error.code == 'invalid.auth.token') {\n      window.app.alert(\n        `<div class=\"h1\">Invalid Auth Tokens</div><div class='body'>Your authentication tokens are no longer valid.<br/><br/>\n                        You may continue, but you must authenticate again to place an order.</div>`,\n        'OK'\n      )\n        .then(() => {\n          window.app.stor.clear()\n          window.location.reload()\n        })\n      return true\n    }\n\n    // handle network exceptions.\n    if (error.message == 'Network Error') {\n      window.app.alert(\n        '<div class=\"h1\">Network Error</div><div class=\\'body\\'>The network seems to be temporarily unavailable.</div>',\n        'OK'\n      )\n      return true\n    }\n  }\n\n  return false\n}\n\nwindow.handleError = handleError\n\nwindow.onerror = async (...args): Promise<void> => {\n  var error = args.length ? args[0] : undefined\n  if (error && await handleError(error)) return\n  try {\n    window.errorScreenPlay(error)\n  } catch (err) {\n    alert('Error while playing error screen. See console for root cause.')\n    console.log(err)\n  }\n}\n\nwindow.addEventListener('unhandledrejection', async function (event) {\n  var error = event.reason\n  if (error && !!window.app && await handleError(error)) {\n    event.preventDefault()\n    event.stopPropagation()\n    event.cancelBubble = true\n    return\n  }\n  try {\n    window.errorScreenPlay(error)\n  } catch (err) {\n    alert('Error while playing error screen. See console for root cause.')\n    console.log(err)\n  }\n})\n\n", "\nimport { Creation, User, UUID } from './Schema.js'\n\n\nlet creations: Record<string, Creation> = {\n  \"paloma\": {\n    id: \"paloma\",\n    heroImg: \"assets/paloma-fresca/hero.png\",\n    title: \"Paloma Fresca\",\n    desc: \"A fresh citrus-forward coastal mocktail inspired by long afternoons on the Malibu pier.\",\n    bom: [\n      { title: \"4 oz fresh grapefruit juice\", link: \"\" },\n      { title: \"1 oz lime juice\", link: \"\" },\n      { title: \"2 oz sparkling water\", link: \"\" },\n      { title: \"1 tsp agave syrup\", link: \"\" },\n      { title: \"Sea-salt rim\", link: \"\" },\n      { title: \"Rosemary sprig or grapefruit wedge (garnish)\", link: \"\" }\n    ],\n    tags: [\n      \"grapefruit\",\n      \"rosemary\"\n    ],\n    time: \"10 min\",\n    steps: [\n      \"Run a lime wedge around the rim and dip the glass in sea salt.\",\n      \"Fill the glass with ice.\",\n      \"Add grapefruit juice, lime juice, and agave syrup.\",\n      \"Stir gently to combine.\",\n      \"Top with sparkling water.\",\n      \"Garnish with rosemary sprig or grapefruit slice.\"\n    ],\n    notes: \"Use pink grapefruit for a softer, sweeter profile. Swap sparkling water for tonic if you like more bite, or try smoked sea salt on the rim for an extra coastal twist.\"\n  },\n  \"strawberry-basil-lemonade\": {\n    id: \"strawberry-basil-lemonade\",\n    heroImg: \"assets/strawberry-basil/hero.png\",\n    title: \"Strawberry Basil Lemonade\",\n    desc: \"A refreshing blend of sweet strawberries, fresh basil, and tangy lemon.\",\n    bom: [\n      { title: \"6 fresh strawberries, hulled\", link: \"\" },\n      { title: \"6-8 fresh basil leaves\", link: \"\" },\n      { title: \"2 oz fresh lemon juice\", link: \"\" },\n      { title: \"1 oz simple syrup\", link: \"\" },\n      { title: \"3 oz sparkling water\", link: \"\" },\n      { title: \"Basil sprig and strawberry slice (garnish)\", link: \"\" }\n    ],\n    tags: [\"strawberry\", \"basil\", \"lemon\"],\n    time: \"5 min\",\n    steps: [\n      \"Muddle strawberries and basil leaves in a shaker.\",\n      \"Add lemon juice and simple syrup.\",\n      \"Fill with ice and shake vigorously for 15 seconds.\",\n      \"Strain into a glass filled with fresh ice.\",\n      \"Top with sparkling water.\",\n      \"Garnish with basil sprig and strawberry slice.\"\n    ],\n    notes: \"For a sweeter version, add an extra 1/2 oz simple syrup. The basil adds a sophisticated herbal note.\"\n  },\n  \"cucumber-mint-cooler\": {\n    id: \"cucumber-mint-cooler\",\n    heroImg: \"assets/cucumber-mint/hero.png\",\n    title: \"Cucumber Mint Cooler\",\n    desc: \"A light and hydrating drink perfect for hot summer days with cooling cucumber and mint.\",\n    bom: [\n      { title: \"4-5 cucumber slices\", link: \"\" },\n      { title: \"10 fresh mint leaves\", link: \"\" },\n      { title: \"1 oz lime juice\", link: \"\" },\n      { title: \"3/4 oz honey syrup\", link: \"\" },\n      { title: \"2 oz tonic water\", link: \"\" },\n      { title: \"Cucumber ribbon and mint sprig (garnish)\", link: \"\" }\n    ],\n    tags: [\"cucumber\", \"mint\"],\n    time: \"5 min\",\n    steps: [\n      \"Muddle cucumber slices and mint leaves gently.\",\n      \"Add lime juice and honey syrup.\",\n      \"Fill glass with crushed ice.\",\n      \"Stir to combine.\",\n      \"Top with tonic water.\",\n      \"Garnish with cucumber ribbon and mint sprig.\"\n    ],\n    notes: \"Use English cucumber for less bitterness. Honey syrup can be made by mixing equal parts honey and warm water.\"\n  },\n  \"hibiscus-ginger-fizz\": {\n    id: \"hibiscus-ginger-fizz\",\n    heroImg: \"assets/hibiscus-ginger/hero.png\",\n    title: \"Hibiscus Ginger Fizz\",\n    desc: \"A vibrant ruby-red mocktail with floral hibiscus and spicy ginger notes.\",\n    bom: [\n      { title: \"2 oz hibiscus tea, chilled\", link: \"\" },\n      { title: \"1 oz fresh ginger syrup\", link: \"\" },\n      { title: \"1/2 oz lime juice\", link: \"\" },\n      { title: \"3 oz ginger beer\", link: \"\" },\n      { title: \"Dried hibiscus flower (garnish)\", link: \"\" }\n    ],\n    tags: [\"hibiscus\", \"ginger\"],\n    time: \"5 min\",\n    steps: [\n      \"Brew hibiscus tea and chill completely.\",\n      \"Add hibiscus tea, ginger syrup, and lime juice to glass.\",\n      \"Fill with ice.\",\n      \"Top with ginger beer.\",\n      \"Stir gently.\",\n      \"Garnish with dried hibiscus flower.\"\n    ],\n    notes: \"Make ginger syrup by simmering equal parts sugar, water, and sliced ginger for 10 minutes. Adjust sweetness to taste.\"\n  },\n  \"pineapple-coconut-crush\": {\n    id: \"pineapple-coconut-crush\",\n    heroImg: \"assets/pineapple-coconut/hero.png\",\n    title: \"Pineapple Coconut Crush\",\n    desc: \"A tropical paradise in a glass with sweet pineapple and creamy coconut.\",\n    bom: [\n      { title: \"3 oz fresh pineapple juice\", link: \"\" },\n      { title: \"2 oz coconut cream\", link: \"\" },\n      { title: \"1 oz lime juice\", link: \"\" },\n      { title: \"1/2 oz vanilla syrup\", link: \"\" },\n      { title: \"Pineapple wedge and toasted coconut (garnish)\", link: \"\" }\n    ],\n    tags: [\"pineapple\", \"coconut\"],\n    time: \"5 min\",\n    steps: [\n      \"Add all ingredients to a blender with 1 cup ice.\",\n      \"Blend until smooth and frothy.\",\n      \"Pour into a hurricane or tiki glass.\",\n      \"Garnish with pineapple wedge and toasted coconut.\",\n      \"Serve immediately.\"\n    ],\n    notes: \"For a lighter version, use coconut milk instead of coconut cream. Freezing pineapple chunks makes it extra refreshing.\"\n  },\n  \"watermelon-mint-agua-fresca\": {\n    id: \"watermelon-mint-agua-fresca\",\n    heroImg: \"assets/watermelon-mint/hero.png\",\n    title: \"Watermelon Mint Agua Fresca\",\n    desc: \"A refreshing Mexican-inspired drink with sweet watermelon and cooling mint.\",\n    bom: [\n      { title: \"2 cups fresh watermelon chunks\", link: \"\" },\n      { title: \"8-10 fresh mint leaves\", link: \"\" },\n      { title: \"1 oz lime juice\", link: \"\" },\n      { title: \"1/2 oz agave nectar\", link: \"\" },\n      { title: \"2 oz sparkling water\", link: \"\" },\n      { title: \"Watermelon wedge and mint leaf (garnish)\", link: \"\" }\n    ],\n    tags: [\"watermelon\", \"mint\"],\n    time: \"10 min\",\n    steps: [\n      \"Blend watermelon chunks until smooth.\",\n      \"Strain through fine mesh to remove pulp.\",\n      \"Muddle mint leaves in glass.\",\n      \"Add watermelon juice, lime juice, and agave.\",\n      \"Fill with ice and top with sparkling water.\",\n      \"Garnish with watermelon wedge and mint leaf.\"\n    ],\n    notes: \"This drink is naturally sweet, so adjust agave to taste. Best served very cold on hot days.\"\n  },\n  \"lavender-lemon-spritz\": {\n    id: \"lavender-lemon-spritz\",\n    heroImg: \"assets/lavender-lemon/hero.png\",\n    title: \"Lavender Lemon Spritz\",\n    desc: \"An elegant and aromatic mocktail with floral lavender and bright lemon.\",\n    bom: [\n      { title: \"1 oz lavender syrup\", link: \"\" },\n      { title: \"1 oz fresh lemon juice\", link: \"\" },\n      { title: \"4 oz prosecco-style sparkling water\", link: \"\" },\n      { title: \"Lemon twist and lavender sprig (garnish)\", link: \"\" }\n    ],\n    tags: [\"lavender\", \"lemon\"],\n    time: \"3 min\",\n    steps: [\n      \"Add lavender syrup and lemon juice to a champagne flute.\",\n      \"Top with chilled sparkling water.\",\n      \"Stir gently.\",\n      \"Garnish with lemon twist and lavender sprig.\",\n      \"Serve immediately.\"\n    ],\n    notes: \"Make lavender syrup by steeping 2 tbsp dried lavender in 1 cup simple syrup for 15 minutes. Don't over-steep or it becomes soapy.\"\n  },\n  \"spiced-apple-cider-mocktail\": {\n    id: \"spiced-apple-cider-mocktail\",\n    heroImg: \"assets/spiced-apple/hero.png\",\n    title: \"Spiced Apple Cider Mocktail\",\n    desc: \"A warm and cozy autumn drink with apple cider, cinnamon, and spices.\",\n    bom: [\n      { title: \"4 oz fresh apple cider\", link: \"\" },\n      { title: \"1 cinnamon stick\", link: \"\" },\n      { title: \"2 whole cloves\", link: \"\" },\n      { title: \"1 star anise\", link: \"\" },\n      { title: \"1/2 oz maple syrup\", link: \"\" },\n      { title: \"Orange slice and cinnamon stick (garnish)\", link: \"\" }\n    ],\n    tags: [\"apple\", \"cinnamon\", \"autumn\"],\n    time: \"15 min\",\n    steps: [\n      \"Warm apple cider in a small pot with spices.\",\n      \"Simmer gently for 10 minutes.\",\n      \"Strain into a heat-safe mug.\",\n      \"Stir in maple syrup.\",\n      \"Garnish with orange slice and cinnamon stick.\",\n      \"Serve warm.\"\n    ],\n    notes: \"Can be served cold over ice in summer. Add a dash of vanilla extract for extra warmth. Makes your kitchen smell amazing!\"\n  },\n  \"blood-orange-thyme-sparkler\": {\n    id: \"blood-orange-thyme-sparkler\",\n    heroImg: \"assets/blood-orange/hero.png\",\n    title: \"Blood Orange Thyme Sparkler\",\n    desc: \"A sophisticated mocktail with vibrant blood orange and earthy thyme.\",\n    bom: [\n      { title: \"3 oz fresh blood orange juice\", link: \"\" },\n      { title: \"3-4 fresh thyme sprigs\", link: \"\" },\n      { title: \"1/2 oz honey syrup\", link: \"\" },\n      { title: \"2 oz sparkling water\", link: \"\" },\n      { title: \"Blood orange wheel and thyme sprig (garnish)\", link: \"\" }\n    ],\n    tags: [\"blood orange\", \"thyme\"],\n    time: \"5 min\",\n    steps: [\n      \"Gently muddle 2 thyme sprigs with honey syrup.\",\n      \"Add blood orange juice and ice.\",\n      \"Shake well for 10 seconds.\",\n      \"Strain into a coupe glass.\",\n      \"Top with sparkling water.\",\n      \"Garnish with blood orange wheel and thyme sprig.\"\n    ],\n    notes: \"Blood orange season is winter through spring. Regular oranges work but lack the stunning ruby color.\"\n  },\n  \"mango-chili-lime-mocktail\": {\n    id: \"mango-chili-lime-mocktail\",\n    heroImg: \"assets/mango-chili/hero.png\",\n    title: \"Mango Chili Lime Mocktail\",\n    desc: \"A bold and spicy tropical drink with sweet mango, tangy lime, and a chili kick.\",\n    bom: [\n      { title: \"3 oz fresh mango puree\", link: \"\" },\n      { title: \"1 oz lime juice\", link: \"\" },\n      { title: \"1/2 oz agave syrup\", link: \"\" },\n      { title: \"Pinch of chili powder\", link: \"\" },\n      { title: \"2 oz sparkling water\", link: \"\" },\n      { title: \"Taj\u00EDn rim, mango slice, and lime wheel (garnish)\", link: \"\" }\n    ],\n    tags: [\"mango\", \"chili\", \"lime\"],\n    time: \"7 min\",\n    steps: [\n      \"Rim glass with lime juice and dip in Taj\u00EDn seasoning.\",\n      \"Blend mango puree, lime juice, agave, and chili powder.\",\n      \"Pour into prepared glass over ice.\",\n      \"Top with sparkling water.\",\n      \"Garnish with mango slice and lime wheel.\",\n      \"Serve immediately.\"\n    ],\n    notes: \"Adjust chili to your heat preference. For a smoky version, use chipotle powder instead of chili powder.\"\n  },\n  \"blueberry-sage-smash\": {\n    id: \"blueberry-sage-smash\",\n    heroImg: \"assets/blueberry-sage/hero.png\",\n    title: \"Blueberry Sage Smash\",\n    desc: \"A beautiful purple mocktail with antioxidant-rich blueberries and aromatic sage.\",\n    bom: [\n      { title: \"1/2 cup fresh blueberries\", link: \"\" },\n      { title: \"4-5 fresh sage leaves\", link: \"\" },\n      { title: \"1 oz lemon juice\", link: \"\" },\n      { title: \"3/4 oz simple syrup\", link: \"\" },\n      { title: \"2 oz club soda\", link: \"\" },\n      { title: \"Blueberries and sage leaf (garnish)\", link: \"\" }\n    ],\n    tags: [\"blueberry\", \"sage\"],\n    time: \"5 min\",\n    steps: [\n      \"Muddle blueberries and sage leaves in a shaker.\",\n      \"Add lemon juice and simple syrup.\",\n      \"Fill with ice and shake vigorously.\",\n      \"Double strain into a rocks glass with fresh ice.\",\n      \"Top with club soda.\",\n      \"Garnish with fresh blueberries and sage leaf.\"\n    ],\n    notes: \"The double strain removes seeds and herb bits for a cleaner drink. Sage pairs surprisingly well with berries.\"\n  }\n}\n\nclass DAO {\n  async CreationGetByID(id: string): Promise<Creation | undefined> {\n    return creations[id]\n  }\n  async CreationsGet(pageSize: number, pageNum: number): Promise<Creation[]> {\n    const allCreations = Object.values(creations)\n    const start = pageNum * pageSize\n    const end = start + pageSize\n    return allCreations.slice(start, end)\n  }\n\n  async UserGetOrCreate(args: {\n    userID: UUID,\n    createParams: {\n      userID: string,\n      email?: string,\n      nameFamily?: string,\n      nameGiven?: string,\n      nameAlias?: string,\n      nameNick?: string,\n      gender?: string,\n      createdAt: string,\n      lastLogin: string,\n      role: string,\n    }\n  }): Promise<User> {\n    return {\n      id: args.userID,\n      email: args.createParams.email,\n      nameFamily: args.createParams.nameFamily,\n      nameGiven: args.createParams.nameGiven,\n      nameAlias: args.createParams.nameAlias,\n      nameNick: args.createParams.nameNick,\n      gender: args.createParams.gender,\n      createdAt: args.createParams.createdAt,\n      lastLogin: args.createParams.lastLogin,\n      role: args.createParams.role,\n    }\n  }\n}\n\nexport let dao = new DAO()", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nvar donutId = 0\n\nimport { API } from './API.js'\nimport { App } from './App.js'\nimport { Cash } from 'cash-dom'\nimport { DonutFactory } from './DonutFactory.js'\nimport { Loader } from './Loader.js'\n\nexport declare interface DonutOptions {\n  attrs?: NamedNodeMap\n}\nexport declare type DonutProp = string | [string, typeof Donut, DonutOptions?]\nexport declare interface DonutProps {\n  [k: string]: DonutProp\n}\n\ndeclare type Signals = { [k: string]: Array<(value?: any | PromiseLike<any>) => void> }\n\nexport function html(strings: TemplateStringsArray, ...args: string[]): string {\n  var out = \"\"\n  strings.forEach((s, i) => { out += s; if (i < args.length) out += args[i] })\n  return out\n}\n\nexport function css(strings: TemplateStringsArray, ...args: string[]): string {\n  var out = \"\"\n  strings.forEach((s, i) => { out += s; if (i < args.length) out += args[i] })\n  return out\n}\n\n\nexport class Donut {\n  public selector?: string\n  public a: {}\n\n  public api!: API\n  public app!: App\n  public dobs!: Cash\n  public donutFactory!: DonutFactory\n  public donutId: number\n  public loader!: Loader\n  public scrollTop: number = 0\n  public signals?: Signals\n  public stopping: boolean = false\n\n  constructor(selector?: string) {\n    this.selector = selector\n    this.donutId = donutId++\n    this.a = {}\n  }\n\n  // public static first(arr) {\n  //   return arr[0]\n  // }\n\n  // public static optionAttr(options: DonutOptions, optionAttrKey: string, optionAttrDefault: string) {\n  //   var optionAttrValue: string\n  //   var optionAttrAttr = (options && options.attrs && options.attrs.getNamedItem(optionAttrKey))\n  //   if (optionAttrAttr) {\n  //     optionAttrValue = optionAttrAttr.value\n  //     options.attrs?.removeNamedItem(optionAttrKey)\n  //   }\n  //   return optionAttrValue || (options && options[optionAttrKey]) || optionAttrDefault\n  // }\n\n  public attr(name: string, value: string) {\n    this.dobs.attr(name, value)\n  }\n\n  // creates fake attrs\n  public attrsMake(attrs: { [k: string]: any }): any {\n    return {\n      getNamedItem(k: string): any {\n        return attrs[k]\n      },\n      removeNamedItem(k: string): any {\n        delete attrs[k]\n      }\n    }\n  }\n\n  public config(config: object) {\n    Object.assign(this, config)\n  }\n\n  public css(k: string, v: any) {\n    this.dobs.css(k, v)\n  }\n\n  public dinkInit(id: string,\n    dinkDob: Cash,\n    controlledDob: Cash,\n    closed?: boolean,\n    callback?: () => Promise<void>) {\n    var fn = () => this.dinkPlay(id, dinkDob, controlledDob, true, undefined, callback)\n    dinkDob.on('click touch', fn)\n    this.dinkPlay(id, dinkDob, controlledDob, false, closed, callback)\n  }\n\n  public dinkIsClosed(id: string) {\n    var storageId = `donut_${this.donutId}:dink_${id}`\n    return this.app.stor.get(storageId)\n  }\n\n  public dinkPlay(id: string,\n    dinkDob: Cash,\n    controlledDob: Cash,\n    toggle = true,\n    closed?: boolean,\n    callback?: () => Promise<void>): Promise<void> {\n    var storageId = `${id}.Dink`\n    var closed = closed !== null ? closed : this.app.stor.get(storageId) as boolean\n    if (toggle) closed = !closed\n    if (closed) {\n      dinkDob.addClass('closed')\n      dinkDob.removeClass('open')\n      controlledDob.hide()\n    } else {\n      dinkDob.addClass('open')\n      dinkDob.removeClass('closed')\n      controlledDob.show()\n    }\n    this.app.stor.put(storageId, closed)\n    return callback ? callback() : Promise.resolve()\n  }\n\n  // public elemFirst(arr) {\n  //   return arr[0]\n  // }\n\n  public async evtStop(e: Event) {\n    if (!e) return\n    e.stopPropagation()\n    e.preventDefault()\n  }\n\n  public hide(): Donut {\n    this.dobs.hide()\n    return this\n  }\n\n  public hideIf(cond: boolean): Donut {\n    if (cond)\n      this.dobs.hide()\n    else\n      this.dobs.show()\n\n    return this\n  }\n\n  public html(html: string) {\n    this.dobs.html(html)\n  }\n\n  // Lifecycle Methods\n  public init(template?: string, properties?: DonutProps, options?: DonutOptions): Cash {\n    if (template === undefined || typeof template != 'string')\n      throw new Error('Cannot call base Donut.Init with an undefined template')\n    this.dobs = this.donutFactory.dobsMakeFromTemplate(template.trim())\n\n    // apply attrs\n    if (options && options.attrs) {\n      for (var i = 0; i < options.attrs.length; i++) {\n        var attr = options.attrs[i]\n\n        // add classes\n        if (attr.name == 'class') {\n          this.dobs.addClass(attr.value)\n        }\n\n        // set all other attrs\n        else {\n          this.dobs.attr(attr.name, attr.value)\n        }\n      }\n      delete options.attrs\n    }\n\n    // Link properties to dobs\n    for (var prop in properties) {\n      // spec is either a string identifying a path to a jquery element\n      // or an array ['.asdf], Component] with a path and a component\n      var spec = properties[prop]\n\n      // the property is a vanilla jQuery element\n      if (!Array.isArray(spec)) {\n        var elem: Cash = this.dobs.find(spec)\n        if (elem.length == 0) {\n          console.error(`${this.constructor.name} template is missing '${prop}': '${spec}'`)\n        }\n        (this as any)[prop] = elem\n        continue\n      }\n\n      // the property is a component that we need to bake first\n      // the stub will be the parent element\n      var stub = this.dobs.find(spec[0]).first()\n      if (!stub || stub.length == 0) {\n        console.error(`${this.constructor.name} template is missing '${prop}': ['${spec[0]}', ${spec[1].name}]`)\n      } else if (stub.length == 1) {\n        var subComponent = this.donutFactory.donutBake(spec[1], stub.find('[replace]'), stub, spec[2])\n          ; (this as any)[prop] = subComponent\n        var stubElement = stub.get(0)!\n        stubElement.parentNode!.replaceChild(subComponent.dobs.get(0)!, stubElement)\n      } else {\n        throw new Error(`malformed property spec: ${spec}`)\n      }\n    }\n\n    return this.dobs\n  }\n\n  // This method mixes static methods of the target class in with the current class\n  // but i haven't figured out what this is good for yet.\n  //\n  // Here is an example of a mixin class. Note that methods are static.\n  //\n  // class Mixin {\n  //    static async foo() {\n  //      // Do something... 'this' resolves correctly.\n  //      return this.foo;\n  // }\n  //\n  public mixIn(clazz: any) {\n    var keys = Object.keys(clazz)\n    for (var key of Object.getOwnPropertyNames(clazz)) {\n      var value = clazz[key]\n      if (typeof value != 'function') {\n        continue\n      }\n      if ((this as any)[key]) {\n        throw new Error(\n          `mixing ${key} into ${typeof this}, but ${key} already exists`\n        )\n      }\n      (this as any)[key] = value\n    }\n  }\n\n  public random(min: number, max: number) {\n    return Math.random() * (max - min) + min\n  }\n\n  public randomInt(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min) + min)\n  }\n\n  public render(): void { }\n\n  public show(): Donut {\n    this.dobs.show()\n    return this\n  }\n\n  public showIf(cond: boolean): Donut {\n    if (cond)\n      this.dobs.show()\n    else\n      this.dobs.hide()\n\n    return this\n  }\n\n  public signalSend(k: string): number {\n    if (!this.signals)\n      return 0\n    if (!this.signals[k])\n      return 0\n    var waiters = this.signals[k]\n    delete this.signals[k]\n    for (var resolve of waiters)\n      resolve()\n\n    return waiters.length\n  }\n\n  public signalWait(k: string): Promise<void> {\n    if (!this.signals)\n      this.signals = {}\n    if (!this.signals[k]) {\n      this.signals[k] = []\n    }\n\n    return new Promise<void>((resolve, reject) => {\n      this.signals![k].push(resolve)\n    })\n  }\n\n  // this is a method for testing\n  public sleep(ms: number) {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n\n  public splice(key: string, index: number, value: any) {\n    var obj: any, propKey: string | undefined\n    var segments = key.split('.')\n    while (segments.length > 1) {\n      propKey = segments.shift()\n      obj = (this as any)[propKey!]\n      if (obj === undefined) {\n        obj = {}\n      } else if (typeof obj != 'object') {\n        throw new Error('splicing into into a non-object property')\n      }\n    }\n\n    propKey = segments.shift()\n    var arr = (this as any)[propKey!]\n    if (arr === undefined) {\n      arr = (this as any)[propKey!] = []\n    } else if (!Array.isArray(arr)) {\n      throw new Error('splicing into into a non-array property')\n    }\n\n    arr[index] = value\n  }\n\n  public text(text: string) {\n    this.dobs.text(text)\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { Cash } from 'cash-dom'\nimport { Donut, DonutProps, DonutOptions, html } from './satori/Donut.js'\n\nexport class CreationActions extends Donut {\n  declare public a: {\n    onShopListAdd: () => Promise<void>\n    onShare: () => Promise<void>\n    onSave: () => Promise<void>\n  }\n\n  private shopListAddButton?: Cash\n  private shareButton?: Cash\n  private saveButton?: Cash\n\n  public init(template: string, props: DonutProps, options: DonutOptions): Cash {\n    template = html`\n    <div class=\"flex justify-center gap-3 w-full pt-3 p-3 bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]\">\n    <button\n      class=\"saveButton h-full rounded bg-white border border-emerald-900/40 px-4 py-2.5 text-xs font-semibold tracking-wide text-emerald-900 active:bg-emerald-50 active:border-emerald-900 active:scale-95 transition-all duration-200 shadow-sm\">\n      Save\n    </button>\n    <button\n      class=\"shareButton h-full rounded bg-white border border-emerald-900/40 px-4 py-2.5 text-xs font-semibold tracking-wide text-emerald-900 active:bg-emerald-50 active:border-emerald-900 active:scale-95 hover:background-emerald-900 transition-all duration-200 shadow-sm\">\n      Share\n    </button>\n    <button\n      class=\"shopListAddButton h-full rounded bg-emerald-900 text-emerald-50 px-4 py-2.5 text-sm font-semibold tracking-wide active:bg-emerald-800 active:scale-95 transition-all duration-200 shadow-md\">\n      Add to Shop List\n    </button>\n    </div>`\n\n    super.init(template, {\n      shopListAddButton: '.shopListAddButton',\n      shareButton: '.shareButton',\n      saveButton: '.saveButton',\n    }, options)\n\n    // bind handlers\n    this.shopListAddButton!.on('click touch', () => this.a.onShopListAdd())\n    this.shareButton!.on('click touch', () => this.a.onShare())\n    this.saveButton!.on('click touch', () => this.a.onSave())\n    return this.dobs\n  }\n}", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { Cash } from 'cash-dom'\nimport { Donut, DonutProps, DonutOptions, html, css } from './satori/Donut.js'\nimport { AddCSS } from './satori/Loader.js'\n\nAddCSS(\"CreationFooter\", css`\n  .make-footer-container {\n    margin-top: 1.5rem;\n    border-top: 1px solid rgba(6, 78, 59, 0.1);\n    padding-top: 0.75rem;\n  }\n\n  .make-footer-message {\n    text-align: center;\n    font-size: 0.7rem;\n    letter-spacing: 0.25em;\n    color: rgba(6, 78, 59, 0.7);\n    text-transform: uppercase;\n  }\n`)\n\nexport class CreationFooter extends Donut {\n  declare public a: {\n    onShopListAdd: () => Promise<void>\n    onShare: () => Promise<void>\n    onSave: () => Promise<void>\n  }\n\n  public init(template: string, props: DonutProps, options: DonutOptions): Cash {\n    template = html`\n    <div>\n      <!-- Message -->\n      <div class=\"make-footer-container\">\n        <p class=\"make-footer-message\">\n          A Fresh Take on Coastal Living\n        </p>\n      </div>\n    </div>`\n\n    super.init(template, {\n    }, options)\n\n    // bind handlers\n    return this.dobs\n  }\n}", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { Cash } from 'cash-dom'\nimport { Donut, DonutProps, DonutOptions, html, css } from './satori/Donut.js'\nimport { AddCSS } from './satori/Loader.js'\n\nAddCSS(\"CreationHead\", css`\n  .make-head-container {\n    position: relative;\n    margin: 0.5rem;\n    text-align: center;\n    padding: 0.5rem;\n  }\n\n  .make-head-corner-tl {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 1rem;\n    height: 1rem;\n    border-top: 2px solid rgba(6, 78, 59, 0.4);\n    border-left: 2px solid rgba(6, 78, 59, 0.4);\n  }\n\n  .make-head-corner-tr {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 1rem;\n    height: 1rem;\n    border-top: 2px solid rgba(6, 78, 59, 0.4);\n    border-right: 2px solid rgba(6, 78, 59, 0.4);\n  }\n\n  .make-head-corner-bl {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 1rem;\n    height: 1rem;\n    border-bottom: 2px solid rgba(6, 78, 59, 0.4);\n    border-left: 2px solid rgba(6, 78, 59, 0.4);\n  }\n\n  .make-head-corner-br {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    width: 1rem;\n    height: 1rem;\n    border-bottom: 2px solid rgba(6, 78, 59, 0.4);\n    border-right: 2px solid rgba(6, 78, 59, 0.4);\n  }\n\n  .make-head-title {\n    font-size: 0.75rem;\n    font-weight: 600;\n    letter-spacing: 0.2em;\n    color: rgba(6, 78, 59, 0.8);\n    text-transform: uppercase;\n  }\n\n  .make-head-subtitle {\n    margin-top: 0.25rem;\n    font-size: 0.7rem;\n    letter-spacing: 0.25em;\n    color: rgba(6, 78, 59, 0.6);\n    text-transform: uppercase;\n  }\n`)\n\nexport class CreationHead extends Donut {\n  declare public a: {}\n\n  public init(template: string, props: DonutProps, options: DonutOptions): Cash {\n    template = html`\n  <div class=\"make-head-container\">\n    <!-- Corner decorations -->\n    <div class=\"make-head-corner-tl\"></div>\n    <div class=\"make-head-corner-tr\"></div>\n    <div class=\"make-head-corner-bl\"></div>\n    <div class=\"make-head-corner-br\"></div>\n\n    <!-- Side accent marks -->\n    <!--\n      <div class=\"absolute top-1/2 left-0 w-2 h-px bg-emerald-900/40 -translate-y-1/2\"></div>\n      <div class=\"absolute top-1/2 right-0 w-2 h-px bg-emerald-900/40 -translate-y-1/2\"></div>\n    -->\n\n    <p class=\"make-head-title\">\n      FarmGoods Market\n    </p>\n    <p class=\"make-head-subtitle\">\n      - Mocktail Series -\n    </p>\n  </div>`\n\n    super.init(template, {}, options)\n\n    // bind handlers\n    return this.dobs\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { } from './Util.js'\nexport type EventHandler = ((...args: any[]) => Promise<void>) | ((...args: any[]) => void)\nexport class Hub { }\nexport class Eventful {\n  public handlers?: Record<string, EventHandler[]>\n  public handlersById?: Record<string, EventHandler>\n\n  constructor() { }\n\n  // do(fn, ...staticArgs) {\n  //   if (!fn) throw new Error('no function to do')\n  //   return (...dynamicArgs) => {\n  //     return fn.apply(this, [...staticArgs, ...dynamicArgs])\n  //   }\n  // }\n  public go(event: string, ...staticArgs: any[]): (...dynamicArgs: any) => Promise<any[]> {\n    return (...dynamicArgs) => {\n      var promises: (Promise<void> | void)[] = []\n      if (this.handlers && this.handlers[event])\n        this.handlers[event].forEach(function (handler) { promises.push(handler(...staticArgs, ...dynamicArgs)) })\n      return Promise.all(promises)\n    }\n  }\n\n  public off(event: string, handlerId: string) {\n    if (!this.handlers) this.handlers = {}\n    if (!this.handlersById) this.handlersById = {}\n\n    var handler = this.handlersById[handlerId]\n\n    var events = event.split(/\\s+/)\n    for (event of events) {\n      if (!this.handlers[event]) continue\n      if (handler) {\n        var index = this.handlers[event].indexOf(handler)\n        if (index == -1) continue\n        this.handlers[event].splice(index, 1)\n      } else {\n        this.handlers[event] = []\n      }\n    }\n  }\n\n  // event handling services\n  public on(event: string, handler: EventHandler, handlerId?: string) {\n    if (!this.handlers) this.handlers = {}\n    if (!this.handlersById) this.handlersById = {}\n\n    if (handlerId) this.handlersById[handlerId] = handler\n\n    var events = event.split(/\\s+/)\n    for (event of events) {\n      if (!this.handlers[event]) {\n        this.handlers[event] = []\n      }\n\n      this.handlers[event].push(handler)\n    }\n  }\n\n  public onAll(handlers: { [k: string]: EventHandler }) {\n    for (var [key, value] of Object.entries(handlers)) {\n      this.on(key, value)\n    }\n  }\n}\n", "\n\n\nexport function css(strings: TemplateStringsArray, ...args: string[]): string {\n  return strings[0]\n  // var out = \"\"\n  // strings.forEach((s, i) => { out += s; if (i < args.length) out += args[i] })\n  // return out\n}\n\nexport function StyleAdd(t: string, s: string) {\n  const style = document.createElement(\"style\")\n  style.textContent = s\n  style.title = t\n  document.head.appendChild(style)\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { App } from './App.js'\nimport { Screen } from './Screen.js'\nimport { Eventful } from './Eventful.js'\nimport { StyleAdd, css } from './Style.js'\n\nStyleAdd(\"Router\", css`\n/* for Firefox */\n.killscrollbar {\n      scrollbar-width: none;\n}\n\n/* for Chrome */\n.killscrollbar::-webkit-scrollbar {\n  display: none;\n}\n`)\n\nexport type MW = (url: string) => () => Promise<void>\nexport interface Route<T extends Handler> {\n  handler: T\n  mws: MW[]\n  pseudoPattern: string\n  regexp: RegExp\n}\n\nexport interface Reroute {\n  action: 'fwd' | 'bwd' | 'redirect' | 'abort'\n  url?: string\n}\n\nexport interface Handler {\n  playBwd: (a: object) => Promise<void>\n  playBwdOK: (a: object) => Promise<Reroute | void>\n  playFwd: (a: object) => Promise<void>\n  playFwdOK: (a: object) => Promise<Reroute | void>\n  render: () => void\n  resolve: (a: object, url: string) => string\n  stopBwd: () => Promise<void>\n  stopBwdOK: () => Promise<Reroute | void>\n  stopFwd: () => Promise<void>\n  stopFwdOK: () => Promise<Reroute | void>\n  titleGet: () => string\n}\n\nexport interface ScreenHandler extends Handler {\n  screen: Screen\n}\n\ninterface HistoryItem {\n  state: Record<string, any>\n  transition: 'bwd' | 'fwd' | 'jump'\n  url: string\n}\n\n/*\n * TODO\n * - kill scrollbar during page transitions\n * - blank / empty chrome > home > other page > backwards... seems like we get an extra history item... have to press back button too much\n */\nexport class Router extends Eventful {\n  public a: {\n    onRender: () => Promise<void>\n  }\n\n  public app: App\n  public depth: number\n  public historyItemLast?: HistoryItem\n  public historyItemQueue: HistoryItem[]\n  public lastRoute?: Route<ScreenHandler>\n  public pathname?: string\n  public playCount: number\n  public playedOnce: boolean = false\n  public playing: boolean = false\n  public routes: Route<Handler>[]\n  public routePrefix?: string\n  public scrollTop: number = 0\n  public windowHeight?: number\n  public windowWidth?: number\n\n  constructor(app: App) {\n    super()\n    this.app = app\n    this.depth = (history.state && history.state.depth) || 0\n    this.historyItemQueue = []\n    this.a = { onRender: async () => { } }\n    this.playCount = 0\n    this.routes = []\n\n    var router = this\n    history.scrollRestoration = 'manual'\n    window.onpopstate = function (this: WindowEventHandlers, ev: PopStateEvent): void {\n      router.app.blurAllPlay() // blur inputs\n      window.errorScreenStop() // clear the error screen\n      router.queueNext()\n    }\n  }\n\n  public static aToURLParams(a: Record<string, any>): string {\n    for (var k in a) if (a[k] === undefined) delete a[k]\n    if (Object.keys(a).length == 0) return ''\n    var urlSearchParams = new URLSearchParams(a as URLSearchParams)\n    urlSearchParams.sort()\n    return urlSearchParams.toString()\n  }\n\n  public jumpPlay(url: string, replaceState: boolean = false): void {\n    return this.playFwd(url, replaceState, 'jump')\n  }\n\n  public playAnimation(donut: Screen, type: string) {\n    if (!donut) return\n\n    donut.dobs.stop(true, true)\n\n    var duration = 300\n\n    if (type == 'righttocenter') {\n      donut.dobs.css({\n        position: 'relative',\n        top: 0,\n        left: this.windowWidth!,\n        display: 'block'\n      })\n      donut.dobs\n        .stop(true, true)\n        .animate({ left: 0 }, { left: 'linear' }, duration)\n        .then(() => donut.dobs.css('position', ''))\n    } else if (type == 'lefttocenter') {\n      donut.dobs.css({\n        position: 'relative',\n        top: 0,\n        left: -this.windowWidth!,\n        display: 'block'\n      })\n      donut.dobs\n        .stop(true, true)\n        .animate({ left: 0 }, { left: 'linear' }, duration)\n        .then(() => donut.dobs.css('position', ''))\n    } else if (type == 'toptocenter') {\n      donut.dobs.css({\n        position: 'relative',\n        top: -this.windowHeight!,\n        left: 0,\n        display: 'block'\n      })\n      donut.dobs\n        .stop(true, true)\n        .animate({ top: 0 }, { top: 'linear' }, duration)\n        .then(() => donut.dobs.css('position', ''))\n    } else if (type == 'bottomtocenter') {\n      donut.dobs.css({\n        position: 'relative',\n        top: this.windowHeight!,\n        left: 0,\n        display: 'block'\n      })\n      donut.dobs\n        .stop(true, true)\n        .animate({ top: 0 }, { top: 'linear' }, duration)\n        .then(() => donut.dobs.css('position', ''))\n    } else if (type == 'centertoleft') {\n      donut.dobs.css('position', 'absolute')\n      donut.dobs\n        .stop(true, true)\n        .animate(\n          { left: -this.windowWidth! },\n          { left: 'linear' },\n          duration)\n        .then(() => { donut.dobs.hide(); donut.css('position', '') })\n    } else if (type == 'centertoright') {\n      donut.dobs.css('position', 'absolute')\n      donut.dobs\n        .stop(true, true)\n        .animate(\n          { left: this.windowWidth },\n          { left: 'linear' },\n          duration\n        )\n        .then(() => { donut.dobs.hide(); donut.css('position', '') })\n    } else if (type == 'centertotop') {\n      donut.dobs\n        .stop(true, true)\n        .animate(\n          { top: -this.windowHeight! },\n          { top: 'linear' },\n          duration,\n        ).then(() => { donut.dobs.hide(); donut.css('position', '') })\n    } else if (type == 'centertobottom') {\n      donut.dobs\n        .stop(true, true)\n        .animate(\n          { top: this.windowHeight },\n          { top: 'linear' },\n          duration)\n        .then(() => { donut.dobs.hide(); donut.css('position', '') })\n    } else if (type == 'fadein') {\n      donut.dobs.css({\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        display: 'block',\n        opacity: 0\n      })\n      donut.dobs\n        .stop(true, true)\n        .animate(\n          { opacity: 1 },\n          { opacity: 'linear' },\n          duration)\n        .then(() => { donut.dobs.css('opacity', ''); donut.css('position', '') })\n    } else if (type == 'fadeout') {\n      donut.dobs.css({\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        display: 'block',\n        opacity: 1\n      })\n      donut.dobs\n        .stop(true, true)\n        .animate(\n          { opacity: 0 },\n          { opacity: 'linear' },\n          duration)\n        .then(() => {\n          donut.dobs.hide()\n          donut.dobs.css('opacity', '')\n          donut.css('position', '')\n        })\n    }\n  }\n\n  public playBwd(): void {\n    // history.back *does* trigger window.onpopstate, so we skip the manual this.queueNext()\n    history.back()\n  }\n\n  // playFwd\n  public playFwd(url: string, replaceState: boolean = false, transition: 'jump' | 'fwd' | 'bwd' = 'fwd', depthNext: number | null = null): void {\n    var [pathname, params] = this.urlParse(url)\n    var nextRoute = this.routeGet(pathname)\n    var nextUrl = nextRoute.handler.resolve(params, url)\n\n    if (this.playedOnce && history.state && history.state.url == nextUrl) { return }\n    this.playedOnce = true\n    var depth = this.depth\n    if (replaceState) history.replaceState({ depth: depthNext || depth, fwdTransition: transition, url }, '', url)\n    else history.pushState({ depth: depthNext || (depth + 1), fwdTransition: transition, url }, '', url)\n\n    // history.pushState and history.replaceState does not trigger window.onpopstate, so we call queueNext ourselves\n    this.queueNext()\n  }\n\n  public async playNext(): Promise<void> {\n    if (this.historyItemQueue.length == 0) return\n    if (this.playing) return // just return, we'll playNext at the end\n\n    // capture next\n    var next = this.historyItemQueue.shift()\n    if (!next) return\n\n    this.playing = true\n    this.playCount++\n\n    if (next.state == null) next.state = { depth: 0 }\n\n    // it's entirely possible to transition to the same page... eg. after an abort\n    // don't do anything in this case\n    if (this.historyItemLast && this.historyItemLast.url == next.url) {\n      this.playing = false\n      return\n    }\n\n    // get number of steps fwd or bwd\n    var steps: number = (next.state['depth'] - this.depth)\n\n    // get next route\n    var [pathname, nextParams] = this.urlParse(next.url)\n    var nextRoute = this.routeGet(pathname) as Route<ScreenHandler> // TODO this isn't strictly true or safe (consider RedirectHandler>\n\n    try {\n      var throwReroute = (reroute: Reroute | void) => { if (reroute) throw reroute }\n\n      // first run middleware\n      for (var mw of nextRoute.mws) await mw(next.url)()\n\n      // check that the last route is ok to stop\n      if (this.lastRoute)\n        if (steps >= 0) await this.lastRoute.handler.stopFwdOK().then(throwReroute)\n        else await this.lastRoute.handler.stopBwdOK().then(throwReroute)\n\n      // check that the next route is ok to play\n      if (steps >= 0) await nextRoute.handler.playFwdOK(nextParams).then(throwReroute)\n      else await nextRoute.handler.playBwdOK(nextParams).then(throwReroute)\n\n      // transition the state\n      // but save it in case we need to transition\n      if (this.lastRoute) {\n        if (steps >= 0) await this.lastRoute.handler.stopFwd()\n        else await this.lastRoute.handler.stopBwd()\n      }\n      // For lastRoute to be recoverable... it must also be playable\n      // after it throws the error. Exceptions thrown here are bugs,\n      // so this should never happen, but if it does... we want the\n      // user to be able to recover.\n      //\n      // ie. on exception... we won't get here. if the lastRoute.handler\n      // is also stuck in playing == true, we won't be able to play it\n      // again and that blocks the user from entering that route again\n      // so all routes need to wrap their play handlers in finally where\n      // they set `playing == false`\n      var lastRoute = this.lastRoute\n      this.lastRoute = undefined\n\n      // transition the router state\n      this.depth = next.state['depth']\n      this.historyItemLast = next\n      this.pathname = pathname\n\n      // actuate the route\n      if (steps >= 0) await nextRoute.handler.playFwd(nextParams)\n      else await nextRoute.handler.playBwd(nextParams)\n\n      // and next becomes last\n      // history.replaceState(next.state, nextRoute.handler.titleGet(), next.url)\n      document.title = nextRoute.handler.titleGet()\n      nextRoute.handler.render()\n      await this.playTransition(next.transition, nextRoute, lastRoute)\n      this.lastRoute = nextRoute\n      this.playing = false\n\n      // if we have a next in the queue... do it.\n      if (this.historyItemQueue.length > 0) {\n        return this.playNext() // should this be await?\n      } else {\n        this.a.onRender()\n      }\n    } catch (err: any) {\n      this.playing = false\n      if (err.action == 'fwd') {\n        // transition the router state\n        this.depth = next.state['depth']\n        this.historyItemLast = next\n        this.pathname = pathname\n        return this.playFwd(err.url, false, next.transition)\n      } if (err.action == 'redirect') {\n        return this.playFwd(err.url, true, next.transition, next.state['depth'])\n      } else if (err.action == 'bwd') {\n        // go to root if we are already at the top\n        if (next.state['depth'] == 0) return this.playFwd('/', true, next.transition)\n        else return this.playBwd()\n      } else if (err.action == 'abort') {\n        // reset the browser history\n        history.go(-steps)\n        return\n        // return await this.playNext()\n      }\n      throw err\n    }\n    finally {\n      // for this to be recoverable...\n      // fiddling with this... seems that I added it for the router to be \"recoverable\"...\n      // i assume that means I wanted it to recover after and error and an error dialog?!?\n      // problem is that the state is wrong during a root redirect, which calls queueNext and\n      // sets this.playing *before* hitting this line. commenting out for now to see what happens...\n      // this.playing = false\n    }\n  }\n\n  public playTransition(direction: 'jump' | 'fwd' | 'bwd', nextRoute: Route<ScreenHandler>, lastRoute?: Route<ScreenHandler>): Promise<void> {\n    // play not transition if lastRoute == nextRoute. this certainly isn't ideal, but this transition\n    // expects two separate dobs to animate... one going in and another going out...\n    // we can't easily do that when we have only one dob\n    if (lastRoute == nextRoute) { return Promise.resolve() }\n\n    return new Promise(\n      (resolve, reject) => {\n        if (lastRoute && lastRoute.handler && lastRoute.handler == nextRoute.handler) resolve()\n\n        this.windowWidth = window.innerWidth\n        this.windowHeight = window.innerHeight\n        this.scrollTop = this.app.scrollingElement.scrollTop()\n\n        var duration = 300\n\n        // calc transitions\n        if (direction == 'jump') {\n          this.app.scrollingElement\n            .stop(true, true)\n            .animate(\n              { scrollTop: 0 },\n              { scrollTop: 'linear' },\n            )\n          if (lastRoute && lastRoute.handler) {\n            this.playAnimation(lastRoute.handler.screen, 'fadeout')\n          }\n\n          this.playAnimation(nextRoute.handler.screen, 'fadein')\n        } else if (direction == 'fwd') {\n          this.app.scrollingElement.addClass('killscrollbar')\n\n          // do we have lastDonut?\n          let lastDonut = (lastRoute && lastRoute.handler) ? lastRoute.handler.screen : undefined\n          if (lastDonut) {\n            // yes. it will animate up from view and off the top\n            lastDonut.scrollTop = this.scrollTop\n            lastDonut.dobs.css({\n              'z-index': 1,\n              display: 'block',\n              height: this.scrollTop + this.windowHeight,\n              overflow: 'hidden',\n              position: 'absolute',\n              top: 0,\n            })\n          }\n\n          // the nextDonut will animate up from the bottom and into view\n          let nextDonut = nextRoute.handler.screen\n          nextDonut.scrollTop = nextDonut.scrollTop || 0 // make sure scrollTop is set\n          nextDonut.dobs.css({\n            'z-index': 0,\n            display: 'block',\n            position: 'absolute',\n            top: this.scrollTop + this.windowHeight - nextDonut.scrollTop,\n          })\n\n          // now scroll to next\n          this.app.scrollingElement\n            .stop(true, true)\n            .animate(\n              { scrollTop: this.scrollTop + this.windowHeight },\n              { scrollTop: 'easeInOutSine' },\n              duration,\n            )\n            .then(() => {\n              // now clear the mods to the lastDonut and hide it.\n              if (lastDonut) {\n                lastDonut.dobs.css({\n                  'z-index': '',\n                  display: 'none',\n                  height: '',\n                  overflow: '',\n                  top: 0,\n                })\n              }\n\n              // nextDonut now pinned to top\n              nextDonut.dobs.css({\n                'z-index': '',\n                display: '',\n                top: 0,\n              })\n\n              // adjust scroll top\n              this.scrollTop = nextDonut.scrollTop\n              this.app.scrollingElement.scrollTop(nextDonut.scrollTop)\n              this.app.scrollingElement.removeClass('killscrollbar')\n              resolve()\n            })\n        } else if (direction == 'bwd') {\n          this.app.scrollingElement.addClass('killscrollbar')\n\n          // get nextDonut\n          let nextDonut = nextRoute.handler.screen\n          nextDonut.scrollTop = nextDonut.scrollTop || 0 // make sure scrollTop is set\n\n          // do we have lastDonut?\n          let lastDonut = (lastRoute && lastRoute.handler) ? lastRoute.handler.screen : undefined\n          if (lastDonut) {\n            // yes. it will animate down from view and off the bottom\n            lastDonut.scrollTop = this.scrollTop\n            lastDonut.dobs.css({\n              'z-index': 0,\n              display: 'block',\n              top: nextDonut.scrollTop + this.windowHeight - lastDonut.scrollTop\n            })\n            this.app.scrollingElement.scrollTop(nextDonut.scrollTop + this.windowHeight)\n          }\n\n          // the nextDonut will animate up from above and into view\n          nextDonut.dobs.css({\n            'z-index': 1,\n            display: 'block',\n            height: nextDonut.scrollTop + this.windowHeight,\n            overflow: 'hidden',\n            top: 0,\n          })\n\n          // todo... this should be an animation that runs through a\n          // a range of values and just calls the tick function\n          this.app.scrollingElement\n            .stop(true, true)\n            .animate(\n              { scrollTop: nextDonut.scrollTop },\n              { scrollTop: 'easeInOutSine' },\n              duration,\n              // function (val: number) {\n              //   lastDonut && lastDonut.dobs.css('transform', `translateY(${val}px)`)\n              //   nextDonut.dobs.css('transform', `translateY(${val}px)`)\n              // },\n            )\n            .then(() => {\n              // now clear the mods to the lastDonut and hide it.\n              if (lastDonut)\n                lastDonut.dobs.css({\n                  'z-index': '',\n                  display: 'none',\n                  top: 0,\n                  // transform: ''\n                })\n\n              // nextDonut now pinned to top\n              nextDonut.dobs.css({\n                'z-index': '',\n                display: '',\n                height: '',\n                overflow: '',\n                top: 0,\n                // transform: ''\n              })\n\n              // adjust scroll top\n              // this.scrollTop = nextDonut.scrollTop\n              // this.app.scrollingElement.scrollTop(nextDonut.scrollTop)\n              this.app.scrollingElement.removeClass('killscrollbar')\n              resolve()\n            })\n        }\n      })\n  }\n\n  // onpopstate\n  // This is called when the user presses the browser\n  // fwd or bak buttons. We have to code around the case where the\n  // user is mashing these buttons. To do that, we always save\n  // what we think is he next destination with the best info\n  // we have available to determine how to visually transition.\n  public queueNext(): void {\n    var transition: 'fwd' | 'bwd' | 'jump' =\n      (this.depth && history.state != null && this.depth > history.state['depth']) ? 'bwd' : 'fwd'\n\n    // save the next\n    var state = JSON.parse(JSON.stringify(history.state))\n    var historyItem: HistoryItem = {\n      url: window.location.pathname + window.location.search,\n      state,\n      transition\n    }\n    this.historyItemQueue.push(historyItem)\n\n    // start the playback... this will guarantee that this.next gets cleared\n    this.playNext()\n    return\n  }\n\n  public reRender() {\n    this.lastRoute?.handler.render()\n  }\n\n  public routeAdd(pseudoPattern: string, mws: MW[], handler: Handler) {\n    if (handler === undefined) throw new Error('undefined handler for route $(pseudoPattern)')\n    var regexp = new RegExp(`^${pseudoPattern}$`)\n    this.routes.push({ pseudoPattern, regexp, mws, handler: handler })\n  }\n\n  /**\n    Lifecycle of a Route Transition\n    -------------------------------\n    Pages can implement entry checks to determine if it is ok to enter the page (eg. check that the shopping cart as content).\n    They can also implement exit checks to determine if it is ok to leave the page (eg. check that an object is saved).\n    The router must perform these entry and exit checks before modifying its internal state, to allow the routes\n    to abort the transition without corrupting things.\n\n    But in a single-page app, we might be trying to transition from one page to the \"same\" page.\n    If that page has an admission / entry \"gate\" or \"check\", we need to check those without disturbing the current\n    state of the page. Furthermore, if that page does work to complete the entry check (eg. hydrate) that we are\n    able to leverage that work if we actually transition to the page. We don't want to do it twice.\n\n    The router will not make any assumptions or enforce design patterns on the internal structure of check methods.\n    If a component needs to cache the work it does to perform a check, it must do that internally.\n\n    Furthermore, page exits should not depend on which page will get actuated next, so exit checks are allowed to use\n    only their existing state to perform the check.\n\n    Finally... once the checks pass, the routes are obligated to stop and play without exception. While we do our\n    best to recover the router state when exeptions happen here, we cannot guarantee that the user can dismiss\n    an error and continue using the application normally without reload. There for production error handlers\n    should probably force a reload when errors happen at this point.\n   */\n  public routeGet(pathname: string): Route<Handler> {\n    if (this.routePrefix && pathname.startsWith(this.routePrefix))\n      pathname = pathname.slice(this.routePrefix.length)\n\n    var matchingRoutes: Route<Handler>[] = []\n    for (var route of this.routes) if (pathname.match(route.regexp)) matchingRoutes.push(route)\n    if (matchingRoutes.length == 0) throw new Error(`no matching route for ${pathname}`)\n    else if (matchingRoutes.length > 1) throw new Error(`multiple matching routes for ${pathname}`)\n    var nextRoute = matchingRoutes[0]\n    return nextRoute\n  }\n\n  public urlParamGet(url: string, name: string): string | undefined {\n    if (url == undefined) return undefined\n    var indexOfQ = url.indexOf('?')\n    if (indexOfQ == -1) return undefined\n    var encodedParams = url.substring(indexOfQ + 1)\n    if (encodedParams == '') return undefined\n    var v = new URLSearchParams(encodedParams).get(name)\n    if (v == 'null') return undefined\n    if (v === null) return undefined\n    if (v == 'undefined') return undefined\n    return v\n  }\n\n  public urlParamSet(k: string, v: string): void {\n    var historyItemLast = window.app.router.historyItemLast\n    var root = historyItemLast.url\n    var indexOfQ = historyItemLast.url.indexOf('?')\n    var paramString = (indexOfQ == -1) ? '' : historyItemLast.url.substring(indexOfQ + 1)\n    var root = (indexOfQ == -1) ? historyItemLast.url : historyItemLast.url.substring(0, indexOfQ)\n\n    var urlSearchParams = new URLSearchParams(paramString)\n    urlSearchParams.set(k, v)\n\n    historyItemLast.url = root + '?' + urlSearchParams.toString()\n    history.replaceState(historyItemLast.state, this.lastRoute?.handler.titleGet() || '', historyItemLast.url)\n  }\n\n  public urlParse(url: string): [path: string, a: Record<string, any>] {\n    var pos = url.indexOf('?')\n    var path = (pos == -1) ? url : url.substring(0, pos)\n    if (path.startsWith('/')) path = path.substring(1)\n\n    // get new params\n    var a: Record<string, any> = {}\n    var indexOfQ = url.indexOf('?')\n    if (indexOfQ > -1) {\n      var encodedParams = url.substring(indexOfQ + 1)\n      if (encodedParams != '') {\n        var searchParams = new URLSearchParams(encodedParams)\n        searchParams.forEach((v, k) => {\n          if (v == 'false') a[k] = false\n          else if (v == 'true') a[k] = true\n          else if (v == 'null') a[k] = null\n          else if (v == 'undefined') a[k] = undefined\n          else a[k] = v\n        })\n      }\n    }\n    return [path, a]\n  }\n}\n\nexport abstract class RedirectRoute implements Handler {\n  public conf: Record<string, any>\n  public router: Router\n\n  constructor(router: Router, conf: Record<string, any>) {\n    this.router = router\n    this.conf = conf\n  }\n\n  public async playBwd(a: object): Promise<void> { }\n\n  public async playBwdOK(a: object): Promise<Reroute> {\n    return {\n      action: 'redirect',\n      url: this.resolve(a, undefined)\n    }\n  }\n\n  public async playFwd(a: object): Promise<void> { }\n\n  public async playFwdOK(a: object): Promise<Reroute> {\n    return {\n      action: 'redirect',\n      url: this.resolve(a, undefined)\n    }\n  }\n\n  public render() { }\n\n  // resolve returns a url\n  public abstract resolve(a: object, url?: string): string\n\n  public async stop(): Promise<void> { }\n\n  public async stopBwd(): Promise<void> {\n    throw { code: 'undefined' }\n  }\n\n  public async stopBwdOK(): Promise<Reroute | undefined> { return }\n\n  public async stopFwd(): Promise<void> {\n    throw { code: 'undefined' }\n  }\n\n  public async stopFwdOK(): Promise<Reroute | undefined> { return }\n\n  public abstract titleGet(): string\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { App } from './App.js'\nimport { Handler, Reroute } from './Router.js'\nimport { Donut } from './Donut.js'\n\nexport class ScreenRoute implements Handler {\n  public app: App\n  public screen: Screen\n\n  constructor(app: App, screen: Screen) { this.app = app; this.screen = screen }\n\n  public playBwd(a: object): Promise<void> { return this.screen.playBwd(a) }\n\n  public playBwdOK(a: object): Promise<Reroute | void> { return this.screen.playBwdOK(a) }\n\n  public playFwd(a: object): Promise<void> { return this.screen.playFwd(a) }\n\n  public playFwdOK(a: object): Promise<Reroute | void> { return this.screen.playFwdOK(a) }\n\n  public render() { this.screen.render() }\n\n  public resolve(a: object, url: string): string { return url }\n\n  public stopBwd(): Promise<void> { return this.screen.stopBwd() }\n\n  public stopBwdOK(): Promise<Reroute | void> { return this.screen.stopBwdOK() }\n\n  public stopFwd(): Promise<void> { return this.screen.stopFwd() }\n\n  public stopFwdOK(): Promise<Reroute | void> { return this.screen.stopFwdOK() }\n\n  public titleGet(): string { return this.screen.titleGet() }\n}\n\n\nexport abstract class Screen extends Donut {\n  public play(a: any): Promise<void> { return Promise.resolve() }\n\n  public playBwd(a: any): Promise<void> { return this.play(a) }\n\n  public playBwdOK(a: any): Promise<Reroute | void> { return Promise.resolve() }\n\n  public playFwd(a: any): Promise<void> { return this.play(a) }\n\n  public playFwdOK(a: any): Promise<Reroute | void> { return Promise.resolve() }\n\n  public stop(): Promise<void> { return Promise.resolve() }\n\n  public stopBwd(): Promise<void> { return this.stop() }\n\n  public stopBwdOK(): Promise<Reroute | void> { return Promise.resolve() }\n\n  public stopFwd(): Promise<void> { return this.stop() }\n\n  public stopFwdOK(): Promise<Reroute | void> { return Promise.resolve() }\n\n  public titleGet(): string { return 'Change Me!' }\n}\n", "import { App } from './Main.js'\nimport { Cash } from 'cash-dom'\nimport { DonutProps, DonutOptions, html, css } from './satori/Donut.js'\nimport { CreationActions } from './CreationActions.js'\nimport { CreationFooter } from './CreationFooter.js'\nimport { CreationHead } from './CreationHead.js'\nimport { Router } from './satori/Router.js'\nimport { Screen } from './satori/Screen.js'\nimport { Creation, Step, Ingredient } from './Schema.js'\nimport { AddCSS } from './satori/Loader.js'\nimport { dao } from './DAO.js'\n\n\n\n\nAddCSS(\"CreationE2EScreen\", css`\n  .creation-e2e-screen {\n    width: 100%;\n    background-color: rgba(255, 255, 255, 0.95);\n    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n    overflow: hidden;\n    font-family: ui-serif, Georgia, Cambria, \"Times New Roman\", Times, serif;\n    border: 1px solid rgb(226, 232, 240);\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n    padding-bottom: 5rem;\n  }\n\n  .creation-e2e-hero {\n    width: 100%;\n    aspect-ratio: 4/3;\n  }\n\n  .creation-e2e-hero img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .creation-e2e-content {\n    padding: 1.25rem 1.5rem 1.5rem;\n    max-width: 42rem;\n    margin-left: auto;\n    margin-right: auto;\n    flex: 1;\n  }\n\n  .creation-e2e-title-section {\n    margin-bottom: 1.5rem;\n    text-align: center;\n  }\n\n  .creation-e2e-title {\n    font-size: 1.875rem;\n    line-height: 2.25rem;\n    font-family: ui-serif, Georgia, Cambria, \"Times New Roman\", Times, serif;\n    letter-spacing: -0.025em;\n    color: rgb(6, 78, 59);\n  }\n\n  .creation-e2e-desc {\n    margin-top: 0.5rem;\n    font-size: 0.875rem;\n    line-height: 1.625;\n    color: rgb(51, 65, 85);\n    font-style: italic;\n  }\n\n  .creation-e2e-bom-box {\n    padding: 1rem;\n    margin-bottom: 1.25rem;\n    background-color: #F7F4EA;\n    border-radius: 1rem;\n    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n    border: 1px solid #EAE6E4;\n  }\n\n  .creation-e2e-section-title {\n    font-size: 1.5rem;\n    line-height: 2rem;\n    color: rgb(30, 41, 59);\n    text-align: center;\n    margin-bottom: 1rem;\n  }\n\n  .creation-e2e-bom {\n    font-size: 0.875rem;\n    line-height: 1.625;\n    color: rgb(30, 41, 59);\n  }\n\n  .creation-e2e-bom ul {\n    list-style-type: disc;\n    list-style-position: inside;\n  }\n\n  .creation-e2e-bom ul li {\n    margin-bottom: 0.25rem;\n  }\n\n  .creation-e2e-steps{\n    margin-bottom: 1.25rem;\n  }\n\n  .creation-e2e-steps ol {\n    margin-top: 0.75rem;\n    list-style-type: decimal;\n    list-style-position: inside;\n    font-size: 0.875rem;\n    line-height: 1.625;\n    color: rgb(30, 41, 59);\n  }\n\n  .creation-e2e-steps ol li {\n    margin-bottom: 0.25rem;\n  }\n\n  .creation-e2e-notes {\n    margin-bottom: 1.5rem;\n  }\n\n  .creation-e2e-notes p {\n    margin-top: 0.75rem;\n    font-size: 0.75rem;\n    line-height: 1.625;\n    color: rgb(51, 65, 85);\n  }\n\n  .creation-e2e-actions-fixed {\n    position: fixed;\n    bottom: 0;\n  }\n`)\n\n\n\n\nexport class CreationE2EScreen extends Screen {\n  public static URL(a: CreationE2EScreen['a']) {\n    return `creation-e2e?${Router.aToURLParams(a)}`\n  }\n  declare public a: { id: string }\n  declare public app: App\n\n\n  private creation!: Creation\n  private title!: Cash\n  private desc!: Cash\n  private heroImg!: Cash\n  private bom!: Cash\n  private steps!: Cash\n  private notes!: Cash\n  private makeFooter!: Cash\n\n  init(template: string, props: DonutProps, options: DonutOptions): Cash {\n    // html annotation intentionally left out\n    var template = html`\n    <div class=\"creation-e2e-screen\">\n      <div class=\"creationHeader\"></div>\n\n      <!-- Edge-to-edge hero image -->\n      <div class=\"creation-e2e-hero\">\n        <img class=\"creation-e2e-hero-img\" src=\"\" alt=\"\" />\n      </div>\n\n      <!-- Content -->\n      <div class=\"creation-e2e-content\">\n\n        <!-- Title + Desc -->\n        <div class=\"creation-e2e-title-section\">\n          <h1 class=\"creation-e2e-title\"></h1>\n          <p class=\"creation-e2e-desc\"></p>\n        </div>\n\n        <!-- BOM -->\n        <div class=\"creation-e2e-bom-box\">\n          <h2 class=\"creation-e2e-section-title\">Ingredients</h2>\n          <div class=\"creation-e2e-bom\">\n            <ul class=\"creation-e2e-bom-list\"></ul>\n          </div>\n        </div>\n\n        <!-- Steps -->\n        <div class=\"creation-e2e-steps\">\n          <h2 class=\"creation-e2e-section-title\">Steps</h2>\n          <ol class=\"creation-e2e-steps-list\"></ol>\n        </div>\n\n        <!-- Notes -->\n        <div class=\"creation-e2e-notes\">\n          <h2 class=\"creation-e2e-section-title\">Notes</h2>\n          <p class=\"creation-e2e-notes-p\"></p>\n        </div>\n\n        <!-- Footer brand line -->\n        <div class=\"makeFooter\"></div>\n      </div>\n\n      <div class='makeActions creation-e2e-actions-fixed'></div>\n    </div>`\n\n    super.init(template, {\n      creationHeader: [\".creationHeader\", CreationHead],\n      makeFooter: [\".makeFooter\", CreationFooter],\n      makeActions: [\".makeActions\", CreationActions],\n      title: \".creation-e2e-title\",\n      desc: \".creation-e2e-desc\",\n      heroImg: \".creation-e2e-hero-img\",\n      bom: \".creation-e2e-bom-list\",\n      steps: \".creation-e2e-steps-list\",\n      notes: \".creation-e2e-notes-p\"\n    }, options)\n\n    return this.dobs\n  }\n\n  async play(a: CreationE2EScreen['a']) {\n    this.a = a\n    let creation = await dao.CreationGetByID(this.a.id)\n    if (creation == undefined) {\n      throw new Error('does not exist')\n    }\n    this.creation = creation\n  }\n\n  render() {\n    // Populate the UI with the data\n    this.title.text(this.creation.title)\n    this.desc.text(this.creation.desc)\n    this.heroImg.attr('src', this.creation.heroImg)\n    this.heroImg.attr('alt', this.creation.title)\n    this.notes.text(this.creation.notes)\n\n    // Populate BOM\n    this.bom.empty()\n    this.creation.bom.forEach(ingredient => {\n      const li = ingredient.link\n        ? `<li><a href=\"${ingredient.link}\" target=\"_blank\">${ingredient.title}</a></li>`\n        : `<li>${ingredient.title}</li>`\n      this.bom.append(li)\n    })\n\n    // Populate Steps\n    this.steps.empty()\n    this.creation.steps.forEach(step => {\n      this.steps.append(`<li>${step}</li>`)\n    })\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { Cash } from 'cash-dom'\nimport { Donut, DonutProps, DonutOptions, html, css } from './satori/Donut.js'\nimport { AddCSS } from './satori/Loader.js'\nimport { Creation } from './Schema.js'\n\nAddCSS(\"CreationBrief\", css`\n  .creation-brief-card {\n    width: 100%;\n    max-width: 42rem;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: white;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n    border: 1px solid rgb(241, 245, 249);\n    overflow: hidden;\n    display: flex;\n    gap: 1rem;\n    padding: 0.75rem;\n    transition: all 0.2s ease-out;\n    cursor: pointer;\n  }\n\n  .creation-brief-card:hover {\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    transform: translateY(-0.125rem);\n  }\n\n  @media (min-width: 640px) {\n    .creation-brief-card {\n      padding: 1rem;\n    }\n  }\n\n  .creation-brief-thumbnail {\n    flex-shrink: 0;\n  }\n\n  .creation-brief-thumb-wrapper {\n    width: 6rem;\n    height: 6rem;\n    border-radius: 1rem;\n    overflow: hidden;\n    background-color: rgb(241, 245, 249);\n  }\n\n  @media (min-width: 640px) {\n    .creation-brief-thumb-wrapper {\n      width: 7rem;\n      height: 7rem;\n    }\n  }\n\n  .creation-brief-thumb-wrapper img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .creation-brief-content {\n    display: flex;\n    flex-direction: column;\n    min-width: 0;\n  }\n\n  .creation-brief-header {\n    margin-bottom: 0.25rem;\n  }\n\n  .creation-brief-title {\n    font-size: 1.125rem;\n    font-family: ui-serif, Georgia, Cambria, \"Times New Roman\", Times, serif;\n    font-weight: 600;\n    color: rgb(6, 78, 59);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  @media (min-width: 640px) {\n    .creation-brief-title {\n      font-size: 1.25rem;\n    }\n  }\n\n  .creation-brief-desc {\n    font-size: 0.75rem;\n    color: rgb(71, 85, 105);\n    line-height: 1.375;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n\n  @media (min-width: 640px) {\n    .creation-brief-desc {\n      font-size: 0.875rem;\n    }\n  }\n\n  .creation-brief-meta {\n    margin-top: 0.5rem;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    gap: 0.75rem 0.75rem;\n    font-size: 0.75rem;\n    color: rgb(51, 65, 85);\n  }\n\n  @media (min-width: 640px) {\n    .creation-brief-meta {\n      font-size: 0.75rem;\n    }\n  }\n\n  .creation-brief-meta-item {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.25rem;\n  }\n\n  .creation-brief-footer {\n    margin-top: 0.75rem;\n    font-size: 0.65rem;\n    letter-spacing: 0.22em;\n    text-transform: uppercase;\n    color: rgb(148, 163, 184);\n  }\n`)\n\nexport class CreationBrief extends Donut {\n  declare public a: {\n    creation: Creation\n    onClick: (c: Creation) => Promise<void>\n  }\n\n  // Private Cash elements for dynamic content\n  private heroImg!: Cash\n  private title!: Cash\n  private desc!: Cash\n  private timeMetaIcon!: Cash\n  private timeMeta!: Cash\n  private tagMetaIcon!: Cash\n  private tagMeta!: Cash\n  private brandFooter!: Cash\n\n  public init(template: string, props: DonutProps, options: DonutOptions): Cash {\n    template = html`\n<div class=\"creation-brief-card\">\n  <!-- Thumbnail -->\n  <div class=\"creation-brief-thumbnail\">\n    <div class=\"creation-brief-thumb-wrapper\">\n      <img class=\"creation-hero-img\" src=\"\" alt=\"\" />\n    </div>\n  </div>\n\n  <!-- Text content -->\n  <div class=\"creation-brief-content\">\n    <!-- Title + tagline -->\n    <header class=\"creation-brief-header\">\n      <h2 class=\"creation-brief-title\"></h2>\n      <p class=\"creation-brief-desc\"></p>\n    </header>\n\n    <!-- Meta row -->\n    <div class=\"creation-brief-meta\">\n      <span class=\"creation-brief-meta-item\">\n        <span class=\"creation-time-meta-icon\" aria-hidden=\"true\"></span>\n        <span class=\"creation-time-meta\"></span>\n      </span>\n      <span class=\"creation-brief-meta-item\">\n        <span class=\"creation-ingredient-meta-icon\" aria-hidden=\"true\"></span>\n        <span class=\"creation-ingredient-meta\"></span>\n      </span>\n      <span class=\"creation-brief-meta-item\">\n        <span class=\"creation-tag-meta-icon\" aria-hidden=\"true\"></span>\n        <span class=\"creation-tag-meta\"></span>\n      </span>\n    </div>\n\n    <!-- Brand line -->\n    <footer class=\"creation-brief-footer\"></footer>\n  </div>\n</div>`\n\n    super.init(template, {\n      heroImg: \".creation-hero-img\",\n      title: \".creation-brief-title\",\n      desc: \".creation-brief-desc\",\n      timeMetaIcon: \".creation-time-meta-icon\",\n      timeMeta: \".creation-time-meta\",\n      tagMetaIcon: \".creation-tag-meta-icon\",\n      tagMeta: \".creation-tag-meta\",\n      brandFooter: \".creation-brief-footer\"\n    }, options)\n\n    // bind handlers\n    this.dobs.on('click', async () => {\n      if (this.a.onClick) {\n        await this.a.onClick(this.a.creation)\n      }\n    })\n\n    return this.dobs\n  }\n\n  async play(creation: Creation) {\n    this.a.creation = creation\n    this.render()\n  }\n\n  render() {\n    if (!this.a.creation) return\n\n    // Populate all dynamic content from this.a.creation\n    this.title.text(this.a.creation.title)\n    this.desc.text(this.a.creation.desc)\n    this.heroImg.attr('src', this.a.creation.heroImg)\n    this.heroImg.attr('alt', this.a.creation.title)\n\n    // Meta information (these would ideally come from creation metadata)\n    // For now, using placeholder values - you can extend Creation schema to include these\n    this.timeMetaIcon.text('\u23F1')\n    this.timeMeta.text(this.a.creation.time)\n\n    this.tagMetaIcon.text('\uD83C\uDF3F')\n    this.tagMeta.text(this.a.creation.tags?.join(' '))\n\n    this.brandFooter.text('FarmGoods Market')\n  }\n}", "// import { AccountScreen } from './AccountScreen.js'\nimport { AddCSS, Loader } from './Loader.js'\nimport { App } from './Main.js'\nimport { Cash } from 'cash-dom'\nimport { Donut, DonutProps, DonutOptions, html, css } from './satori/Donut.js'\n\nAddCSS(\"ScreenHead\", css`\n  .menu-text-shadow {\n    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.3);\n  }\n\n  @keyframes vCollapseAnim {\n    from {\n      max-height: 100px;\n      opacity: 1;\n    }\n    to {\n      max-height: 0px;\n      opacity: 0;\n    }\n  }\n\n  @keyframes vExpandAnim {\n    from {\n      max-height: 0px;\n      opacity: 0;\n    }\n    to {\n      max-height: 100px;\n      opacity: 1;\n    }\n  }\n\n  .vCollapseAnim {\n    animation: vCollapseAnim 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;\n  }\n\n  .vExpandAnim {\n    animation: vExpandAnim 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;\n  }`)\n\nexport class ScreenHead extends Donut {\n  declare public a: {}\n  declare public app: App\n\n  accountButton!: Cash\n  loginButton!: Cash\n  signinButton!: Cash\n\n  constructor() {\n    super()\n  }\n\n  init(template: string, props: DonutProps, options: DonutOptions): Cash {\n    var template = html`\n<div class=\"menu w-full bg-blue-400 py-2 px-2 sm:py-4 sm:px-8 sm:rounded-b-2xl  \">\n  <div class=\"w-full mt-auto mr-auto mb-auto ml-auto grid grid-cols-[auto_1fr_auto]\">\n    <!-- Brand vvv -->\n    <img src=\"./assets/brand-5.png\" class=\"brand cursor-pointer max-w-[50px]\" />\n\n    <!-- Main Menu vvv -->\n    <div class=\"flex flex-col items-end\">\n      <div class=\"grid h-full grid-flow-col auto-cols-auto gap-x-3 text-gray-200 font-medium px-3\" fontfamily=\"Raleway\">\n        <a href=\"#\" class=\"menu-text-shadow h-full flex items-center justify-center cartButton\">Cart</a>\n        <a href=\"#\" class=\"menu-text-shadow h-full flex items-center justify-center messengerButton\">Messenger</a>\n        <a href=\"#\" class=\"menu-text-shadow max-sm:hidden h-full flex items-center justify-center blogButton\">News</a>\n        <a href=\"#\" class=\"menu-text-shadow max-sm:hidden h-full flex items-center justify-center aboutButton\">About</a>\n        <div class=\"subMenuBarDob sm:hidden h-[50px] w-[50px] flex items-center justify-end\"> <i\n            class=\"fas fa-bars text-white\"></i> </div>\n      </div>\n    </div>\n    <!-- Main Menu ^^^ -->\n\n    <!-- Account Buttons vvv -->\n    <div class=\"items-center flex\">\n      <button fontfamily=\"Arial\" type=\"submit\"\n        class=\"accountButton border-2 border-gray-200 flex w-full h-9 text-gray-200\n                            bg-transparent items-center justify-center text-center rounded-lg text-lg font-normal px-3\">\n        Account</button>\n      <button fontfamily=\"Arial\" type=\"submit\"\n        class=\"signinButton border-2 border-gray-200 flex w-full h-9 text-gray-200\n                            bg-transparent items-center justify-center text-center rounded-lg text-lg font-normal px-3\">Sign&nbsp;in</button>\n      <button fontfamily=\"Arial\" type=\"submit\" class=\"loginButton hover:bg-blue-900 hover:border-blue-900 border-2 flex\n                            border-blue-700 w-full h-9 text-white bg-blue-700 items-center justify-center text-center rounded-lg\n                            text-lg font-normal px-3\">New&nbsp;Patient</button>\n    </div>\n\n\n\n    <!-- Sub Menu vvv -->\n    <div></div>\n    <div class=\"subMenu max-h-0 overflow-clip flex flex-col items-end\">\n      <div class=\"grid grid-cols-1 text-gray-200 font-medium px-3\" style=\"grid-auto-rows: 40px;\" fontfamily=\"Raleway\">\n        <a href=\"#\" class=\"menu-text-shadow flex items-center justify-end blogButton\">News</a>\n        <a href=\"#\" class=\"menu-text-shadow flex items-center justify-end aboutButton\">About</a>\n      </div>\n    </div>\n    <div></div>\n    <!-- Sub Menu ^^^ -->\n  </div>\n</div>\n`\n    super.init(template, {\n      aboutButton: '.aboutButton',\n      accountButton: '.accountButton',\n      blogButton: '.blogButton',\n      brand: '.brand',\n      messengerButton: '.messengerButton',\n      loginButton: '.loginButton',\n      cartButton: '.cartButton',\n      signinButton: '.signinButton',\n      subMenu: '.subMenu',\n      subMenuBarDob: '.subMenuBarDob',\n    }, options)\n\n\n    // this.accountButton.on('click touch', e => this.goto(AccountScreen.URL({})))\n    this.loginButton.on('click touch', e => this.app.auth.play()) // This one directly triggers login\n    this.signinButton.on('click touch', e => this.app.auth.play()) // This one also directly triggers signin\n\n    this.accountButton.on('click touch', e => this.app.router.playFwd(AccountScreen.URL({})))\n    this.loginButton.on('click touch', e => this.app.auth.play())\n    this.signinButton.on('click touch', e => this.app.auth.play())\n    return this.dobs\n  }\n\n  render() {\n    if (this.app.auth.profile != null) {\n      this.accountButton.show()\n      this.loginButton.hide()\n      this.signinButton.hide()\n    } else {\n      this.accountButton.hide()\n      this.loginButton.show()\n      this.signinButton.show()\n    }\n  }\n\n  // Method to handle forward navigation and ensure sub-navigation is closed\n  goto(url: string) {\n    this.subNavClose() // Close the sub-navigation\n    this.app.router.playFwd(url) // Perform forward navigation\n  }\n\n  subMenuToggle() {\n    if (this.subMenuVisible) {\n      if (this.subMenuTimeout) {\n        window.clearTimeout(this.subMenuTimeout)\n        this.subMenuTimeout = undefined\n      }\n      this.subMenuVisible = false\n      this.subMenu.removeClass(\"vExpandAnim\")\n      this.subMenu.addClass(\"vCollapseAnim\")\n    } else {\n      this.subMenuTimeout = window.setTimeout(() => this.subMenuToggle(), 10000)\n      this.subMenuVisible = true\n      this.subMenu.removeClass(\"vCollapseAnim\")\n      this.subMenu.addClass(\"vExpandAnim\")\n    }\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { Cash } from 'cash-dom'\nimport { Donut, DonutProps, DonutOptions, html } from './Donut.js'\n\nexport interface ParameterizedDocDonut<T> extends Donut {\n  a: Record<string, any>\n}\n\nexport class List<B extends ParameterizedDocDonut<T>, BP extends Record<string, any>, T> extends Donut {\n  declare public a: {\n    item: {\n      a?: BP\n      class: { new(): B }\n      docSet: (donut: B, doc: T) => void\n      options?: { [k: string]: any }\n      render: (donut: B) => Promise<void>\n    }\n    docs: T[]\n  }\n\n  public itemDonuts: B[]\n  public listDob!: HTMLElement\n\n  constructor() {\n    super()\n    this.itemDonuts = []\n  }\n\n  public init(template?: string, props?: DonutProps, options?: DonutOptions): Cash {\n    template = html`\n<div class='list'></div>`\n    super.init(template, props, options)\n\n    this.a.docs = []\n    this.listDob = this.dobs.get(0) as HTMLElement\n    return this.dobs\n  }\n\n  public itemDonutGet(i: number): B {\n    if (this.itemDonuts[i]) return this.itemDonuts[i]\n\n    // Make it\n    var donut: B = this.donutFactory.donutBake<B>(this.a.item.class, undefined, undefined, this.a.item.options)\n\n    // Copy props\n    if (this.a.item.a)\n      for (var key of Object.keys(this.a.item.a))\n        donut.a[key] = this.a.item.a[key]\n\n    // Append to list\n    this.listDob.append(donut.dobs.get(0) as HTMLElement)\n    this.itemDonuts[i] = donut\n    return donut\n  }\n\n  public refresh() {\n    let i = 0\n    for (; i < this.a.docs.length; i++) {\n      const itemDonut = this.itemDonutGet(i)\n      itemDonut.render()\n    }\n  }\n\n  public render(): Promise<void[]> {\n    var promises: Promise<void>[] = []\n    var docs = this.a.docs\n\n    // make donuts\n    let i = 0\n    for (; i < docs.length; i++) {\n      const itemDonut = this.itemDonutGet(i)\n      const j = i\n      this.a.item.docSet(itemDonut, docs[j])\n      itemDonut.dobs.show()\n      promises.push(this.a.item.render(itemDonut))\n    }\n    for (; i < this.itemDonuts.length; i++)\n      this.itemDonuts[i].dobs.hide()\n\n    return Promise.all(promises)\n  }\n\n  public async valueIsValidAndFinal() {\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport cash from 'cash-dom'\nimport { Cash, Element } from 'cash-dom'\nimport { List, ParameterizedDocDonut } from './List.js'\n\nexport class VIList<B extends ParameterizedDocDonut<T>, BP extends Record<string, any>, T> {\n  // public a: {}\n\n  public hasMore: boolean = false\n  public list: List<B, BP, T>\n  public page0Loaded: boolean = false\n  public pageGet: (i: number) => Promise<T[]>\n  public pageNext: number = 0\n  public pageNextPlaying: boolean = false\n  public scrollEvtListener: EventListener = (evt: Event) => { this.scroll(evt as UIEvent) }\n  public scroller!: (e: Event) => void\n  public scrollingElement: Cash\n\n  constructor(scrollingElement: Cash, list: List<B, BP, T>, pageGet: (i: number) => Promise<T[]>) {\n    this.scrollingElement = scrollingElement\n    this.list = list\n    this.pageGet = pageGet\n  }\n\n  public init() {\n    return this\n  }\n\n  public async pageNextGet(): Promise<void> {\n    this.page0Loaded = true\n    if (this.pageNextPlaying || !this.hasMore) return\n    this.pageNextPlaying = true\n\n    var result = await this.pageGet(this.pageNext)\n    this.pageNextPlaying = false\n    if (result.length == 0) {\n      this.hasMore = false\n      return\n    }\n    this.pageNext++\n    this.list.a.docs.splice(this.list.a.docs.length, 0, ...result)\n    this.list.render()\n  }\n\n  public async play(): Promise<void> {\n    // this.client.scrollingElement.scroll(this.scroller)\n    window.addEventListener('scroll', this.scrollEvtListener)\n  }\n\n  public render() {\n    this.list.render()\n  }\n\n  public async reset(): Promise<void> {\n    this.pageNext = 0\n    this.hasMore = true\n    this.page0Loaded = false\n    if (this.list.a.docs && this.list.a.docs.length) {\n      this.list.a.docs = []\n      await this.list.render()\n    } else {\n      this.list.a.docs = []\n    }\n  }\n\n  public scroll(evt: UIEvent) {\n    if ((this.scrollingElement.scrollTop() + 2 * window.innerHeight) < document.body.clientHeight) {\n      return\n    }\n\n    this.pageNextGet()\n  }\n\n  public stop() {\n    window.removeEventListener('scroll', this.scrollEvtListener)\n  }\n}\n\nexport class HIList<B extends ParameterizedDocDonut<T>, BP extends Record<string, any>, T> extends VIList<B, BP, T> {\n  public async play(): Promise<void> {\n    // this.client.scrollingElement.scroll(this.scroller)\n    this.scrollingElement.get(0)!.addEventListener('scroll', this.scrollEvtListener)\n  }\n\n  public scroll(evt: UIEvent) {\n    var scrollWidth = this.scrollingElement.get(0)!.scrollWidth\n    var scrollLeft = this.scrollingElement.get(0)!.scrollLeft\n    if ((scrollWidth - scrollLeft) < (2 * document.body.clientWidth)) {\n      console.log('getting another page')\n      this.pageNextGet()\n    }\n  }\n\n  public stop() {\n    this.scrollingElement.get(0)!.removeEventListener('scroll', this.scrollEvtListener)\n  }\n}\n", "import { AddCSS } from './satori/Loader.js'\nimport { App } from './Main.js'\nimport { Cash } from 'cash-dom'\nimport { Creation, Step, Ingredient } from './Schema.js'\nimport { CreationBrief } from './CreationBrief.js'\nimport { CreationHead } from './CreationHead.js'\nimport { ScreenHead } from './ScreenHead.js'\nimport { DonutProps, DonutOptions, html, css } from './satori/Donut.js'\nimport { List } from './satori/List.js'\nimport { Router } from './satori/Router.js'\nimport { Screen } from './satori/Screen.js'\nimport { VIList } from './satori/IList.js'\nimport { dao } from './DAO.js'\nimport { CreationE2EScreen } from './CreationE2EScreen.js'\n\n\nAddCSS(\"CreationsScreen\", css`\n.creationsScreen .creationsScreenList {\n  background-color: #f5f1ed;\n  width: 100%;\n}\n\n.creationsScreen .creationsScreenList > * {\n  margin-bottom: 1rem;\n}\n\n.creationsScreen .creationsScreenList > *:last-child {\n  margin-bottom: 0;\n}\n`)\n\nexport class CreationsScreen extends Screen {\n  public static URL(a: CreationsScreen['a']) {\n    return `creations?${Router.aToURLParams(a)}`\n  }\n  declare public a: {}\n  declare public app: App\n\n  private iList!: VIList<CreationBrief, CreationBrief['a'], Creation>\n  private list!: List<CreationBrief, CreationBrief['a'], Creation>\n  private listHead!: CreationHead\n  private screenHead!: ScreenHead\n\n\n  init(template: string, props: DonutProps, options: DonutOptions): Cash {\n    var template = html`\n<div class='creationsScreen'>\n  <div class='creationsScreenHead'></div>\n  <div class='creationsScreenListHead'></div>\n  <div class='creationsScreenList'></div>\n</div>`\n\n    super.init(template, {\n      screenHead: ['.creationsScreenHead', ScreenHead],\n      listHead: ['.creationsScreenListHead', CreationHead],\n      list: ['.creationsScreenList', List],\n    }, options)\n\n    this.list.a = {\n      docs: [],\n      item: {\n        class: CreationBrief,\n        docSet: (donut: CreationBrief, doc: Creation) => donut.a.creation = doc,\n        a: {\n          creation: {} as Creation,\n          onClick: async (c: Creation) => {\n            this.app.router.playFwd(CreationE2EScreen.URL({ id: c.id }))\n          },\n        },\n        render: (donut: CreationBrief) => donut.play(donut.a.creation).then(() => donut.render()),\n      }\n    }\n\n    this.iList = new VIList<CreationBrief, CreationBrief['a'], Creation>(\n      this.app.scrollingElement,\n      this.list,\n      p => this.listPageGet(p)\n    ).init()\n\n    return this.dobs\n  }\n\n  async play(a: CreationsScreen['a']) {\n    await this.iList.play()\n    this.iList.reset()\n    this.iList.pageNextGet()\n  }\n\n  async stop() {\n    this.iList.stop()\n  }\n\n  render() {\n  }\n\n  public listPageGet(page: number): Promise<Creation[]> {\n    return dao.CreationsGet(20, page)\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { Cash } from 'cash-dom'\nimport { Donut, DonutProps, DonutOptions, html } from './Donut.js'\n\ndeclare interface Job {\n  alternateButtonHtml?: string\n  defaultButtonHtml: string\n  messageHtml: string | Donut\n  reject: (err: any) => void,\n  resolve: (choice: AlertResponse) => void,\n  scrimClearOnExit: boolean\n  scrimPlay: boolean\n  syncCallback?: (choice: AlertResponse) => Promise<void>\n}\n\nexport enum AlertResponse {\n  Default = 'd',\n  Alt = 'a',\n  Skipped = 's'\n}\n\nexport class AlertPopup extends Donut {\n  public alternateButton!: Cash\n  public defaultButton!: Cash\n  public job?: Job\n  public message!: Cash\n  public container!: Cash\n  public playing: boolean = false\n  public queue!: Job[]\n  public spacer!: Cash\n\n  public alertOne() {\n    if (this.playing || this.queue.length == 0) return\n    this.playing = true\n\n    var job = this.job = this.queue.shift()\n    if (!job) return\n    var {\n      alternateButtonHtml,\n      defaultButtonHtml,\n      messageHtml,\n      reject,\n      resolve,\n      scrimClearOnExit = true,\n      scrimPlay = true,\n      syncCallback = null,\n    } = this.job!\n\n    if (scrimPlay) this.app.scrimPlay()\n\n    // message\n    this.message.children().detach() // this is the nice way... retains event handlers in substructure\n    if (typeof messageHtml == 'string')\n      this.message.html(messageHtml)\n    else {\n      var donut = messageHtml as Donut\n      this.message.append(donut.dobs)\n    }\n\n    // Default Button\n    if (defaultButtonHtml) {\n      this.defaultButton.show()\n      this.defaultButton.html(defaultButtonHtml)\n    } else {\n      this.defaultButton.hide()\n    }\n\n    // Alternate Button\n    if (alternateButtonHtml) {\n      this.alternateButton.show()\n      this.alternateButton.html(alternateButtonHtml)\n      this.spacer.show()\n    } else {\n      this.alternateButton.hide()\n      this.spacer.hide()\n    }\n\n    // transition\n    this.container.animateCss('zoomIn')\n    this.dobs.removeClass('hidden')\n  }\n\n  // play it now\n  public alertPlay(\n    messageHtml: string | Donut,\n    defaultButtonHtml: string,\n    alternateButtonHtml?: string,\n    scrimClearOnExit: boolean = true,\n    scrimPlay: boolean = true,\n    syncCallback?: ((choice: AlertResponse) => Promise<void>),\n    positionFixed: boolean = false\n  ): Promise<AlertResponse> {\n    var promise = new Promise<AlertResponse>((resolve, reject) => {\n      var job: Job = {\n        alternateButtonHtml,\n        defaultButtonHtml,\n        messageHtml,\n        reject,\n        resolve,\n        scrimClearOnExit,\n        scrimPlay,\n        syncCallback,\n      }\n      this.queue.push(job)\n      this.alertOne()\n    })\n\n    return promise\n  }\n\n  // play if the interval has passed\n  public alertPlayAsNag(\n    id: string,\n    intervalMs: number,\n    messageHtml: string,\n    defaultButtonHtml: string,\n    alternateButtonHtml?: string,\n    scrimClearOnExit?: boolean,\n    scrimPlay: boolean = true,\n    syncCallback?: (choice: AlertResponse) => Promise<void>\n  ): Promise<AlertResponse> {\n    if (!this.willPlayNag(id, intervalMs)) return Promise.resolve(AlertResponse.Skipped)\n    this.app.stor.put(`nag::${id}`, Date.now())\n    return this.alertPlay(\n      messageHtml,\n      defaultButtonHtml,\n      alternateButtonHtml,\n      scrimClearOnExit,\n      scrimPlay,\n      syncCallback,\n    )\n  }\n\n  public altButtonPlay(e: Event) {\n    this.evtStop(e)\n\n    let job = this.job!\n    try {\n      if (job.syncCallback) job.syncCallback(AlertResponse.Alt)\n    } catch (err) {\n      this.app.sentry.captureException(err)\n    }\n    this.resolve(AlertResponse.Alt)\n  }\n\n  public defaultButtonPlay(e: Event) {\n    this.evtStop(e)\n\n    try {\n      let job = this.job!\n      if (job.syncCallback) job.syncCallback(AlertResponse.Default)\n    } catch (err) {\n      this.app.sentry.captureException(err)\n    }\n    this.resolve(AlertResponse.Default)\n  }\n\n  public init(template?: string, props?: DonutProps, options?: DonutOptions): Cash {\n    template = html`\n<div class='fixed p-4 z-50 w-screen h-screen max-w-screen max-h-screen flex items-center justify-center'>\n  <div class='container max-h-full bg-white dark:bg-black rounded-xl shadow'>\n    <div class='markdown-body message w-full max-h-[75vh] overflow-y-auto overflow-x-auto px-3 my-3'></div>\n    <div class='buttons w-full px-3 my-3'>\n      <div class='alternate button tall w-full' tabindex='9101'>\n        <div class='copy'>Alternate</div>\n      </div>\n      <div class='space w-full'>&nbsp;</div>\n      <div class='default button tall w-full' tabindex='9100'>\n        <div class='copy'>Default</div>\n      </div>\n    </div>\n  </div>\n</div>`\n\n    super.init(template, {\n      alternateButton: '.alternate.button',\n      spacer: '.buttons .space',\n      defaultButton: '.default.button',\n      message: '.message',\n      container: '.container'\n    }, options)\n\n    this.queue = []\n    this.defaultButton.on('click touch', e => this.defaultButtonPlay(e))\n    this.defaultButton.on('keydown', e => this.defaultButtonPlay(e))\n    this.alternateButton.on('click touch', e => this.altButtonPlay(e))\n    this.alternateButton.on('keydown', e => this.altButtonPlay(e))\n\n    return this.dobs\n  }\n\n  public async resolve(choice: AlertResponse) {\n    if (!this.playing) return\n    this.container.animateCss('zoomOut')\n    this.playing = false\n    this.dobs.addClass('hidden')\n\n    var job = this.job!\n    if (job.scrimClearOnExit && this.queue.length == 0) this.app.scrimStop()\n    this.alertOne()\n    job.resolve(choice)\n  }\n\n  // returns if the nag will play\n  public willPlayNag(id: string, intervalMs: number): boolean {\n    var key = `nag::${id}`\n    var lastPlayed = this.app.stor.get(key)\n    var lastPlayed = lastPlayed || 0\n    var now = Date.now()\n    if (now - lastPlayed < intervalMs) return false\n    return true\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nexport class CookieStorage implements Storage {\n  public cache: { [k: string]: any }\n\n  public length: number = 0\n\n  constructor() {\n    // init the cache\n    this.cache = {}\n    var cs = document.cookie.split(';')\n    for (var i = 0; i < cs.length; i++) {\n      var c = cs[i]\n\n      // trim leading whitespace\n      while (c.charAt(0) == ' ') c = c.substring(1, c.length)\n\n      // get key\n      var eqIdx = c.indexOf('=')\n      var key = c.substring(0, eqIdx)\n\n      // get value\n      var value = decodeURIComponent(c.substring(eqIdx + 1, c.length))\n\n      // set the cache\n      this.cache[key] = value\n    }\n  }\n\n  public clear(): void {\n    this.cache = {}\n    this.save()\n  }\n\n  public getItem(key: string): string | null {\n    return this.cache[key]\n  }\n\n  public key(index: number): string | null {\n    return this.keys()[index]\n  }\n\n  public keys() {\n    return Object.keys(this.cache)\n  }\n\n  public removeItem(key: string): void {\n    delete this.cache[key]\n    this.save()\n  }\n\n  public save() {\n    var parts: string[] = []\n    for (var key in this.cache)\n      parts.push(`${key}=${encodeURIComponent(this.cache[key])}`)\n    document.cookie = parts.join(';') + '; expires=; path=/'\n  }\n\n  // setItem returns true if key is changed\n  public setItem(key: string, value: string): void {\n    this.cache[key] = value\n    this.save()\n  }\n}\n\nexport class AppStorage {\n  public ls: Storage\n  public prefix: string\n  public space: string\n  public usingLocalStorage: boolean = false\n\n  constructor(space: string = 'default') {\n    this.space = space\n\n    // try localstorage\n    try {\n      var x = 'asdf' + Date.now()\n      localStorage.setItem(x, x)\n      var y = localStorage.getItem(x)\n      localStorage.removeItem(x)\n      if (x !== y) {\n        throw new Error()\n      }\n      this.ls = localStorage\n      this.usingLocalStorage = true\n    } catch (exception) {\n      // make up a polyfill\n      console.log(exception)\n      this.ls = new CookieStorage()\n    }\n\n    this.prefix = 'fg'\n\n    return this\n  }\n\n  /**\n   * @memberOf Client\n   */\n  public clear() {\n    var keys = this.usingLocalStorage ? Object.keys(this.ls) : this.ls.keys()\n    var prefix = `${this.prefix}::${this.space}`\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      if (key.indexOf(prefix) == 0) this.ls.removeItem(key)\n    }\n  }\n\n  /**\n   * @memberOf Client\n   */\n  public get(key: string): any {\n    key = `${this.space}__${key}`\n    var value = this.ls.getItem(`${this.prefix}::${key}`)\n    if (value == 'undefined' || value == 'null' || value === undefined || value === null)\n      return undefined\n    else {\n      return JSON.parse(value)\n    }\n  }\n\n  /**\n   * @memberOf Client\n   * returns true if changed\n   */\n  public put(key: string, value: any): boolean {\n    let current = this.get(key)\n    if (current == value) return false\n\n    let spaceKey = `${this.space}__${key}`\n    var sval = JSON.stringify(value)\n    this.ls.setItem(`${this.prefix}::${spaceKey}`, sval)\n    return true\n  }\n\n\n  /**\n   * @memberOf Client\n   * returns true if changed\n   */\n  public remove(key: string): void {\n    let spaceKey = `${this.space}__${key}`\n    this.ls.removeItem(`${this.prefix}::${spaceKey}`)\n  }\n}\n", "import { AlertPopup, AlertResponse } from './AlertPopup.js'\nimport { AppStorage } from './Storage.js'\nimport { Cash, Element } from 'cash-dom'\nimport cash from 'cash-dom'\nimport { Donut, DonutOptions, DonutProps } from './Donut.js'\nimport { Router } from './Router.js'\nimport './CashExt'\n\n\nexport class App extends Donut {\n  public alertPopup!: AlertPopup\n  public blurAllInput!: Cash\n  public conf!: { [k: string]: any }\n  public stor: AppStorage\n  public router: Router\n  public scrimDob!: Cash\n  public scrollingElement: Cash\n  public sentry: typeof Sentry\n\n  constructor() {\n    super()\n    this.router = new Router(this)\n    this.stor = new AppStorage(\"main\")\n    this.scrollingElement = cash(document.scrollingElement || document.documentElement)\n\n  }\n\n  init(template?: string, props?: DonutProps, options?: DonutOptions): Cash {\n    this.donutFactory.init()\n    super.init(template, props, options)\n    return this.dobs\n  }\n\n\n  alert(\n    messageHtml: string | Donut,\n    defaultButtonHtml: string,\n    alternateButtonHtml?: string,\n    scrimClearOnExit: boolean = true,\n    scrimPlay: boolean = true,\n    syncCallback: (choice: string) => Promise<void> = async () => { },\n    positionFixed: boolean = false) {\n    return this.alertPopup.alertPlay(\n      messageHtml,\n      defaultButtonHtml,\n      alternateButtonHtml,\n      scrimClearOnExit,\n      scrimPlay,\n      syncCallback,\n      positionFixed\n    )\n  }\n\n\n  blurAllPlay(scrollTop?: number) {\n    scrollTop = scrollTop || this.scrollingElement.scrollTop()\n    this.blurAllInput.css('top', (scrollTop + 20) + \"px\")\n    window.setTimeout(() => {\n      this.blurAllInput.focus()\n    }, 10)\n  }\n\n  scrimPlay() {\n    // When the modal is shown, we want a fixed body\n    var y = window.scrollY\n    document.documentElement.style.top = `-${y}px`\n    document.documentElement.style.position = 'fixed'\n    // not sure when we needed this. doesn't seem needed now, but keeping in case...\n    // document.documentElement.style.backgroundPositionY = `-${y}px`\n\n    this.scrimDob.stop(true, true)\n    this.scrimDob.css('display', 'block')\n    this.scrimDob.animate({ opacity: 0.90 }, { opacity: 'easeInSine' })\n  }\n\n  scrimStop() {\n    // When the modal is hidden...\n    const scrollY = document.documentElement.style.top\n    document.documentElement.style.position = ''\n    document.documentElement.style.backgroundPositionY = ''\n    document.documentElement.style.top = ''\n    window.scrollTo(0, parseInt(scrollY || '0') * -1)\n\n    this.scrimDob.stop(true, true)\n    this.scrimDob.animate(\n      { opacity: 0 },\n      { opacity: 'easeInSine' },\n      400,\n      () => { this.scrimDob.hide() })\n  }\n\n  scrollToTop() {\n    this.scrollingElement\n      .stop(true, true)\n      .animate(\n        { scrollTop: 0 },\n        { scrollTop: 'linear' }\n      )\n  }\n}\n", "import cash from 'cash-dom'\nimport { Cash } from 'cash-dom'\n\ndeclare module 'cash-dom' {\n  interface Cash {\n    animate(\n      properties: object,\n      easings: Record<string, string>,\n      duration?: number,\n      tick?: (this: HTMLElement, number: number) => void): Promise<void>\n    animateCss(animationName: string, callback?: () => void): Promise<void>\n    contains(target: Cash): boolean\n    scrollToTargetBottom(target: Cash): void\n    scrollToTargetTop(target: Cash): void\n    scrollToTargetCenter(target: Cash): void\n    focus(): this\n    hideIf(cond?: boolean): Cash\n    scrollTop(val?: number): number\n    showIf(cond?: boolean): Cash\n    stop(clearQueue: boolean, jumpToEnd: boolean): Cash\n  }\n}\n\n// Easing functions\ntype EasingFunction = (t: number) => number\nfunction easingLinear(t: number, b: number, c: number, d: number): number {\n  return c * t / d + b\n}\n\ntype Animation = {\n  tick?: (number: number) => void\n  complete?: () => void\n  duration: number\n  easings: Record<string, string>\n  element: HTMLElement\n  initialStyles: Record<string, number>\n  properties: Record<string, number>\n  start: number\n}\n\nclass Animator {\n  private animByID: Record<string, Animation> = {}\n  private anims: Animation[] = [];\n  private rafId: number | null = null; // To store the requestAnimationFrame ID\n  private running: boolean = false;\n  private static instance: Animator\n  public easingFns: Record<string, EasingFunction> = {}\n\n  private constructor() { }\n\n  public static make(): Animator {\n    if (!Animator.instance) {\n      Animator.instance = new Animator()\n    }\n    return Animator.instance\n  }\n\n  public easingRegister(name: string, func: EasingFunction): void {\n    this.easingFns[name] = func\n  }\n\n  public anim(\n    element: HTMLElement,\n    properties: Record<string, number>,\n    easings: Record<string, string>,\n    duration: number,\n    tick?: (this: HTMLElement, value: number) => void,\n    complete?: () => void\n  ): void {\n    this.animAdd({ element, properties, easings, duration, start: 0, initialStyles: {}, tick, complete })\n  }\n\n  public animAdd(animation: Animation): void {\n    // Initialize missing easings to \"linear\" for each property\n    animation.easings = animation.easings || {}\n    Object.keys(animation.properties).forEach(property => {\n      animation.easings[property] = animation.easings[property] || \"linear\"\n    })\n\n    if (!this.running) {\n      this.running = true\n      this.rafId = requestAnimationFrame(this.tick.bind(this))\n    }\n\n    animation.start = performance.now()\n    animation.initialStyles = {}\n    for (const property in animation.properties) {\n      if (property == 'scrollTop' || property == 'scrollLeft') {\n        animation.initialStyles[property] = animation.element[property]\n      } else {\n        const computedStyle = getComputedStyle(animation.element).getPropertyValue(property)\n        animation.initialStyles[property] = parseFloat(computedStyle) || 0\n      }\n      this.anims.push(animation)\n    }\n  }\n\n  public animDel(element: HTMLElement): void {\n    this.anims = this.anims.filter(\n      animation => animation.element !== element\n    )\n\n    if (this.anims.length === 0 && this.rafId !== null) {\n      cancelAnimationFrame(this.rafId)\n      this.running = false\n      this.rafId = null\n    }\n  }\n\n  private tick(timestamp: number): void {\n    this.rafId = requestAnimationFrame(this.tick.bind(this))\n    const animationsToRemove: number[] = []\n    this.anims.forEach((animation, index) => {\n      const { element, properties, easings, duration, start, initialStyles, complete } = animation\n      const elapsed = timestamp - start\n      const progress = Math.min(elapsed / duration, 1)\n\n      for (const property in properties) {\n        const easingName = easings[property]\n        const easingFunc = this.easingFns[easingName]\n\n        const initialValue = initialStyles[property]\n        const change = properties[property] - initialValue\n        const easedProgress = easingFunc(progress)\n        const currentValue = initialValue + change * easedProgress\n        if (animation.tick != null) {\n          animation.tick(currentValue)\n        } else if (property === 'scrollTop') {\n          element.scrollTop = currentValue\n        } else if (property === 'scrollLeft') {\n          element.scrollLeft = currentValue\n        } else {\n          element.style[property as any] = currentValue.toString()\n        }\n      }\n\n      if (elapsed >= duration) {\n        animationsToRemove.unshift(index)\n        if (complete) complete()\n      }\n    })\n\n    animationsToRemove.forEach((index) => {\n      this.anims.splice(index, 1)\n    })\n\n    if (this.anims.length === 0) {\n      cancelAnimationFrame(this.rafId!)\n      this.running = false\n      this.rafId = null\n    }\n  }\n}\n\nvar pow = Math.pow,\n  sqrt = Math.sqrt,\n  sin = Math.sin,\n  cos = Math.cos,\n  PI = Math.PI,\n  c1 = 1.70158,\n  c2 = c1 * 1.525,\n  c3 = c1 + 1,\n  c4 = (2 * PI) / 3,\n  c5 = (2 * PI) / 4.5\n\nfunction bounceOut(x: number) {\n  var n1 = 7.5625,\n    d1 = 2.75\n  if (x < 1 / d1) {\n    return n1 * x * x\n  } else if (x < 2 / d1) {\n    return n1 * (x -= (1.5 / d1)) * x + .75\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= (2.25 / d1)) * x + .9375\n  } else {\n    return n1 * (x -= (2.625 / d1)) * x + .984375\n  }\n}\n\n\n\nvar animator = Animator.make()\nanimator.easingFns = {\n  easeInQuad: function (x) {\n    return x * x\n  },\n  easeOutQuad: function (x) {\n    return 1 - (1 - x) * (1 - x)\n  },\n  easeInOutQuad: function (x) {\n    return x < 0.5 ?\n      2 * x * x :\n      1 - pow(-2 * x + 2, 2) / 2\n  },\n  easeInCubic: function (x) {\n    return x * x * x\n  },\n  easeOutCubic: function (x) {\n    return 1 - pow(1 - x, 3)\n  },\n  easeInOutCubic: function (x) {\n    return x < 0.5 ?\n      4 * x * x * x :\n      1 - pow(-2 * x + 2, 3) / 2\n  },\n  easeInQuart: function (x) {\n    return x * x * x * x\n  },\n  easeOutQuart: function (x) {\n    return 1 - pow(1 - x, 4)\n  },\n  easeInOutQuart: function (x) {\n    return x < 0.5 ?\n      8 * x * x * x * x :\n      1 - pow(-2 * x + 2, 4) / 2\n  },\n  easeInQuint: function (x) {\n    return x * x * x * x * x\n  },\n  easeOutQuint: function (x) {\n    return 1 - pow(1 - x, 5)\n  },\n  easeInOutQuint: function (x) {\n    return x < 0.5 ?\n      16 * x * x * x * x * x :\n      1 - pow(-2 * x + 2, 5) / 2\n  },\n  easeInSine: function (x) {\n    return 1 - cos(x * PI / 2)\n  },\n  easeOutSine: function (x) {\n    return sin(x * PI / 2)\n  },\n  easeInOutSine: function (x) {\n    return -(cos(PI * x) - 1) / 2\n  },\n  easeInExpo: function (x) {\n    return x === 0 ? 0 : pow(2, 10 * x - 10)\n  },\n  easeOutExpo: function (x) {\n    return x === 1 ? 1 : 1 - pow(2, -10 * x)\n  },\n  easeInOutExpo: function (x) {\n    return x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ?\n      pow(2, 20 * x - 10) / 2 :\n      (2 - pow(2, -20 * x + 10)) / 2\n  },\n  easeInCirc: function (x) {\n    return 1 - sqrt(1 - pow(x, 2))\n  },\n  easeOutCirc: function (x) {\n    return sqrt(1 - pow(x - 1, 2))\n  },\n  easeInOutCirc: function (x) {\n    return x < 0.5 ?\n      (1 - sqrt(1 - pow(2 * x, 2))) / 2 :\n      (sqrt(1 - pow(-2 * x + 2, 2)) + 1) / 2\n  },\n  easeInElastic: function (x) {\n    return x === 0 ? 0 : x === 1 ? 1 :\n      -pow(2, 10 * x - 10) * sin((x * 10 - 10.75) * c4)\n  },\n  easeOutElastic: function (x) {\n    return x === 0 ? 0 : x === 1 ? 1 :\n      pow(2, -10 * x) * sin((x * 10 - 0.75) * c4) + 1\n  },\n  easeInOutElastic: function (x) {\n    return x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ?\n      -(pow(2, 20 * x - 10) * sin((20 * x - 11.125) * c5)) / 2 :\n      pow(2, -20 * x + 10) * sin((20 * x - 11.125) * c5) / 2 + 1\n  },\n  easeInBack: function (x) {\n    return c3 * x * x * x - c1 * x * x\n  },\n  easeOutBack: function (x) {\n    return 1 + c3 * pow(x - 1, 3) + c1 * pow(x - 1, 2)\n  },\n  easeInOutBack: function (x) {\n    return x < 0.5 ?\n      (pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2)) / 2 :\n      (pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2\n  },\n  easeInBounce: function (x) {\n    return 1 - bounceOut(1 - x)\n  },\n  easeOutBounce: bounceOut,\n  easeInOutBounce: function (x) {\n    return x < 0.5 ?\n      (1 - bounceOut(1 - 2 * x)) / 2 :\n      (1 + bounceOut(2 * x - 1)) / 2\n  }\n\n}\n\n\n\n//  ; (properties: PlainObject<...>, duration_easing: string | number, complete?: (this: HTMLElement) => void): JQuery<...>; (properties: PlainObject<...>, options: EffectsOptions<...>): JQuer...'.\n// Types of parameters 'easing' and 'complete' are incompatible.\n//   Type '(this: HTMLElement) => void' is not assignable to type 'string'.\n\n// Usage example\ncash.fn.animate = function (\n  properties: Record<string, number>,\n  easings: Record<string, string>,\n  duration: number = 400,\n  tick?: (this: HTMLElement, value: number) => void,\n): Promise<void> {\n  var el = this.get(0)\n  const animator = Animator.make()\n  return new Promise<void>((resolve, reject) => {\n    animator.anim(el as HTMLElement, properties, easings, duration, tick, resolve)\n  })\n}\n\ncash.fn.animateCss = function (animationName, callback): Promise<void> {\n  return new Promise((resolve, reject) => {\n    var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend'\n    let cash = this.addClass('animated ' + animationName)\n    cash.on(animationEnd, () => {\n      resolve()\n      this.removeClass('animated ' + animationName)\n      // window.setTimeout(() => {}, 0)\n    })\n  })\n}\n\ncash.fn.scrollTop = function (this: Cash, val: number): number {\n  var el = this.get(0)!\n  if (val === undefined) { return el.scrollTop }\n  el.scrollTop = val\n  return val\n}\n\ncash.fn.focus = function (this: Cash): Cash {\n  var el = this.get(0)!\n  el.focus()\n  return this\n}\n\ncash.fn.stop = function (this: Cash, clearQueue: boolean, jumpToEnd: boolean): Cash {\n  animator.animDel(this.get(0)!)\n  return this\n}\n\ncash.fn.showIf = function (this: Cash, cond: boolean) {\n  if (cond) this.show()\n  else this.hide()\n  return this\n}\n\ncash.fn.hideIf = function (this: Cash, cond: boolean) {\n  if (cond) this.hide()\n  else this.show()\n  return this\n}\n\ncash.fn.contains = function (this: Cash, target: Cash): boolean {\n  return this.get(0)!.contains(target.get(0)!)\n}\n\n/**\n * Scrolls a container div so that the bottom edge of an HTML element is on screen.\n * Only scrolls if the bottom edge is not already visible within the div.\n */\ncash.fn.scrollToTargetBottom = function (this: Cash, target: Cash,): void {\n  const sElem = this.get(0)!\n  const tElem = target.get(0)!\n\n  // Get the element's offsetTop relative to the container\n  let elementTop = tElem.offsetTop - sElem.offsetTop\n  const elementHeight = tElem.offsetHeight\n\n  // Calculate the bottom position of the element within the container\n  const elementBottom = elementTop + elementHeight\n\n  // Calculate the scroll position needed to make the element's bottom visible\n  const scrollTo = elementBottom - sElem.offsetHeight\n\n  // Get the current scroll position within the container\n  const currentScroll = sElem.scrollTop\n\n  // Check if element's bottom is not visible within the container\n  if (scrollTo > currentScroll || (elementBottom > (currentScroll + sElem.offsetHeight))) {\n    sElem.scrollTo({\n      top: scrollTo,\n      behavior: 'auto',\n    })\n  }\n}\n\ncash.fn.scrollToTargetCenter = function (this: Cash, target: Cash): void {\n  const sElem = this.get(0)!\n  const tElem = target.get(0)!\n\n  // Get the element's offsetTop relative to the container\n  let elementTop = tElem.offsetTop - sElem.offsetTop\n  const elementHeight = tElem.offsetHeight\n\n  // Calculate the center position of the element within the container\n  const elementCenter = elementTop + elementHeight / 2\n\n  // Calculate the scroll position needed to center the element in the container\n  const scrollTo = elementCenter - sElem.offsetHeight / 2\n\n  // Get the current scroll position within the container\n  const currentScroll = sElem.scrollTop\n\n  // Only scroll if the element is not already centered (within a small threshold)\n  if (Math.abs(currentScroll - scrollTo) > 1) {\n    sElem.scrollTo({\n      top: scrollTo,\n      behavior: 'auto',\n    })\n  }\n}\n\n/**\n * Scrolls a container div so that the top edge of an HTML element is on screen.\n * Only scrolls if the top edge is not already visible within the div.\n */\ncash.fn.scrollToTargetTop = function (this: Cash, target: Cash): void {\n  const sElem = this.get(0)!\n  const tElem = target.get(0)!\n\n  // Get the element's offsetTop relative to the container\n  let elementTop = tElem.offsetTop - sElem.offsetTop\n\n  // Get the current scroll position within the container\n  const currentScroll = sElem.scrollTop\n\n  // Check if element's top is not visible within the container\n  if (elementTop < currentScroll || (elementTop > (currentScroll + sElem.offsetHeight))) {\n    // Scroll to make the element's top edge visible within the container\n    sElem.scrollTo({\n      top: elementTop,\n      behavior: 'auto',\n    })\n  }\n}\n", "// Copyright \u00A9 2018 by Jeremy Kassis. All Rights Reserved.\nimport { API } from './API.js'\nimport { App } from './App.js'\nimport { Cash, Selector, Context } from 'cash-dom'\nimport cash from 'cash-dom'\nimport { Donut, DonutOptions, html } from './Donut.js'\nimport { Loader } from './Loader.js'\n\nexport declare interface DobServices {\n  api: API\n  app: App\n  conf: { [k: string]: any }\n\n  loader: Loader\n}\n\nexport declare interface DonutClass<T extends Donut> {\n  new(): T\n}\n\nexport class DonutFactory {\n  public factoryElement!: HTMLElement\n  public factoryCash!: Cash\n  public services: DobServices\n\n  constructor(services: DobServices) {\n    this.services = services\n  }\n\n  public dobsMakeFromTemplate(template: string): Cash {\n    try {\n      this.factoryElement.innerHTML = template\n    } catch (err) {\n      console.error(`bad Template...`)\n      console.log(template)\n    }\n    return this.factoryCash.contents() as Cash\n  }\n\n  donutBake<T extends Donut>(\n    clazz: DonutClass<T>,\n    transclusions?: Cash,\n    stub?: Cash,\n    options?: DonutOptions): T {\n\n    if (!clazz) {\n      throw new Error('clazz.not.specified')\n    }\n\n    // create the component\n    var donut: T = new clazz()\n\n    // inject services into the new component\n    Object.assign(donut, this.services)\n    donut.donutFactory = this\n\n    // validate that the donut has an init fn\n    if (!donut.init) {\n      console.log('clazz.lacks.init.fn')\n      console.log(`clazz is ${clazz}`)\n      throw new Error('clazz.lacks.init.fn')\n    }\n\n    // do we have a stub\n    if (stub !== undefined) {\n      // yes. do we have attributes\n      var stubAttrs = stub.get(0)!.attributes\n      if (stubAttrs) {\n        // yes. forward / merge the html attributes with the options object\n        if (!options) {\n          options = { attrs: stubAttrs }\n        } else {\n          options['attrs'] = stubAttrs\n        }\n      }\n    }\n\n    // template and children are options passed by components\n    donut.init(undefined, undefined, options)\n\n    // handle transclusions\n    if (transclusions) {\n      for (var transclusion of transclusions) {\n        var replaceSelector = cash(transclusion).attr('replace')\n        if (!replaceSelector) throw new Error(`could not find transclusionReplaceSelector: ${replaceSelector}`)\n        donut.dobs.find(replaceSelector).replaceWith(transclusion)\n      }\n    }\n\n    return donut\n  }\n\n  public init() {\n    this.factoryCash = cash(document.createElement('div'))\n    this.factoryElement = this.factoryCash.get(0)!\n  }\n}\n", "import type { Auth0Lock as Auth0LockType } from 'auth0-lock'\ndeclare global {\n  var Auth0Lock: typeof Auth0LockType\n}\n\n// Auth: see https://auth0.com/docs/libraries/lock\nexport class Auth {\n  accessToken?: string\n  lock: typeof Auth0Lock\n  onAuth: () => void\n  profile?: auth0.Auth0UserProfile\n\n  constructor(clientID: string, domainID: string, onAuth: () => void) {\n    this.onAuth = onAuth\n    this.lock = new Auth0Lock(clientID, domainID)\n    this.lock.on(\"authenticated\", (authResult) => {\n      // Use the token in authResult to getUserInfo() and save it if necessary\n      this.lock.getUserInfo(authResult.accessToken, (error, profile) => {\n        if (error) {\n          alert(error)\n          // Handle error\n          throw error\n        }\n\n        //we recommend not storing Access Tokens unless absolutely necessary\n        this.accessToken = authResult.accessToken\n        this.profile = profile\n\n        this.onAuth()\n      })\n    })\n  }\n\n  play() {\n    this.lock.show()\n  }\n}\n", "// Generate a unique client identifier\nexport { Loader, LoadingBar } from './Loader.js'\nimport { Loader } from './Loader.js'\nexport function makeApp(sentry: typeof Sentry, loader: Loader): App {\n  var app: App = new App()\n  app.conf = env\n  // app.api = new API()\n  app.sentry = sentry\n  app.loader = loader\n  app.donutFactory = new DonutFactory({ app: app, conf: env, api: app.api, loader })\n  return app\n}\n\nimport './ErrorHandler.js'\nimport { dao } from './DAO.js'\nimport { CreationE2EScreen } from './CreationE2EScreen.js'\nimport { CreationsScreen } from './CreationsScreen.js'\nimport { AlertPopup } from './satori/AlertPopup.js'\nimport { App as Base } from './satori/App.js'\nimport { Cash } from 'cash-dom'\nimport { DonutFactory } from './satori/DonutFactory.js'\nimport { DonutProps, DonutOptions, html } from './satori/Donut.js'\nimport { RedirectRoute } from './satori/Router.js'\nimport { ScreenRoute } from './satori/Screen.js'\nimport { AddCSS } from './satori/Loader.js'\nimport { Auth } from './satori/Auth.js'\nimport { User } from './Schema.js'\n\nAddCSS(\"Main\", `\n  .screen {\n    width: 100%;\n  }\n`)\n\n\n\nclass RootRedirectRoute extends RedirectRoute {\n  public resolve(a: object, url: string): string {\n    return CreationsScreen.URL({})\n  }\n\n  public titleGet(): string {\n    return \"Mocktails\"\n  }\n}\n\nexport class App extends Base {\n  // --- Properties ---\n  public clientId: string = ''\n  public creationE2EScreen!: CreationE2EScreen\n  public creationsScreen!: CreationsScreen\n  public user?: User\n  public auth?: Auth\n\n  // --- Lifecycle ---\n  constructor() {\n    super()\n  }\n\n  public init(template?: string, props?: DonutProps, options?: DonutOptions): Cash {\n    template = html`\n<div class='app w-screen h-min-screen'>\n  <!-- don't sort these -->\n  <input class='blurAllInput h-0 w-0 opacity-0' tabindex='-1'></input>\n  <div class='alertPopup hidden'></div>\n  <div class='blockedBanner hidden'>Thinking...</div>\n  <div class='scrimDob fixed hidden stacking top-0 left-0 z-30 w-screen h-screen bg-white dark:bg-black'></div>\n\n  <!-- do sort these -->\n  <div style='display: none' class='creationE2EScreen screen'></div>\n  <div style='display: none' class='creationsScreen screen'></div>\n</div>`\n\n    super.init(template, {\n      alertPopup: ['.alertPopup', AlertPopup],\n      blurAllInput: '.blurAllInput',\n      scrimDob: '.scrimDob',\n\n      creationE2EScreen: ['.creationE2EScreen', CreationE2EScreen],\n      creationsScreen: ['.creationsScreen', CreationsScreen],\n    }, options)\n\n\n    this.clientId = crypto.randomUUID()\n    this.router.routeAdd('', [], new RootRedirectRoute(this.router, this.conf))\n    this.router.routeAdd('creation-e2e', [], new ScreenRoute(this, this.creationE2EScreen))\n    this.router.routeAdd('creations', [], new ScreenRoute(this, this.creationsScreen))\n\n    return this.dobs\n  }\n\n  async play() {\n    // Auth\n    var clientID = \"zjbEhoSNgyjDqU2WQLyn7r68CYVlaiS4\"\n    var domainID = \"dev-fb3206n2zfz32rjn.us.auth0.com\"\n    this.auth = new Auth(clientID, domainID, () => this.onAuth())\n    this.auth.accessToken = this.stor.get('accessToken')\n    this.auth.profile = this.stor.get('profile')\n    if (true || this.conf.mode == 'dev') {\n      this.auth.accessToken = 'asdf'\n      this.auth.profile = {\n        name: 'Jeremy Kassis',\n        nickname: \"Jer\",\n        picture: \"\",\n        user_id: \"\u00F1h\u009A\u008D\u0090F\u001E\u0084KMb\u00DB\u00814s\",\n        username: \"jkassis\",\n        given_name: \"Jeremy\",\n        family_name: \"Kassis\",\n        email: \"jkassis@gmail.com\",\n        email_verified: false,\n        clientID: \"asdffdsa\",\n        gender: \"m\",\n        locale: 'dk',\n        identities: [],\n        created_at: new Date().toUTCString(),\n        updated_at: new Date().toUTCString(),\n        sub: \"\",\n        user_metadata: \"\",\n        app_metadata: \"\",\n      }\n    }\n    if (this.auth.accessToken) {\n      await this.onAuth()\n    }\n\n    await this.router.playFwd(\"\")\n  }\n\n  async onAuth() {\n    this.stor.put('accessToken', this.auth!.accessToken)\n    this.stor.put('profile', this.auth!.profile)\n    await this.userGet()\n    this.render()\n  }\n\n  async userGet() {\n    var p = this.auth!.profile!\n    var res = await dao.UserGetOrCreate({\n      userID: this.auth!.profile!.user_id,\n      createParams: {\n        userID: this.auth!.profile!.user_id,\n        email: p.email,\n        nameFamily: p.family_name,\n        nameGiven: p.given_name,\n        gender: p.gender,\n        createdAt: p.created_at,\n        lastLogin: p.updated_at,\n        role: \"user\",\n      }\n    })\n    this.user = res\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,KAAC,WAAU;AACX;AACA,UAAI,MAAM;AACV,UAAI,MAAM;AACV,UAAI,SAAS,IAAI;AACjB,UAAI,gBAAgB,IAAI,cAAc,KAAK,GAAG;AAC9C,UAAI,MAAM,cAAc,KAAK;AAC7B,UAAI,QAAQ,cAAc,OAAO;AACjC,UAAI,QAAQ,cAAc,OAAO;AACjC,UAAI,KAAK,cAAc,IAAI;AAC3B,UAAI,UAAU,MAAM,SAAS,iBAAiB,MAAM;AACpD,UAAI,SAAS,eAAe,QAAQ,SAAS,eAAe,QAAQ,UAAU,eAAe,SAAS,MAAM,eAAe,KAAK,OAAO,eAAe,MAAM,QAAQ,eAAe,OAAO,OAAO,eAAe,MAAM,SAAS,eAAe;AAC9O,UAAI,OAAO;AACX,UAAI,UAAU;AACd,UAAI,SAAS;AACb,UAAI,QAAQ;AAEZ,eAAS,KAAK,UAAU,SAAS;AAC7B,YAAI,aAAa,mBAAmB,OAAO;AAC3C,eAAO,CAAC,YAAa,CAAC,cAAc,CAAC,WAAW,OAAO,KAAK,CAAC,UAAU,OAAO,IACxE,CAAC,IACD,CAAC,cAAc,QAAQ,KAAK,QAAQ,IAChC,QAAQ,uBAAuB,SAAS,MAAM,CAAC,EAAE,QAAQ,OAAO,EAAE,CAAC,IACnE,CAAC,cAAc,MAAM,KAAK,QAAQ,IAC9B,QAAQ,qBAAqB,QAAQ,IACrC,QAAQ,iBAAiB,QAAQ;AAAA,MACnD;AAGA,UAAI;AAAA;AAAA,QAAsB,WAAY;AAClC,mBAASA,MAAK,UAAU,SAAS;AAC7B,gBAAI,CAAC;AACD;AACJ,gBAAI,OAAO,QAAQ;AACf,qBAAO;AACX,gBAAI,OAAO;AACX,gBAAI,SAAS,QAAQ,GAAG;AACpB,kBAAI,MAAM,WAAW;AACrB,qBAAO,KAAK,KAAK,QAAQ,KAAK,WAAW,GAAG,IACtC,IAAI,eAAe,SAAS,MAAM,CAAC,EAAE,QAAQ,OAAO,EAAE,CAAC,IACvD,OAAO,KAAK,QAAQ,IAChB,UAAU,QAAQ,IAClB,OAAO,GAAG,IACN,IAAI,KAAK,QAAQ,IACjB,SAAS,GAAG,IACRC,MAAK,GAAG,EAAE,KAAK,QAAQ,IACvB,KAAK,UAAU,GAAG;AACpC,kBAAI,CAAC;AACD;AAAA,YACR,WACS,WAAW,QAAQ,GAAG;AAC3B,qBAAO,KAAK,MAAM,QAAQ;AAAA,YAC9B;AACA,gBAAI,KAAK,YAAY,SAAS;AAC1B,qBAAO,CAAC,IAAI;AAChB,iBAAK,SAAS,KAAK;AACnB,qBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,GAAG,KAAK;AACzC,mBAAK,CAAC,IAAI,KAAK,CAAC;AAAA,YACpB;AAAA,UACJ;AACA,UAAAD,MAAK,UAAU,OAAO,SAAU,UAAU,SAAS;AAC/C,mBAAO,IAAIA,MAAK,UAAU,OAAO;AAAA,UACrC;AACA,iBAAOA;AAAA,QACX,EAAE;AAAA;AACF,UAAI,KAAK,KAAK;AACd,UAAIC,QAAO,GAAG;AACd,MAAAA,MAAK,KAAKA,MAAK,YAAY;AAC3B,SAAG,SAAS;AACZ,SAAG,SAAS;AACZ,UAAI,OAAO,WAAW,YAAY;AAC9B,WAAG,OAAO,UAAU,CAAC,IAAI,eAAe,OAAO,UAAU,CAAC;AAAA,MAC9D;AACA,eAAS,OAAO,OAAO;AACnB,eAAO,iBAAiB;AAAA,MAC5B;AACA,eAAS,SAAS,OAAO;AACrB,eAAO,CAAC,CAAC,SAAS,UAAU,MAAM;AAAA,MACtC;AACA,eAAS,WAAW,OAAO;AACvB,eAAO,CAAC,CAAC,SAAS,MAAM,aAAa;AAAA,MACzC;AACA,eAAS,mBAAmB,OAAO;AAC/B,eAAO,CAAC,CAAC,SAAS,MAAM,aAAa;AAAA,MACzC;AACA,eAAS,UAAU,OAAO;AACtB,eAAO,CAAC,CAAC,SAAS,MAAM,aAAa;AAAA,MACzC;AACA,eAAS,OAAO,OAAO;AACnB,eAAO,CAAC,CAAC,SAAS,MAAM,aAAa;AAAA,MACzC;AACA,eAAS,UAAU,OAAO;AACtB,eAAO,OAAO,UAAU;AAAA,MAC5B;AACA,eAAS,WAAW,OAAO;AACvB,eAAO,OAAO,UAAU;AAAA,MAC5B;AACA,eAAS,SAAS,OAAO;AACrB,eAAO,OAAO,UAAU;AAAA,MAC5B;AACA,eAAS,YAAY,OAAO;AACxB,eAAO,UAAU;AAAA,MACrB;AACA,eAAS,OAAO,OAAO;AACnB,eAAO,UAAU;AAAA,MACrB;AACA,eAAS,UAAU,OAAO;AACtB,eAAO,CAAC,MAAM,WAAW,KAAK,CAAC,KAAK,SAAS,KAAK;AAAA,MACtD;AACA,eAAS,cAAc,OAAO;AAC1B,YAAI,OAAO,UAAU,YAAY,UAAU;AACvC,iBAAO;AACX,YAAI,QAAQ,OAAO,eAAe,KAAK;AACvC,eAAO,UAAU,QAAQ,UAAU,OAAO;AAAA,MAC9C;AACA,MAAAA,MAAK,WAAW;AAChB,MAAAA,MAAK,aAAa;AAClB,MAAAA,MAAK,UAAU;AACf,MAAAA,MAAK,YAAY;AACjB,MAAAA,MAAK,gBAAgB;AACrB,eAAS,KAAK,KAAK,UAAU,UAAU;AACnC,YAAI,UAAU;AACV,cAAI,IAAI,IAAI;AACZ,iBAAO,KAAK;AACR,gBAAI,SAAS,KAAK,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,MAAM;AACrC,qBAAO;AAAA,UACf;AAAA,QACJ,WACS,cAAc,GAAG,GAAG;AACzB,cAAI,OAAO,OAAO,KAAK,GAAG;AAC1B,mBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,GAAG,KAAK;AACzC,gBAAI,MAAM,KAAK,CAAC;AAChB,gBAAI,SAAS,KAAK,IAAI,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC,MAAM;AAC3C,qBAAO;AAAA,UACf;AAAA,QACJ,OACK;AACD,mBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,IAAI,GAAG,KAAK;AACxC,gBAAI,SAAS,KAAK,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,MAAM;AACrC,qBAAO;AAAA,UACf;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AACA,MAAAA,MAAK,OAAO;AACZ,SAAG,OAAO,SAAU,UAAU;AAC1B,eAAO,KAAK,MAAM,QAAQ;AAAA,MAC9B;AACA,SAAG,QAAQ,WAAY;AACnB,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,iBAAO,IAAI,YAAY;AACnB,gBAAI,YAAY,IAAI,UAAU;AAAA,UAClC;AAAA,QACJ,CAAC;AAAA,MACL;AACA,eAAS,SAAS;AACd,YAAI,UAAU,CAAC;AACf,iBAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,kBAAQ,EAAE,IAAI,UAAU,EAAE;AAAA,QAC9B;AACA,YAAI,OAAO,UAAU,QAAQ,CAAC,CAAC,IAAI,QAAQ,MAAM,IAAI;AACrD,YAAI,SAAS,QAAQ,MAAM;AAC3B,YAAI,SAAS,QAAQ;AACrB,YAAI,CAAC;AACD,iBAAO,CAAC;AACZ,YAAI,CAAC;AACD,iBAAO,OAAO,MAAMA,OAAM,MAAM;AACpC,iBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC7B,cAAI,SAAS,QAAQ,CAAC;AACtB,mBAAS,OAAO,QAAQ;AACpB,gBAAI,SAAS,QAAQ,OAAO,GAAG,CAAC,KAAK,cAAc,OAAO,GAAG,CAAC,IAAI;AAC9D,kBAAI,CAAC,OAAO,GAAG,KAAK,OAAO,GAAG,EAAE,gBAAgB,OAAO,GAAG,EAAE;AACxD,uBAAO,GAAG,IAAI,IAAI,OAAO,GAAG,EAAE,YAAY;AAC9C,qBAAO,MAAM,OAAO,GAAG,GAAG,OAAO,GAAG,CAAC;AAAA,YACzC,OACK;AACD,qBAAO,GAAG,IAAI,OAAO,GAAG;AAAA,YAC5B;AAAA,UACJ;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AACA,MAAAA,MAAK,SAAS;AACd,SAAG,SAAS,SAAU,SAAS;AAC3B,eAAO,OAAO,IAAI,OAAO;AAAA,MAC7B;AAEA,UAAI,gBAAgB;AACpB,eAAS,eAAe,KAAK;AACzB,eAAO,SAAS,GAAG,IAAI,IAAI,MAAM,aAAa,KAAK,CAAC,IAAI,CAAC;AAAA,MAC7D;AACA,SAAG,cAAc,SAAU,KAAK,OAAO;AACnC,YAAI,UAAU,eAAe,GAAG;AAChC,YAAI,UAAU,CAAC,YAAY,KAAK;AAChC,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,CAAC,UAAU,GAAG;AACd;AACJ,eAAK,SAAS,SAAUC,IAAG,GAAG;AAC1B,gBAAI,SAAS;AACT,sBAAQ,IAAI,UAAU,IAAI,CAAC,IAAI,IAAI,UAAU,OAAO,CAAC;AAAA,YACzD,OACK;AACD,kBAAI,UAAU,OAAO,CAAC;AAAA,YAC1B;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AACA,SAAG,WAAW,SAAU,KAAK;AACzB,eAAO,KAAK,YAAY,KAAK,IAAI;AAAA,MACrC;AACA,SAAG,aAAa,SAAUC,OAAM;AAC5B,YAAI,QAAQ,eAAeA,KAAI;AAC/B,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,CAAC,UAAU,GAAG;AACd;AACJ,eAAK,OAAO,SAAUD,IAAG,GAAG;AACxB,gBAAI,gBAAgB,CAAC;AAAA,UACzB,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AACA,eAAS,KAAKC,OAAM,OAAO;AACvB,YAAI,CAACA;AACD;AACJ,YAAI,SAASA,KAAI,GAAG;AAChB,cAAI,UAAU,SAAS,GAAG;AACtB,gBAAI,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,KAAK,CAAC,CAAC;AAC9B;AACJ,gBAAI,UAAU,KAAK,CAAC,EAAE,aAAaA,KAAI;AACvC,mBAAO,OAAO,OAAO,IAAI,SAAY;AAAA,UACzC;AACA,cAAI,YAAY,KAAK;AACjB,mBAAO;AACX,cAAI,OAAO,KAAK;AACZ,mBAAO,KAAK,WAAWA,KAAI;AAC/B,iBAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,gBAAI,CAAC,UAAU,GAAG;AACd;AACJ,gBAAI,aAAaA,OAAM,KAAK;AAAA,UAChC,CAAC;AAAA,QACL;AACA,iBAAS,OAAOA,OAAM;AAClB,eAAK,KAAK,KAAKA,MAAK,GAAG,CAAC;AAAA,QAC5B;AACA,eAAO;AAAA,MACX;AACA,SAAG,OAAO;AACV,SAAG,cAAc,SAAU,KAAK;AAC5B,YAAI,UAAU;AACV,iBAAO,KAAK,YAAY,KAAK,KAAK;AACtC,eAAO,KAAK,KAAK,SAAS,EAAE;AAAA,MAChC;AACA,SAAG,WAAW,SAAU,KAAK;AACzB,eAAO,CAAC,CAAC,OAAO,KAAK,KAAK,MAAM,SAAU,KAAK;AAAE,iBAAO,UAAU,GAAG,KAAK,IAAI,UAAU,SAAS,GAAG;AAAA,QAAG,CAAC;AAAA,MAC5G;AACA,SAAG,MAAM,SAAU,OAAO;AACtB,YAAI,YAAY,KAAK;AACjB,iBAAO,MAAM,KAAK,IAAI;AAC1B,gBAAQ,OAAO,KAAK;AACpB,eAAO,KAAK,QAAQ,IAAI,QAAQ,KAAK,SAAS,KAAK;AAAA,MACvD;AACA,SAAG,KAAK,SAAU,OAAO;AACrB,eAAOF,MAAK,KAAK,IAAI,KAAK,CAAC;AAAA,MAC/B;AACA,SAAG,QAAQ,WAAY;AACnB,eAAO,KAAK,GAAG,CAAC;AAAA,MACpB;AACA,SAAG,OAAO,WAAY;AAClB,eAAO,KAAK,GAAG,EAAE;AAAA,MACrB;AACA,eAAS,KAAKG,OAAM;AAChB,YAAI,YAAYA,KAAI,GAAG;AACnB,iBAAO,KAAK,IAAI,EAAE,IAAI,SAAU,KAAK;AAAE,mBAAO,UAAU,GAAG,KAAK,OAAO,GAAG,IAAI,IAAI,cAAc;AAAA,UAAI,CAAC,EAAE,KAAK,EAAE;AAAA,QAClH;AACA,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,CAAC,UAAU,GAAG;AACd;AACJ,cAAI,cAAcA;AAAA,QACtB,CAAC;AAAA,MACL;AACA,SAAG,OAAO;AAGV,eAAS,aAAa,KAAK,MAAM,YAAY;AACzC,YAAI,CAAC,UAAU,GAAG;AACd;AACJ,YAAIC,SAAQ,IAAI,iBAAiB,KAAK,IAAI;AAC1C,eAAO,aAAaA,OAAM,iBAAiB,IAAI,KAAK,SAAYA,OAAM,IAAI,KAAK,IAAI,MAAM,IAAI;AAAA,MACjG;AAEA,eAAS,gBAAgB,KAAK,MAAM;AAChC,eAAO,SAAS,aAAa,KAAK,IAAI,GAAG,EAAE,KAAK;AAAA,MACpD;AAEA,eAAS,cAAc,KAAK,OAAO;AAC/B,eAAO,gBAAgB,KAAK,SAAS,OAAO,QAAQ,SAAS,OAAO,OAAO,CAAC,IAAI,gBAAgB,KAAK,UAAU,OAAO,QAAQ,SAAS,KAAK,CAAC,IAAI,gBAAgB,KAAK,UAAU,OAAO,QAAQ,UAAU,QAAQ,CAAC,IAAI,gBAAgB,KAAK,SAAS,OAAO,QAAQ,UAAU,UAAU,OAAO,CAAC;AAAA,MACnS;AAEA,UAAI,iBAAiB,CAAC;AACtB,eAAS,kBAAkB,SAAS;AAChC,YAAI,eAAe,OAAO;AACtB,iBAAO,eAAe,OAAO;AACjC,YAAI,MAAM,cAAc,OAAO;AAC/B,YAAI,KAAK,aAAa,KAAK,IAAI;AAC/B,YAAI,UAAU,aAAa,KAAK,SAAS;AACzC,YAAI,KAAK,YAAY,GAAG;AACxB,eAAO,eAAe,OAAO,IAAI,YAAY,SAAS,UAAU;AAAA,MACpE;AAEA,eAAS,SAAS,KAAK;AACnB,eAAO,aAAa,KAAK,SAAS,MAAM;AAAA,MAC5C;AAEA,eAAS,QAAQ,KAAK,UAAU;AAC5B,YAAIC,WAAU,QAAQ,IAAI,SAAS,KAAK,IAAI,uBAAuB,KAAK,IAAI,mBAAmB;AAC/F,eAAO,CAAC,CAACA,YAAW,CAAC,CAAC,YAAYA,SAAQ,KAAK,KAAK,QAAQ;AAAA,MAChE;AAGA,eAAS,mBAAmB,YAAY;AACpC,eAAO,SAAS,UAAU,IACpB,SAAU,GAAG,KAAK;AAAE,iBAAO,QAAQ,KAAK,UAAU;AAAA,QAAG,IACrD,WAAW,UAAU,IACjB,aACA,OAAO,UAAU,IACb,SAAU,GAAG,KAAK;AAAE,iBAAO,WAAW,GAAG,GAAG;AAAA,QAAG,IAC/C,CAAC,aACG,WAAY;AAAE,iBAAO;AAAA,QAAO,IAC5B,SAAU,GAAG,KAAK;AAAE,iBAAO,QAAQ;AAAA,QAAY;AAAA,MACrE;AACA,SAAG,SAAS,SAAU,YAAY;AAC9B,YAAI,UAAU,mBAAmB,UAAU;AAC3C,eAAOL,MAAK,OAAO,KAAK,MAAM,SAAU,KAAK,GAAG;AAAE,iBAAO,QAAQ,KAAK,KAAK,GAAG,GAAG;AAAA,QAAG,CAAC,CAAC;AAAA,MAC1F;AAEA,eAAS,SAAS,YAAY,YAAY;AACtC,eAAO,CAAC,aAAa,aAAa,WAAW,OAAO,UAAU;AAAA,MAClE;AACA,SAAG,SAAS,SAAU,YAAY;AAC9B,iBAAS,MAAM,UAAU,EAAE,KAAK,SAAU,GAAG,KAAK;AAC9C,cAAI,IAAI,YAAY;AAChB,gBAAI,WAAW,YAAY,GAAG;AAAA,UAClC;AAAA,QACJ,CAAC;AACD,eAAO;AAAA,MACX;AACA,UAAI,aAAa;AACjB,UAAI,cAAc;AAClB,UAAI,aAAa;AAAA,QACb,KAAK;AAAA,QACL,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,MACX;AAGA,eAAS,UAAUM,OAAM;AACrB,YAAI,CAAC,SAASA,KAAI;AACd,iBAAO,CAAC;AACZ,YAAI,YAAY,KAAKA,KAAI;AACrB,iBAAO,CAAC,cAAc,OAAO,EAAE,CAAC;AACpC,YAAI,WAAW,WAAW,KAAKA,KAAI,KAAK,OAAO;AAC/C,YAAI,YAAY,WAAW,QAAQ,KAAK,WAAW,GAAG;AACtD,kBAAU,YAAYA;AACtB,eAAON,MAAK,UAAU,UAAU,EAAE,OAAO,EAAE,IAAI;AAAA,MACnD;AACA,MAAAA,MAAK,YAAY;AACjB,SAAG,MAAM,SAAU,UAAU;AACzB,YAAI,aAAa,SAAS,QAAQ,IAC5B,SAAU,GAAG,KAAK;AAAE,iBAAO,KAAK,UAAU,GAAG,EAAE;AAAA,QAAQ,IACvD,SAAU,GAAG,KAAK;AAAE,iBAAO,IAAI,SAAS,QAAQ;AAAA,QAAG;AACzD,eAAO,KAAK,OAAO,UAAU;AAAA,MACjC;AACA,SAAG,MAAM,SAAU,YAAY;AAC3B,YAAI,UAAU,mBAAmB,UAAU;AAC3C,eAAO,KAAK,OAAO,SAAU,GAAG,KAAK;AAAE,kBAAQ,CAAC,SAAS,UAAU,KAAK,UAAU,GAAG,MAAM,CAAC,QAAQ,KAAK,KAAK,GAAG,GAAG;AAAA,QAAG,CAAC;AAAA,MAC5H;AACA,eAAS,MAAM,KAAK,MAAM,MAAM,OAAO;AACnC,YAAI,UAAU,CAAC;AACf,YAAI,aAAa,WAAW,IAAI;AAChC,YAAI,UAAU,SAAS,mBAAmB,KAAK;AAC/C,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,IAAI,GAAG,KAAK;AACxC,cAAI,YAAY;AACZ,gBAAI,QAAQ,KAAK,IAAI,CAAC,CAAC;AACvB,gBAAI,MAAM;AACN,mBAAK,MAAM,SAAS,KAAK;AAAA,UACjC,OACK;AACD,gBAAI,QAAQ,IAAI,CAAC,EAAE,IAAI;AACvB,mBAAO,SAAS,MAAM;AAClB,kBAAI,SAAS,QAAQ,IAAI,KAAK;AAC1B;AACJ,sBAAQ,KAAK,KAAK;AAClB,sBAAQ,OAAO,MAAM,IAAI,IAAI;AAAA,YACjC;AAAA,UACJ;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AAGA,eAAS,SAAS,KAAK;AACnB,YAAI,IAAI,YAAY,IAAI;AACpB,iBAAO,MAAM,OAAO,KAAK,IAAI,SAAS,SAAU,QAAQ;AAAE,mBAAO,OAAO,YAAY,CAAC,OAAO,YAAY,CAAC,OAAO,WAAW;AAAA,UAAU,CAAC,GAAG,OAAO;AACpJ,eAAO,IAAI,SAAS;AAAA,MACxB;AACA,eAAS,IAAI,OAAO;AAChB,YAAI,CAAC,UAAU;AACX,iBAAO,KAAK,CAAC,KAAK,SAAS,KAAK,CAAC,CAAC;AACtC,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,WAAW,IAAI,YAAY,IAAI;AACnC,cAAI,YAAY,YAAY,KAAK,IAAI,IAAI,GAAG;AACxC,gBAAI,aAAa,QAAQ,KAAK,IAAI,IAAI,KAAK,OAAO,MAAM,IAAK,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,CAAC;AAChG,gBAAI,UAAU;AACV,mBAAK,IAAI,SAAS,SAAUC,IAAG,QAAQ;AACnC,uBAAO,WAAW,WAAW,QAAQ,OAAO,KAAK,KAAK;AAAA,cAC1D,GAAG,IAAI;AAAA,YACX,OACK;AACD,kBAAI,UAAU,WAAW,QAAQ,IAAI,KAAK,KAAK;AAAA,YACnD;AAAA,UACJ,OACK;AACD,gBAAI,QAAQ,YAAY,KAAK,KAAK,OAAO,KAAK,IAAI,KAAK;AAAA,UAC3D;AAAA,QACJ,CAAC;AAAA,MACL;AACA,SAAG,MAAM;AACT,SAAG,KAAK,SAAU,YAAY;AAC1B,YAAI,UAAU,mBAAmB,UAAU;AAC3C,eAAO,KAAK,KAAK,MAAM,SAAU,KAAK,GAAG;AAAE,iBAAO,QAAQ,KAAK,KAAK,GAAG,GAAG;AAAA,QAAG,CAAC;AAAA,MAClF;AACA,MAAAD,MAAK,OAAO;AACZ,eAAS,OAAO,KAAK;AACjB,eAAO,IAAI,SAAS,IAAI,OAAO,KAAK,KAAK,SAAU,MAAM,OAAO,MAAM;AAAE,iBAAO,QAAQ,KAAK,MAAM,IAAI,MAAM;AAAA,QAAO,CAAC,IAAI;AAAA,MAC5H;AACA,MAAAA,MAAK,SAAS;AACd,SAAG,MAAM,SAAU,UAAU,SAAS;AAClC,eAAOA,MAAK,OAAO,KAAK,IAAI,EAAE,OAAOA,MAAK,UAAU,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;AAAA,MACxE;AACA,SAAG,WAAW,SAAU,YAAY;AAChC,eAAO,SAASA,MAAK,OAAO,MAAM,MAAM,SAAU,KAAK;AAAE,iBAAO,IAAI;AAAA,QAAU,CAAC,CAAC,CAAC,GAAG,UAAU;AAAA,MAClG;AACA,SAAG,SAAS,SAAU,YAAY;AAC9B,eAAO,SAASA,MAAK,OAAO,MAAM,MAAM,YAAY,CAAC,CAAC,GAAG,UAAU;AAAA,MACvE;AACA,SAAG,QAAQ,SAAU,UAAU;AAC3B,YAAI,QAAQ,WAAWA,MAAK,QAAQ,EAAE,CAAC,IAAI,KAAK,CAAC;AACjD,YAAI,aAAa,WAAW,OAAOA,MAAK,KAAK,EAAE,OAAO,EAAE,SAAS;AACjE,eAAO,QAAQ,KAAK,YAAY,KAAK;AAAA,MACzC;AACA,SAAG,UAAU,SAAU,YAAY;AAC/B,YAAIO,YAAW,KAAK,OAAO,UAAU;AACrC,YAAIA,UAAS;AACT,iBAAOA;AACX,YAAI,UAAU,KAAK,OAAO;AAC1B,YAAI,CAAC,QAAQ;AACT,iBAAOA;AACX,eAAO,QAAQ,QAAQ,UAAU;AAAA,MACrC;AACA,SAAG,WAAW,SAAU,YAAY;AAChC,eAAO,SAASP,MAAK,OAAO,MAAM,MAAM,SAAU,KAAK;AAAE,iBAAOA,MAAK,GAAG,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,GAAG;AAAA,QAAG,CAAC,CAAC,CAAC,GAAG,UAAU;AAAA,MAC5H;AACA,SAAG,OAAO,SAAU,UAAU;AAC1B,eAAOA,MAAK,OAAO,MAAM,MAAM,SAAU,KAAK;AAAE,iBAAO,KAAK,UAAU,GAAG;AAAA,QAAG,CAAC,CAAC,CAAC;AAAA,MACnF;AAIA,UAAI,cAAc;AAClB,UAAI,eAAe;AACnB,UAAI,mBAAmB,CAAC,QAAQ,OAAO,SAAS,UAAU;AAC1D,eAAS,YAAY,MAAMQ,MAAK;AAC5B,YAAI,aAAaR,MAAK,IAAI;AAC1B,mBAAW,OAAO,QAAQ,EAAE,IAAI,WAAW,KAAK,QAAQ,CAAC,EAAE,KAAK,SAAU,GAAG,KAAK;AAC9E,cAAI,aAAa,KAAK,IAAI,IAAI,KAAK,OAAO,SAAS,GAAG,GAAG;AACrD,gBAAI,WAAW,cAAc,QAAQ;AACrC,qBAAS,OAAO,IAAI,YAAY,QAAQ,aAAa,EAAE;AACvD,iBAAK,kBAAkB,SAAUC,IAAGC,OAAM;AACtC,kBAAI,IAAIA,KAAI;AACR,yBAASA,KAAI,IAAI,IAAIA,KAAI;AAAA,YACjC,CAAC;AACD,YAAAM,KAAI,KAAK,aAAa,UAAU,IAAI;AACpC,YAAAA,KAAI,KAAK,YAAY,QAAQ;AAAA,UACjC;AAAA,QACJ,CAAC;AAAA,MACL;AAEA,eAAS,cAAc,QAAQ,QAAQ,MAAM,QAAQ,UAAU;AAC3D,YAAI,QAAQ;AACR,iBAAO,aAAa,QAAQ,OAAO,OAAO,aAAa,IAAI;AAAA,QAC/D,OACK;AACD,cAAI,OAAO,aAAa,QAAQ;AAC5B,mBAAO,WAAW,aAAa,QAAQ,MAAM;AAAA,UACjD,OACK;AACD,mBAAO,WAAW,aAAa,QAAQ,OAAO,SAAS,OAAO,WAAW;AAAA,UAC7E;AAAA,QACJ;AACA,YAAI,UAAU;AACV,sBAAY,QAAQ,OAAO,aAAa;AAAA,QAC5C;AAAA,MACJ;AAEA,eAAS,gBAAgB,WAAW,SAAS,SAAS,MAAM,QAAQ,cAAc,cAAc,cAAc;AAC1G,aAAK,WAAW,SAAU,IAAI,UAAU;AACpC,eAAKR,MAAK,QAAQ,GAAG,SAAU,IAAI,QAAQ;AACvC,iBAAKA,MAAK,OAAO,GAAG,SAAU,IAAI,QAAQ;AACtC,kBAAI,cAAc,UAAU,SAAS;AACrC,kBAAI,cAAc,UAAU,SAAS;AACrC,kBAAI,aAAa,UAAU,KAAK;AAChC,4BAAc,aAAa,CAAC,aAAa,cAAc,YAAY,UAAU,IAAI,GAAG,MAAM,QAAQ,CAAC,UAAU;AAAA,YACjH,GAAG,YAAY;AAAA,UACnB,GAAG,YAAY;AAAA,QACnB,GAAG,YAAY;AACf,eAAO;AAAA,MACX;AACA,SAAG,QAAQ,WAAY;AACnB,eAAO,gBAAgB,WAAW,MAAM,OAAO,OAAO,OAAO,MAAM,IAAI;AAAA,MAC3E;AACA,SAAG,SAAS,WAAY;AACpB,eAAO,gBAAgB,WAAW,MAAM,OAAO,OAAO,IAAI;AAAA,MAC9D;AACA,eAASM,MAAKA,OAAM;AAChB,YAAI,CAAC,UAAU;AACX,iBAAO,KAAK,CAAC,KAAK,KAAK,CAAC,EAAE;AAC9B,YAAI,YAAYA,KAAI;AAChB,iBAAO;AACX,YAAI,YAAY,eAAe,KAAKA,KAAI;AACxC,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,CAAC,UAAU,GAAG;AACd;AACJ,cAAI,WAAW;AACX,YAAAN,MAAK,GAAG,EAAE,MAAM,EAAE,OAAOM,KAAI;AAAA,UACjC,OACK;AACD,gBAAI,YAAYA;AAAA,UACpB;AAAA,QACJ,CAAC;AAAA,MACL;AACA,SAAG,OAAOA;AACV,SAAG,WAAW,SAAU,UAAU;AAC9B,eAAO,gBAAgB,WAAW,MAAM,MAAM,OAAO,IAAI;AAAA,MAC7D;AACA,SAAG,YAAY,SAAU,UAAU;AAC/B,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,OAAON,MAAK,GAAG;AACnB,cAAI,WAAW,KAAK,SAAS;AAC7B,mBAAS,SAAS,SAAS,QAAQ,QAAQ,IAAI,KAAK,OAAO,QAAQ;AAAA,QACvE,CAAC;AAAA,MACL;AACA,SAAG,SAAS,WAAY;AACpB,eAAO,gBAAgB,WAAW,MAAM,OAAO,IAAI;AAAA,MACvD;AACA,SAAG,UAAU,SAAU,UAAU;AAC7B,YAAI,YAAYA,MAAK,QAAQ;AAC7B,YAAI,UAAU,UAAU,CAAC;AACzB,eAAO,QAAQ,SAAS;AACpB,oBAAU,QAAQ;AACtB,aAAK,MAAM,EAAE,OAAO,SAAS;AAC7B,eAAO,KAAK,SAAS,OAAO;AAAA,MAChC;AACA,SAAG,OAAO,SAAU,UAAU;AAC1B,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,UAAUA,MAAK,QAAQ,EAAE,CAAC;AAC9B,UAAAA,MAAK,GAAG,EAAE,QAAQ,CAAC,IAAI,UAAU,QAAQ,UAAU,IAAI,CAAC;AAAA,QAC5D,CAAC;AAAA,MACL;AACA,SAAG,cAAc,SAAU,UAAU;AACjC,eAAO,gBAAgB,WAAW,MAAM,MAAM,OAAO,OAAO,OAAO,OAAO,IAAI;AAAA,MAClF;AACA,SAAG,eAAe,SAAU,UAAU;AAClC,eAAO,gBAAgB,WAAW,MAAM,MAAM,IAAI;AAAA,MACtD;AACA,SAAG,UAAU,WAAY;AACrB,eAAO,gBAAgB,WAAW,MAAM,OAAO,MAAM,MAAM,MAAM,IAAI;AAAA,MACzE;AACA,SAAG,YAAY,SAAU,UAAU;AAC/B,eAAO,gBAAgB,WAAW,MAAM,MAAM,MAAM,MAAM,OAAO,OAAO,IAAI;AAAA,MAChF;AACA,SAAG,WAAW,WAAY;AACtB,eAAOA,MAAK,OAAO,MAAM,MAAM,SAAU,KAAK;AAAE,iBAAO,IAAI,YAAY,WAAW,CAAC,IAAI,eAAe,IAAK,IAAI,YAAY,aAAa,IAAI,QAAQ,aAAa,IAAI;AAAA,QAAa,CAAC,CAAC,CAAC;AAAA,MACzL;AACA,SAAG,OAAO,SAAU,YAAY,MAAM,QAAQ;AAC1C,eAAO,SAASA,MAAK,OAAO,MAAM,MAAM,sBAAsB,MAAM,MAAM,CAAC,CAAC,GAAG,UAAU;AAAA,MAC7F;AACA,SAAG,UAAU,SAAU,YAAY;AAC/B,eAAO,KAAK,KAAK,YAAY,IAAI;AAAA,MACrC;AACA,SAAG,YAAY,SAAU,OAAO,YAAY;AACxC,eAAO,KAAK,KAAK,YAAY,MAAM,KAAK;AAAA,MAC5C;AACA,SAAG,UAAU,SAAU,YAAY,QAAQ;AACvC,eAAO,SAASA,MAAK,OAAO,MAAM,MAAM,iBAAiB,MAAM,MAAM,CAAC,CAAC,GAAG,UAAU;AAAA,MACxF;AACA,SAAG,eAAe,SAAU,OAAO,YAAY;AAC3C,eAAO,KAAK,QAAQ,YAAY,KAAK;AAAA,MACzC;AACA,SAAG,OAAO,SAAU,YAAY,MAAM,QAAQ;AAC1C,eAAO,SAASA,MAAK,OAAO,MAAM,MAAM,0BAA0B,MAAM,MAAM,CAAC,CAAC,GAAG,UAAU;AAAA,MACjG;AACA,SAAG,UAAU,SAAU,YAAY;AAC/B,eAAO,KAAK,KAAK,YAAY,IAAI;AAAA,MACrC;AACA,SAAG,YAAY,SAAU,OAAO,YAAY;AACxC,eAAO,KAAK,KAAK,YAAY,MAAM,KAAK;AAAA,MAC5C;AACA,SAAG,MAAM,SAAU,UAAU;AACzB,eAAOA,MAAK,OAAO,MAAM,CAAC,GAAG,IAAI,KAAK,MAAM,SAAU,KAAK,GAAG;AAAE,iBAAO,SAAS,KAAK,KAAK,GAAG,GAAG;AAAA,QAAG,CAAC,CAAC,CAAC;AAAA,MAC1G;AACA,SAAG,QAAQ,WAAY;AACnB,eAAO,KAAK,IAAI,SAAU,GAAG,KAAK;AAAE,iBAAO,IAAI,UAAU,IAAI;AAAA,QAAG,CAAC;AAAA,MACrE;AACA,SAAG,eAAe,WAAY;AAC1B,eAAO,KAAK,IAAI,SAAU,GAAG,KAAK;AAC9B,cAAI,eAAe,IAAI;AACvB,iBAAO,gBAAgB,aAAa,cAAc,UAAU,MAAM,UAAU;AACxE,2BAAe,aAAa;AAAA,UAChC;AACA,iBAAO,gBAAgB;AAAA,QAC3B,CAAC;AAAA,MACL;AACA,SAAG,QAAQ,SAAU,OAAO,KAAK;AAC7B,eAAOA,MAAK,MAAM,KAAK,MAAM,OAAO,GAAG,CAAC;AAAA,MAC5C;AAEA,UAAI,cAAc;AAClB,eAAS,UAAU,KAAK;AACpB,eAAO,IAAI,QAAQ,aAAa,SAAU,OAAO,QAAQ;AAAE,iBAAO,OAAO,YAAY;AAAA,QAAG,CAAC;AAAA,MAC7F;AACA,SAAG,QAAQ,SAAU,UAAU;AAC3B,YAAI,KAAK,WAAY;AAAE,iBAAO,WAAW,UAAU,GAAGA,KAAI;AAAA,QAAG;AAC7D,YAAI,IAAI,eAAe,WAAW;AAC9B,aAAG;AAAA,QACP,OACK;AACD,cAAI,iBAAiB,oBAAoB,EAAE;AAAA,QAC/C;AACA,eAAO;AAAA,MACX;AACA,SAAG,SAAS,WAAY;AACpB,aAAK,OAAO,EAAE,KAAK,SAAU,GAAG,KAAK;AACjC,cAAI,IAAI,YAAY;AAChB;AACJ,cAAI,OAAOA,MAAK,GAAG;AACnB,eAAK,YAAY,KAAK,SAAS,CAAC;AAAA,QACpC,CAAC;AACD,eAAO;AAAA,MACX;AACA,SAAG,SAAS,WAAY;AACpB,YAAI,MAAM,KAAK,CAAC;AAChB,YAAI,CAAC;AACD;AACJ,YAAI,OAAO,IAAI,sBAAsB;AACrC,eAAO;AAAA,UACH,KAAK,KAAK,MAAM,IAAI;AAAA,UACpB,MAAM,KAAK,OAAO,IAAI;AAAA,QAC1B;AAAA,MACJ;AACA,SAAG,WAAW,WAAY;AACtB,YAAI,MAAM,KAAK,CAAC;AAChB,YAAI,CAAC;AACD;AACJ,YAAI,UAAW,aAAa,KAAK,UAAU,MAAM;AACjD,YAAI,SAAS,UAAU,IAAI,sBAAsB,IAAI,KAAK,OAAO;AACjE,YAAI,CAAC,SAAS;AACV,cAAI,QAAQ,IAAI;AAChB,cAAI,eAAe,IAAI,gBAAgB,MAAM;AAC7C,kBAAQ,iBAAiB,MAAM,QAAQ,iBAAiB,MAAM,oBAAoB,aAAa,cAAc,UAAU,MAAM,UAAU;AACnI,2BAAe,aAAa;AAAA,UAChC;AACA,cAAI,iBAAiB,OAAO,UAAU,YAAY,GAAG;AACjD,gBAAI,eAAeA,MAAK,YAAY,EAAE,OAAO;AAC7C,mBAAO,OAAO,aAAa,MAAM,gBAAgB,cAAc,gBAAgB;AAC/E,mBAAO,QAAQ,aAAa,OAAO,gBAAgB,cAAc,iBAAiB;AAAA,UACtF;AAAA,QACJ;AACA,eAAO;AAAA,UACH,KAAK,OAAO,MAAM,gBAAgB,KAAK,WAAW;AAAA,UAClD,MAAM,OAAO,OAAO,gBAAgB,KAAK,YAAY;AAAA,QACzD;AAAA,MACJ;AACA,UAAI,UAAU;AAAA;AAAA,QAEV,OAAO;AAAA,QACP,iBAAiB;AAAA;AAAA,QAEjB,KAAK;AAAA;AAAA,QAEL,UAAU;AAAA,QACV,WAAW;AAAA,QACX,UAAU;AAAA;AAAA,QAEV,SAAS;AAAA,QACT,SAAS;AAAA;AAAA,QAET,QAAQ;AAAA,MACZ;AACA,SAAG,OAAO,SAAU,MAAM,OAAO;AAC7B,YAAI,CAAC;AACD;AACJ,YAAI,SAAS,IAAI,GAAG;AAChB,iBAAO,QAAQ,IAAI,KAAK;AACxB,cAAI,UAAU,SAAS;AACnB,mBAAO,KAAK,CAAC,KAAK,KAAK,CAAC,EAAE,IAAI;AAClC,iBAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAAE,gBAAI,IAAI,IAAI;AAAA,UAAO,CAAC;AAAA,QAC7D;AACA,iBAAS,OAAO,MAAM;AAClB,eAAK,KAAK,KAAK,KAAK,GAAG,CAAC;AAAA,QAC5B;AACA,eAAO;AAAA,MACX;AACA,SAAG,aAAa,SAAU,MAAM;AAC5B,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAAE,iBAAO,IAAI,QAAQ,IAAI,KAAK,IAAI;AAAA,QAAG,CAAC;AAAA,MAC7E;AACA,UAAI,gBAAgB;AAEpB,eAAS,cAAc,MAAM;AACzB,eAAO,cAAc,KAAK,IAAI;AAAA,MAClC;AAMA,UAAI,gBAAgB,CAAC;AACrB,UAAI,QAAQ,IAAI;AAChB,UAAI,kBAAkB,CAAC,UAAU,OAAO,IAAI;AAC5C,eAAS,gBAAgB,MAAM,YAAY;AACvC,YAAI,eAAe,QAAQ;AAAE,uBAAa,cAAc,IAAI;AAAA,QAAG;AAC/D,YAAI;AACA,iBAAO;AACX,YAAI,CAAC,cAAc,IAAI,GAAG;AACtB,cAAI,SAAS,UAAU,IAAI;AAC3B,cAAI,SAAS,GAAG,OAAO,OAAO,CAAC,EAAE,YAAY,CAAC,EAAE,OAAO,OAAO,MAAM,CAAC,CAAC;AACtE,cAAI,QAAS,GAAG,OAAO,QAAQ,GAAG,EAAE,OAAO,gBAAgB,KAAK,GAAG,OAAO,QAAQ,GAAG,CAAC,CAAC,EAAE,OAAO,MAAM,EAAG,MAAM,GAAG;AAClH,eAAK,OAAO,SAAU,GAAG,GAAG;AACxB,gBAAI,KAAK,OAAO;AACZ,4BAAc,IAAI,IAAI;AACtB,qBAAO;AAAA,YACX;AAAA,UACJ,CAAC;AAAA,QACL;AACA,eAAO,cAAc,IAAI;AAAA,MAC7B;AAGA,UAAI,eAAe;AAAA,QACf,yBAAyB;AAAA,QACzB,aAAa;AAAA,QACb,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,eAAe;AAAA,QACf,iBAAiB;AAAA,QACjB,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,OAAO;AAAA,QACP,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,QAAQ;AAAA,MACZ;AACA,eAAS,iBAAiB,MAAM,OAAO,YAAY;AAC/C,YAAI,eAAe,QAAQ;AAAE,uBAAa,cAAc,IAAI;AAAA,QAAG;AAC/D,eAAO,CAAC,cAAc,CAAC,aAAa,IAAI,KAAK,UAAU,KAAK,IAAI,GAAG,OAAO,OAAO,IAAI,IAAI;AAAA,MAC7F;AACA,eAASS,KAAI,MAAM,OAAO;AACtB,YAAI,SAAS,IAAI,GAAG;AAChB,cAAI,eAAe,cAAc,IAAI;AACrC,iBAAO,gBAAgB,MAAM,YAAY;AACzC,cAAI,UAAU,SAAS;AACnB,mBAAO,KAAK,CAAC,KAAK,aAAa,KAAK,CAAC,GAAG,MAAM,YAAY;AAC9D,cAAI,CAAC;AACD,mBAAO;AACX,kBAAQ,iBAAiB,MAAM,OAAO,YAAY;AAClD,iBAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,gBAAI,CAAC,UAAU,GAAG;AACd;AACJ,gBAAI,cAAc;AACd,kBAAI,MAAM,YAAY,MAAM,KAAK;AAAA,YACrC,OACK;AACD,kBAAI,MAAM,IAAI,IAAI;AAAA,YACtB;AAAA,UACJ,CAAC;AAAA,QACL;AACA,iBAAS,OAAO,MAAM;AAClB,eAAK,IAAI,KAAK,KAAK,GAAG,CAAC;AAAA,QAC3B;AACA,eAAO;AAAA,MACX;AACA;AACA,SAAG,MAAMA;AACT,eAAS,QAAQC,KAAI,KAAK;AACtB,YAAI;AACA,iBAAOA,IAAG,GAAG;AAAA,QACjB,SACO,IAAI;AACP,iBAAO;AAAA,QACX;AAAA,MACJ;AAGA,UAAI,eAAe;AACnB,eAAS,QAAQ,KAAK,KAAK;AACvB,YAAI,QAAQ,IAAI,QAAQ,GAAG,KAAK,IAAI,QAAQ,UAAU,GAAG,CAAC;AAC1D,YAAI,aAAa,KAAK,KAAK;AACvB,iBAAO;AACX,eAAO,QAAQ,KAAK,OAAO,KAAK;AAAA,MACpC;AAGA,eAAS,QAAQ,KAAK,KAAK,OAAO;AAC9B,gBAAQ,QAAQ,KAAK,WAAW,KAAK;AACrC,YAAI,QAAQ,UAAU,GAAG,CAAC,IAAI;AAAA,MAClC;AACA,eAAS,KAAK,MAAM,OAAO;AACvB,YAAI,CAAC,MAAM;AACP,cAAI,CAAC,KAAK,CAAC;AACP;AACJ,cAAI,QAAQ,CAAC;AACb,mBAAS,OAAO,KAAK,CAAC,EAAE,SAAS;AAC7B,kBAAM,GAAG,IAAI,QAAQ,KAAK,CAAC,GAAG,GAAG;AAAA,UACrC;AACA,iBAAO;AAAA,QACX;AACA,YAAI,SAAS,IAAI,GAAG;AAChB,cAAI,UAAU,SAAS;AACnB,mBAAO,KAAK,CAAC,KAAK,QAAQ,KAAK,CAAC,GAAG,IAAI;AAC3C,cAAI,YAAY,KAAK;AACjB,mBAAO;AACX,iBAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAAE,oBAAQ,KAAK,MAAM,KAAK;AAAA,UAAG,CAAC;AAAA,QACrE;AACA,iBAAS,OAAO,MAAM;AAClB,eAAK,KAAK,KAAK,KAAK,GAAG,CAAC;AAAA,QAC5B;AACA,eAAO;AAAA,MACX;AACA,SAAG,OAAO;AACV,eAAS,qBAAqBF,MAAK,WAAW;AAC1C,YAAIG,UAASH,KAAI;AACjB,eAAO,KAAK,IAAIA,KAAI,KAAK,SAAS,OAAO,SAAS,CAAC,GAAGG,QAAO,SAAS,OAAO,SAAS,CAAC,GAAGH,KAAI,KAAK,SAAS,OAAO,SAAS,CAAC,GAAGG,QAAO,SAAS,OAAO,SAAS,CAAC,GAAGA,QAAO,SAAS,OAAO,SAAS,CAAC,CAAC;AAAA,MAC1M;AACA,WAAK,CAAC,MAAM,KAAK,GAAG,SAAU,GAAG,OAAO;AACpC,aAAK,CAAC,SAAS,QAAQ,GAAG,SAAUV,IAAG,MAAM;AACzC,cAAI,OAAO,GAAG,OAAO,QAAQ,UAAU,OAAO,EAAE,OAAO,IAAI;AAC3D,aAAG,IAAI,IAAI,SAAU,gBAAgB;AACjC,gBAAI,CAAC,KAAK,CAAC;AACP;AACJ,gBAAI,SAAS,KAAK,CAAC,CAAC;AAChB,qBAAO,QAAQ,KAAK,CAAC,EAAE,QAAQ,OAAO,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE,SAAS,gBAAgB,SAAS,OAAO,IAAI,CAAC;AACzG,gBAAI,WAAW,KAAK,CAAC,CAAC;AAClB,qBAAO,qBAAqB,KAAK,CAAC,GAAG,IAAI;AAC7C,mBAAO,KAAK,CAAC,EAAE,GAAG,OAAO,QAAQ,WAAW,QAAQ,EAAE,OAAO,IAAI,CAAC,KAAK,kBAAkB,QAAQ,gBAAgB,KAAK,CAAC,GAAG,SAAS,OAAOA,KAAI,QAAQ,MAAM,CAAC,IAAI,gBAAgB,KAAK,CAAC,GAAG,SAAS,OAAOA,KAAI,WAAW,OAAO,CAAC,IAAI;AAAA,UACzO;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AACD,WAAK,CAAC,SAAS,QAAQ,GAAG,SAAU,OAAO,MAAM;AAC7C,YAAI,SAAS,KAAK,YAAY;AAC9B,WAAG,MAAM,IAAI,SAAU,OAAO;AAC1B,cAAI,CAAC,KAAK,CAAC;AACP,mBAAO,YAAY,KAAK,IAAI,SAAY;AAC5C,cAAI,CAAC,UAAU,QAAQ;AACnB,gBAAI,SAAS,KAAK,CAAC,CAAC;AAChB,qBAAO,KAAK,CAAC,EAAE,SAAS,gBAAgB,SAAS,OAAO,IAAI,CAAC;AACjE,gBAAI,WAAW,KAAK,CAAC,CAAC;AAClB,qBAAO,qBAAqB,KAAK,CAAC,GAAG,IAAI;AAC7C,mBAAO,KAAK,CAAC,EAAE,sBAAsB,EAAE,MAAM,IAAI,cAAc,KAAK,CAAC,GAAG,CAAC,KAAK;AAAA,UAClF;AACA,cAAI,cAAc,SAAS,OAAO,EAAE;AACpC,iBAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,gBAAI,CAAC,UAAU,GAAG;AACd;AACJ,gBAAI,YAAY,aAAa,KAAK,WAAW;AAC7C,gBAAI,MAAM,MAAM,IAAI,iBAAiB,QAAQ,eAAe,cAAc,eAAe,cAAc,KAAK,CAAC,KAAK,IAAI,EAAE;AAAA,UAC5H,CAAC;AAAA,QACL;AAAA,MACJ,CAAC;AACD,UAAI,kBAAkB;AACtB,SAAG,SAAS,SAAU,OAAO;AACzB,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,CAAC,UAAU,GAAG;AACd;AACJ,cAAI,SAAS,SAAS,GAAG;AACzB,cAAI,OAAO,YAAY,KAAK,IAAI,SAAS;AACzC,cAAI,MAAM;AACN,gBAAI,MAAM,UAAU,IAAI,eAAe,KAAK;AAC5C,gBAAI,SAAS,GAAG,GAAG;AACf,kBAAI,MAAM,UAAU,kBAAkB,IAAI,OAAO;AAAA,YACrD;AAAA,UACJ,WACS,CAAC,QAAQ;AACd,gBAAI,eAAe,IAAI,aAAa,KAAK,SAAS;AAClD,gBAAI,MAAM,UAAU;AAAA,UACxB;AAAA,QACJ,CAAC;AAAA,MACL;AACA,SAAG,OAAO,WAAY;AAClB,eAAO,KAAK,OAAO,KAAK;AAAA,MAC5B;AACA,SAAG,OAAO,WAAY;AAClB,eAAO,KAAK,OAAO,IAAI;AAAA,MAC3B;AACA,UAAI,kBAAkB;AACtB,UAAI,4BAA4B;AAChC,UAAI,cAAc,EAAE,OAAO,WAAW,MAAM,WAAW;AACvD,UAAI,cAAc,EAAE,YAAY,aAAa,YAAY,WAAW;AACpE,UAAI,gBAAgB;AAEpB,eAAS,qBAAqB,MAAM;AAChC,eAAO,YAAY,IAAI,KAAK,YAAY,IAAI,KAAK;AAAA,MACrD;AAEA,eAAS,eAAe,WAAW;AAC/B,YAAI,QAAQ,UAAU,MAAM,yBAAyB;AACrD,eAAO,CAAC,MAAM,CAAC,GAAG,MAAM,MAAM,CAAC,EAAE,KAAK,CAAC;AAAA,MAC3C;AACA,SAAG,UAAU,SAAU,OAAOW,OAAM;AAChC,YAAI,SAAS,KAAK,GAAG;AACjB,cAAI,KAAK,eAAe,KAAK,GAAG,eAAe,GAAG,CAAC,GAAG,aAAa,GAAG,CAAC;AACvE,cAAI,SAAS,qBAAqB,YAAY;AAC9C,cAAI,CAAC;AACD,mBAAO;AACX,cAAI,OAAO,cAAc,KAAK,MAAM,IAAI,gBAAgB;AACxD,kBAAQ,IAAI,YAAY,IAAI;AAC5B,gBAAM,UAAU,QAAQ,MAAM,IAAI;AAClC,gBAAM,YAAY,WAAW,KAAK,yBAAyB;AAC3D,gBAAM,QAAQ;AAAA,QAClB;AACA,cAAM,QAAQA;AACd,YAAI,eAAgB,MAAM,SAAS;AACnC,eAAO,KAAK,KAAK,SAAU,GAAG,KAAK;AAC/B,cAAI,gBAAgB,WAAW,IAAI,MAAM,KAAK,CAAC,GAAG;AAC9C,gBAAI,OAAO,OAAO,MAAM,IAAI,CAAC,IAAI;AACjC,gBAAI,MAAM,KAAK,EAAE;AACjB,gBAAI,OAAO,OAAO,MAAM,IAAI,CAAC,IAAI;AAAA,UACrC;AACA,cAAI,cAAc,KAAK;AAAA,QAC3B,CAAC;AAAA,MACL;AAEA,eAAS,eAAe,KAAK;AACzB,eAAO,IAAI,eAAe,IAAK,IAAI,eAAe,KAAK,CAAC;AAAA,MAC5D;AAGA,eAAS,SAAS,KAAK,MAAM,YAAY,UAAU,UAAU;AACzD,YAAI,aAAa,eAAe,GAAG;AACnC,mBAAW,IAAI,IAAK,WAAW,IAAI,KAAK,CAAC;AACzC,mBAAW,IAAI,EAAE,KAAK,CAAC,YAAY,UAAU,QAAQ,CAAC;AACtD,YAAI,iBAAiB,MAAM,QAAQ;AAAA,MACvC;AACA,eAAS,cAAc,KAAK,KAAK;AAC7B,eAAO,CAAC,OAAO,CAAC,KAAK,KAAK,KAAK,SAAU,IAAI;AAAE,iBAAO,IAAI,QAAQ,EAAE,IAAI;AAAA,QAAG,CAAC;AAAA,MAChF;AAIA,eAAS,YAAY,KAAK,MAAM,YAAY,UAAU,UAAU;AAC5D,YAAI,QAAQ,eAAe,GAAG;AAC9B,YAAI,CAAC,MAAM;AACP,eAAK,QAAQ,OAAO;AAChB,wBAAY,KAAK,MAAM,YAAY,UAAU,QAAQ;AAAA,UACzD;AAAA,QACJ,WACS,MAAM,IAAI,GAAG;AAClB,gBAAM,IAAI,IAAI,MAAM,IAAI,EAAE,OAAO,SAAU,IAAI;AAC3C,gBAAI,KAAK,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC;AACtC,gBAAK,YAAY,GAAG,SAAS,SAAS,QAAS,CAAC,cAAc,IAAI,UAAU,KAAM,YAAY,aAAa;AACvG,qBAAO;AACX,gBAAI,oBAAoB,MAAM,EAAE;AAAA,UACpC,CAAC;AAAA,QACL;AAAA,MACJ;AACA,SAAG,MAAM,SAAU,eAAe,UAAU,UAAU;AAClD,YAAI,QAAQ;AACZ,YAAI,YAAY,aAAa,GAAG;AAC5B,eAAK,KAAK,SAAU,GAAG,KAAK;AACxB,gBAAI,CAAC,UAAU,GAAG,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,SAAS,GAAG;AACpD;AACJ,wBAAY,GAAG;AAAA,UACnB,CAAC;AAAA,QACL,WACS,CAAC,SAAS,aAAa,GAAG;AAC/B,mBAAS,OAAO,eAAe;AAC3B,iBAAK,IAAI,KAAK,cAAc,GAAG,CAAC;AAAA,UACpC;AAAA,QACJ,OACK;AACD,cAAI,WAAW,QAAQ,GAAG;AACtB,uBAAW;AACX,uBAAW;AAAA,UACf;AACA,eAAK,eAAe,aAAa,GAAG,SAAU,GAAGC,gBAAe;AAC5D,gBAAI,KAAK,eAAeA,cAAa,GAAG,eAAe,GAAG,CAAC,GAAG,aAAa,GAAG,CAAC;AAC/E,gBAAI,OAAO,qBAAqB,YAAY;AAC5C,kBAAM,KAAK,SAAUZ,IAAG,KAAK;AACzB,kBAAI,CAAC,UAAU,GAAG,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,SAAS,GAAG;AACpD;AACJ,0BAAY,KAAK,MAAM,YAAY,UAAU,QAAQ;AAAA,YACzD,CAAC;AAAA,UACL,CAAC;AAAA,QACL;AACA,eAAO;AAAA,MACX;AACA,SAAG,SAAS,SAAU,YAAY;AAC9B,iBAAS,MAAM,UAAU,EAAE,OAAO,EAAE,IAAI;AACxC,eAAO;AAAA,MACX;AACA,SAAG,cAAc,SAAU,UAAU;AACjC,eAAO,KAAK,OAAO,QAAQ,EAAE,OAAO;AAAA,MACxC;AACA,SAAG,aAAa,SAAU,UAAU;AAChC,QAAAD,MAAK,QAAQ,EAAE,YAAY,IAAI;AAC/B,eAAO;AAAA,MACX;AACA,eAAS,GAAG,eAAe,UAAUY,OAAM,UAAU,MAAM;AACvD,YAAI,QAAQ;AACZ,YAAI,CAAC,SAAS,aAAa,GAAG;AAC1B,mBAAS,OAAO,eAAe;AAC3B,iBAAK,GAAG,KAAK,UAAUA,OAAM,cAAc,GAAG,GAAG,IAAI;AAAA,UACzD;AACA,iBAAO;AAAA,QACX;AACA,YAAI,CAAC,SAAS,QAAQ,GAAG;AACrB,cAAI,YAAY,QAAQ,KAAK,OAAO,QAAQ,GAAG;AAC3C,uBAAW;AAAA,UACf,WACS,YAAYA,KAAI,GAAG;AACxB,YAAAA,QAAO;AACP,uBAAW;AAAA,UACf,OACK;AACD,uBAAWA;AACX,YAAAA,QAAO;AACP,uBAAW;AAAA,UACf;AAAA,QACJ;AACA,YAAI,CAAC,WAAW,QAAQ,GAAG;AACvB,qBAAWA;AACX,UAAAA,QAAO;AAAA,QACX;AACA,YAAI,CAAC;AACD,iBAAO;AACX,aAAK,eAAe,aAAa,GAAG,SAAU,GAAGC,gBAAe;AAC5D,cAAI,KAAK,eAAeA,cAAa,GAAG,eAAe,GAAG,CAAC,GAAG,aAAa,GAAG,CAAC;AAC/E,cAAI,OAAO,qBAAqB,YAAY;AAC5C,cAAI,eAAgB,gBAAgB;AACpC,cAAI,eAAgB,gBAAgB;AACpC,cAAI,CAAC;AACD;AACJ,gBAAM,KAAK,SAAUZ,IAAG,KAAK;AACzB,gBAAI,CAAC,UAAU,GAAG,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,SAAS,GAAG;AACpD;AACJ,gBAAI,gBAAgB,SAAU,OAAO;AACjC,kBAAI,MAAM,OAAO,OAAO,OAAO,MAAM,IAAI,CAAC;AACtC,uBAAO,MAAM,yBAAyB;AAC1C,kBAAI,MAAM,aAAa,CAAC,cAAc,YAAY,MAAM,UAAU,MAAM,yBAAyB,CAAC;AAC9F;AACJ,kBAAI,CAAC,aAAc,iBAAiB,MAAM,WAAW,OAAO,MAAM,UAAU,SAAW,gBAAgB,MAAM,iBAAiB,IAAI,SAAS,MAAM,aAAa;AAC1J;AACJ,kBAAI,UAAU;AACd,kBAAI,UAAU;AACV,oBAAI,SAAS,MAAM;AACnB,uBAAO,CAAC,QAAQ,QAAQ,QAAQ,GAAG;AAC/B,sBAAI,WAAW;AACX;AACJ,2BAAS,OAAO;AAChB,sBAAI,CAAC;AACD;AAAA,gBACR;AACA,0BAAU;AAAA,cACd;AACA,qBAAO,eAAe,OAAO,iBAAiB;AAAA,gBAC1C,cAAc;AAAA,gBACd,KAAK,WAAY;AACb,yBAAO;AAAA,gBACX;AAAA,cACJ,CAAC;AACD,qBAAO,eAAe,OAAO,kBAAkB;AAAA,gBAC3C,cAAc;AAAA,gBACd,KAAK,WAAY;AACb,yBAAO;AAAA,gBACX;AAAA,cACJ,CAAC;AACD,qBAAO,eAAe,OAAO,QAAQ;AAAA,gBACjC,cAAc;AAAA,gBACd,KAAK,WAAY;AACb,yBAAOW;AAAA,gBACX;AAAA,cACJ,CAAC;AACD,kBAAI,cAAc,SAAS,KAAK,SAAS,OAAO,MAAM,KAAK;AAC3D,kBAAI,MAAM;AACN,4BAAY,KAAK,MAAM,YAAY,UAAU,aAAa;AAAA,cAC9D;AACA,kBAAI,gBAAgB,OAAO;AACvB,sBAAM,eAAe;AACrB,sBAAM,gBAAgB;AAAA,cAC1B;AAAA,YACJ;AACA,0BAAc,OAAO,SAAS,OAAQ,SAAS,QAAQZ,MAAK;AAC5D,qBAAS,KAAK,MAAM,YAAY,UAAU,aAAa;AAAA,UAC3D,CAAC;AAAA,QACL,CAAC;AACD,eAAO;AAAA,MACX;AACA,SAAG,KAAK;AACR,eAAS,IAAI,eAAe,UAAUY,OAAM,UAAU;AAClD,eAAO,KAAK,GAAG,eAAe,UAAUA,OAAM,UAAU,IAAI;AAAA,MAChE;AACA;AACA,SAAG,MAAM;AACT,UAAI,oBAAoB;AACxB,eAAS,YAAY,MAAM,OAAO;AAC9B,eAAO,IAAI,OAAO,mBAAmB,IAAI,GAAG,GAAG,EAAE,OAAO,mBAAmB,MAAM,QAAQ,mBAAmB,MAAM,CAAC,CAAC;AAAA,MACxH;AACA,UAAI,cAAc;AAClB,UAAI,cAAc;AAClB,SAAG,YAAY,WAAY;AACvB,YAAI,QAAQ;AACZ,aAAK,KAAK,SAAU,GAAG,KAAK;AACxB,eAAK,IAAI,YAAY,CAAC,GAAG,GAAG,SAAUX,IAAGa,MAAK;AAC1C,gBAAIA,KAAI,YAAY,CAACA,KAAI,QAAQA,KAAI,YAAY,cAAc,YAAY,KAAKA,KAAI,IAAI,KAAM,YAAY,KAAKA,KAAI,IAAI,KAAK,CAACA,KAAI;AAC7H;AACJ,gBAAI,QAAQ,SAASA,IAAG;AACxB,gBAAI,CAAC,YAAY,KAAK,GAAG;AACrB,kBAAI,SAAS,QAAQ,KAAK,IAAI,QAAQ,CAAC,KAAK;AAC5C,mBAAK,QAAQ,SAAUb,IAAGc,QAAO;AAC7B,yBAAS,YAAYD,KAAI,MAAMC,MAAK;AAAA,cACxC,CAAC;AAAA,YACL;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AACD,eAAO,MAAM,MAAM,CAAC;AAAA,MACxB;AAwFA,UAAI,OAAO,YAAY,aAAa;AAChC,eAAO,UAAUf;AAAA,MACrB,OACK;AACD,YAAI,MAAM,IAAI,IAAI,GAAG,IAAIA;AAAA,MAC7B;AAAA,IACA,GAAG;AAAA;AAAA;;;ACpsCI,IAAI,yBAAyB,SAAa,SAA4C;AAE3F,MAAI,YAAY;AAChB,MAAI,aAAa;AACjB,MAAI,cAAc;AAGlB,MAAI,SAAgC,QAAQ;AAAA,IAC1C,SAAU,GAAG;AACX,oBAAc;AACd,kBAAY;AACZ,aAAO;AAAA,IACT;AAAA,IACA,SAAU,GAAG;AACX,mBAAa;AACb,kBAAY;AACZ,YAAM;AAAA,IACR;AAAA,EACF;AAEA,SAAO,cAAc,WAAqB;AACxC,WAAO;AAAA,EACT;AACA,SAAO,YAAY,WAAqB;AACtC,WAAO;AAAA,EACT;AACA,SAAO,aAAa,WAAqB;AACvC,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEO,SAAS,OAAO,MAAc,QAAsB;AAEzD,MAAI,eAAe,SAAS,eAAe,IAAI;AAE/C,MAAI,CAAC,cAAc;AAEjB,mBAAe,SAAS,cAAc,OAAO;AAC7C,iBAAa,KAAK;AAClB,aAAS,KAAK,YAAY,YAAY;AAAA,EACxC;AAGA,eAAa,YAAY;AAC3B;AAEO,SAAS,QAAQ,MAAc,YAA0B;AAE9D,MAAI,eAAe,SAAS,eAAe,IAAI;AAE/C,MAAI,CAAC,cAAc;AAEjB,mBAAe,SAAS,cAAc,OAAO;AAC7C,iBAAa,KAAK;AAClB,aAAS,KAAK,YAAY,YAAY;AAAA,EACxC;AAGA,OAAK,OAAO,UAAU,EACnB,KAAK,CAAC,WAAgB;AAErB,iBAAa,YAAY,OAAO;AAAA,EAClC,CAAC,EACA,MAAM,CAAC,UAAe;AACrB,YAAQ,MAAM,2BAA2B,KAAK;AAAA,EAChD,CAAC;AACL;AAEO,IAAe,SAAf,MAAsB;AAAA,EACpB;AAAA,EAEA;AAAA,EAEA;AAAA,EAEA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EAEP,YAAY,QAAsB;AAChC,SAAK,gBAAgB,CAAC;AACtB,SAAK,uBAAuB,CAAC;AAC7B,SAAK,eAAe,CAAC;AACrB,SAAK,SAAS;AACd,SAAK,qBAAqB,mBAAmB,2BAA2B;AACxE,SAAK,cAAc,CAAC;AAAA,EACtB;AAAA,EAEO,cAAc,KAAqB;AACxC,QAAI,WAAW,IAAI,MAAM,GAAG;AAC5B,QAAI,YAAY,SAAS,CAAC;AAC1B,QAAI,UAAU,SAAS,CAAC;AAExB,UAAM,IAAI,MAAM,wBAAwB;AAAA,EAC1C;AAAA,EAEO,qBAAqB;AAC1B,QAAI,UAAoB,CAAC;AACzB,QAAI,UAAoB,CAAC;AACzB,aAAS,YAAY,KAAK,eAAe;AACvC,UAAI,UAAU,KAAK,cAAc,QAAQ;AACzC,UAAI,QAAQ,WAAW;AACrB,YAAI,QAAQ,UAAU,GAAG;AACvB,kBAAQ,KAAK,QAAQ;AAAA,QACvB;AAAA,MACF,MAAO,SAAQ,KAAK,QAAQ;AAAA,IAC9B;AAEA,WAAO,EAAE,SAAS,QAAQ;AAAA,EAC5B;AAAA,EAEA,MAAa,QACX,MACA,cACA,kBACgB;AAChB,QAAI,SAAgB,CAAC;AAErB,QAAI,QAAQ,UAAa,QAAQ,KAAM,QAAO,CAAC;AAC/C,QAAI,CAAC,MAAM,QAAQ,IAAI,EAAG,QAAO,CAAC,IAAI;AACtC,QAAI,KAAK,UAAU,EAAG,QAAO,CAAC;AAE9B,QAAI,WAA2B,CAAC;AAChC,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,UAAI,MAAM,KAAK,CAAC;AAChB,UAAI,eAAe;AACjB,iBAAS,KAAK,GAAG;AAAA;AAEjB,iBAAS;AAAA,UACP,KAAK,aAAa,KAAK,cAAc,gBAAgB,EAAE,KAAK,CAAC,UAAe;AAC1E,mBAAO,CAAC,IAAI;AAAA,UACd,CAAC;AAAA,QACH;AAAA,IACJ;AAEA,UAAM,QAAQ,IAAI,QAAQ,EACvB,MAAM,SAAO;AACZ,cAAQ,IAAI,qBAAqB,IAAI,EAAE;AACvC,cAAQ,IAAI,GAAG;AAAA,IACjB,CAAC;AAEH,WAAO;AAAA,EACT;AAAA,EAEO,kBAAkB,KAAqB;AAC5C,WAAO;AAAA,EACT;AAOF;;;ACnKA,IAAM,uBAAsC;AAAA,EAC1C,WAAW,EAAE,gBAAgB,mBAAmB;AAAA,EAChD,gBAAgB;AAClB;AAEA,IAAI,oBAAoB,SACtB,MACA,cACA,kBACoC;AACpC,SAAO,OAAO,aAAmC;AAC/C,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,IAAI,MAAM,uBAAuB,SAAS,MAAM,IAAI,SAAS,UAAU,EAAE;AAAA,IACjF,WAAW,SAAS,SAAS,MAAM;AACjC,YAAM,IAAI,MAAM,4FAA4F;AAAA,IAC9G;AAGA,UAAM,SAAS,SAAS,KAAK,UAAU;AAGvC,UAAM,mBAAmB,SAAS,QAAQ,IAAI,gBAAgB;AAC9D,QAAI,gBAAgB,SAAS,gBAAgB;AAC7C,QAAI,MAAM,aAAa,EAAG,iBAAgB;AAC1C,oBAAgB,aAAa,aAAa;AAG1C,QAAI,iBAAiB;AACrB,UAAM,SAAuB,CAAC;AAC9B,WAAO,MAAM;AACX,YAAM,EAAE,MAAM,MAAM,IAAI,MAAM,OAAO,KAAK;AAE1C,UAAI,MAAM;AACR;AAAA,MACF;AAEA,aAAO,KAAK,KAAK;AACjB,wBAAkB,MAAM;AAExB,0BAAoB,iBAAiB,MAAM,MAAM;AAAA,IACnD;AAGA,UAAM,YAAY,IAAI,WAAW,cAAc;AAC/C,QAAI,WAAW;AACf,eAAW,SAAS,QAAQ;AAC1B,gBAAU,IAAI,OAAO,QAAQ;AAC7B,kBAAY,MAAM;AAAA,IACpB;AAGA,UAAM,SAAS,IAAI,YAAY,OAAO,EAAE,OAAO,SAAS;AAExD,QAAI,QAAQ,UAAU,QAAQ,cAAc;AAC1C,aAAO;AAAA,IACT,WAAW,QAAQ,UAAU,QAAQ,aAAa;AAChD,aAAO,KAAK,MAAM,MAAM;AAAA,IAC1B,OAAO;AACL,YAAM,IAAI,MAAM,2BAA2B,IAAI;AAAA,IACjD;AAAA,EACF;AACF;AAiBO,IAAMgB,UAAN,cAAqB,OAAW;AAAA,EACrC;AAAA,EACA;AAAA,EACA,oBAA4B;AAAA,EAC5B;AAAA,EAGA,OAAO,mBAAmB,MAAc,KAAa;AACnD,QAAI,CAAC,IAAK,OAAM,OAAO,SAAS;AAChC,WAAO,KAAK,QAAQ,UAAU,MAAM;AACpC,QAAI,QAAQ,IAAI,OAAO,SAAS,OAAO,mBAAmB,GACxD,UAAU,MAAM,KAAK,GAAG;AAC1B,QAAI,CAAC,QAAS,QAAO;AACrB,QAAI,CAAC,QAAQ,CAAC,EAAG,QAAO;AACxB,WAAO,mBAAmB,QAAQ,CAAC,EAAE,QAAQ,OAAO,GAAG,CAAC;AAAA,EAC1D;AAAA,EAEA,cAAc;AACZ,UAAM,OAAO;AACb,SAAK,SAAS,CAAC;AACf,SAAK,cAAc,SAAS,eAAe,aAAa;AAAA,EAC1D;AAAA,EAGA,YACE,KACA,MACA,SAAwB,sBACxB,cACA,kBACY;AACZ,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,YAAM,KAAK;AAAA,QACT,QAAQ;AAAA;AAAA,QACR,MAAM;AAAA;AAAA,QACN,OAAO;AAAA;AAAA,QACP,aAAa;AAAA;AAAA,QACb,SAAS,OAAO;AAAA,QAChB,UAAU;AAAA;AAAA,QACV,gBAAgB;AAAA;AAAA,QAChB,MAAM,KAAK,UAAU,IAAI;AAAA;AAAA,MAC3B,CAAC,EAAE,KAAK,kBAAkB,OAAO,cAAc,cAAc,gBAAgB,CAAC,EAC3E,KAAK,gBAAc,QAAQ,UAAe,CAAC,EAC3C,MAAM,WAAS;AACd,YAAI,SAAS,MAAM,SAAU,QAAO,MAAM,QAAQ;AAAA,YAC7C,QAAO,KAAK;AAAA,MACnB,CAAC;AAAA,IACL,CAAC;AAAA,EACH;AAAA,EAEA,cACE,KACA,MACA,SAAwB,sBACxB,cACA,kBACY;AACZ,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,UAAI,WAA0B,OAAO,OAAO,CAAC,GAAG,MAAM;AACtD,eAAS,SAAS,OAAO,OAAO,CAAC,GAAG,IAAI;AAExC,YAAM,KAAK;AAAA,QACT,QAAQ;AAAA;AAAA,QACR,MAAM;AAAA;AAAA,QACN,OAAO;AAAA;AAAA,QACP,aAAa;AAAA;AAAA,QACb,SAAS,OAAO;AAAA,QAChB,UAAU;AAAA;AAAA,QACV,gBAAgB;AAAA;AAAA,MAClB,CAAC,EAAE,KAAK,kBAAkB,OAAO,cAAc,cAAc,gBAAgB,CAAC,EAC3E,KAAK,WAAS,QAAQ,KAAU,CAAC,EACjC,MAAM,WAAS;AACd,YAAI,SAAS,MAAM,SAAU,QAAO,MAAM,QAAQ;AAAA,YAC7C,QAAO,KAAK;AAAA,MACnB,CAAC;AAAA,IACL,CAAC;AAAA,EACH;AAAA,EAEA,WACE,KACA,MACA,SAAwB,sBACxB,cACA,kBACY;AACZ,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,UAAI,QAAQ;AACZ,UAAI;AACF,iBAAS,OAAO,MAAM;AACpB,cAAI,KAAK,GAAG,KAAK,OAAW;AAC5B,cAAI,MAAM,mBAAmB,KAAK,GAAG,CAAC;AACtC,mBAAS,GAAG,GAAG,IAAI,GAAG;AAAA,QACxB;AAEF,aAAO,MAAM,GAAG,GAAG,GAAG,QAAQ,IAAI,KAAK,KAAK,EAAE,IAAI;AAAA,QAChD,QAAQ;AAAA;AAAA,QACR,MAAM;AAAA;AAAA,QACN,OAAO;AAAA;AAAA,QACP,aAAa;AAAA;AAAA,QACb,SAAS,OAAO;AAAA,QAChB,UAAU;AAAA;AAAA,QACV,gBAAgB;AAAA;AAAA,MAClB,CAAC,EAAE,KAAK,kBAAkB,OAAO,cAAc,cAAc,gBAAgB,CAAC,EAC3E,KAAK,gBAAc,QAAQ,UAAe,CAAC,EAC3C,MAAM,WAAS;AACd,YAAI,SAAS,MAAM,SAAU,QAAO,MAAM,QAAQ;AAAA,YAC7C,QAAO,KAAK;AAAA,MACnB,CAAC;AAAA,IACL,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,UAAiC;AAC5C,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAAE,iBAAW,SAAS,QAAQ;AAAA,IAAE,CAAC;AAAA,EAC3E;AAAA,EAEA,aACE,KACA,cACA,kBACA;AACA,UAAM,KAAK,kBAAkB,GAAG;AAGhC,QAAI,0BAA0B,KAAK,cAAc,GAAG;AACpD,QAAI,wBAAyB,QAAO;AAEpC,QAAI;AACJ,QAAI;AAGJ,QAAI,MAAM,KAAK,cAAc,GAAG;AAEhC,QAAI,WAAW,IAAI,MAAM,GAAG;AAC5B,QAAI,YAAY,SAAS,CAAC;AAC1B,QAAI,UAAU,SAAS,CAAC;AAGxB,QAAI,aAAa,QAAQ;AACvB,oBAAc,KAAK,aAAa,GAAG;AACnC,UAAI,CAAC;AACH,sBAAc,KAAK,WAAmB,KAAK,QAAW,QAAW,cAAc,gBAAgB,EAAE,KAAK,aAAW;AAAE,eAAK,uBAAuB,OAAO;AAAA,QAAE,CAAC;AAC3J,qBAAe;AAAA,IACjB,WAAW,aAAa,UAAU;AAChC,UAAI,KAAK,KAAK,YAAY,QAAQ;AAEhC,sBAAc,KAAK,aAAa,GAAG;AACnC,YAAI,CAAC;AACH,wBAAc,KAAK,WAAmB,KAAK,QAAW,QAAW,cAAc,gBAAgB,EAAE,KAAK,CAAC,YAAoB;AACzH,kBAAM,UAAU,wCAAwC,mBAAmB,OAAO;AAClF,mBAAO,OAAO;AAAA,UAChB,CAAC;AACH,uBAAe;AAAA,MACjB,OAAO;AAEL,uBAAe,OAAO;AAAA,MACxB;AAAA,IACF,WAAW,aAAa,cAAc;AACpC,oBAAc,KAAK,aAAa,GAAG;AACnC,UAAI,CAAC;AACH,sBAAc,KAAK,WAAmB,KAAK,QAAW,QAAW,cAAc,gBAAgB,EAG5F,KAAK,aAAW,KAAK,kBAAkB,OAAO,CAAC;AACpD,qBAAe;AAAA,IACjB,WAAW,aAAa,cAAc;AACpC,qBAAe,KAAK,cAAc,GAAG;AACrC,UAAI,CAAC,cAAc;AACjB,uBAAe,IAAI,QAAa,CAAC,SAAS,WAAW;AACnD,cAAI,IAAI,SAAS,cAAc,QAAQ;AAGvC,YAAE,cAAc;AAChB,YAAE,MAAM;AACR,YAAE,OAAO;AACT,YAAE,SAAS;AACX,YAAE,UAAU;AACZ,mBAAS,KAAK,OAAO,CAAC;AAAA,QACxB,CAAC;AAAA,MACH;AAAA,IACF,WAAW,aAAa,UAAU;AAChC,UAAI,OAAO;AACT,uBAAe,IAAI,QAAQ,CAAC,SAAS,WAAW;AAC9C,cAAI,IAAI,SAAS,cAAc,QAAQ;AACvC,YAAE,OAAO;AACT,YAAE,MAAM;AACR,YAAE,SAAS;AACX,mBAAS,KAAK,OAAO,CAAC;AAAA,QACxB,CAAC;AAAA,MACH,OAAO;AACL,sBAAc,KAAK,aAAa,GAAG;AACnC,YAAI,CAAC,aAAa;AAChB,wBAAc,KAAK,WAAmB,KAAK,QAAW,QAAW,cAAc,gBAAgB,EAAE,KAAK,aAAW;AAC/G,gBAAI,QAAQ,QAAQ,MAAM,0BAA0B;AACpD,kBAAM,QAAQ,UAAQ,KAAK,kBAAkB,IAAI,CAAC;AAAA,UACpD,CAAC;AAAA,QACH;AACA,uBAAe;AAAA,MACjB;AAAA,IACF,WAAW,aAAa,OAAO;AAC7B,qBAAe,KAAK,WAAmB,KAAK,QAAW,QAAW,cAAc,gBAAgB,EAAE,KAAK,aAAW;AAChH,gBAAQ,KAAK,OAAO;AACpB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,WAAW,aAAa,YAAY;AAClC,oBAAc,KAAK,aAAa,GAAG;AACnC,UAAI,CAAC,aAAa;AAChB,sBAAc,KAAK,WAAW,KAAK,QAAW,QAAW,cAAc,gBAAgB,EAAE,KAAK,aAAW;AACvG,cAAI,cAAmC,CAAC;AACxC,cAAI,IAAI,SAAS,WAAW,GAAG;AAC7B,gBAAI,QAAQ;AACZ,gBAAI;AACJ,oBAAQ,QAAQ,MAAM,KAAK,OAAiB,OAAO,MAAM;AACvD,0BAAY,YAAY,MAAM,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC;AAAA,YAC/C;AAAA,UACF,OAAO;AACL,wBAAY,GAAG,IAAI;AAAA,UACrB;AACA,iBAAO;AAAA,QACT,CAAC;AAAA,MACH;AAEA,qBAAe,YAAY,KAAK,iBAAe;AAC7C,eAAO,YAAY,GAAG;AAAA,MACxB,CAAC;AAAA,IACH,WAAW,aAAa,QAAQ;AAC9B,UAAI,CAAC,QAAQ,OAAO,QAAQ,KAAK,IAAI,QAAQ,MAAM,GAAG;AAEtD,UAAI,OAAO,gBAAgB,MAAM,iBAAiB,KAAK,kBAAkB,MAAM,iBAAiB,KAAK,YAAY,GAAG;AACpH,UAAI,eAAe,SAAS,cAAc,OAAO;AAEjD,mBAAa,aAAa,OAAO,YAAY;AAE7C,mBAAa,QAAQ;AACrB,mBAAa,aAAa,SAAS,cAAc;AACjD,mBAAa,YAAY,aAAa,YAAY,iBAAiB,OAAO;AAC1E,eAAS,KAAK,YAAY,YAAY;AAGtC,UAAI,UAAU,SAAS,cAAc,MAAM;AAC3C,cAAQ,MAAM;AACd,cAAQ,OAAO;AACf,cAAQ,OAAO;AACf,cAAQ,KAAK;AACb,cAAQ,cAAc;AACtB,eAAS,KAAK,YAAY,YAAY;AAEtC,qBAAe,QAAQ,QAAQ;AAAA,IACjC,OAAO;AACL,YAAM,IAAI,MAAM,qCAAqC,MAAM,GAAG;AAAA,IAChE;AAEA,mBAAe,aAAa,MAAM,SAAU,KAAK;AAC/C,cAAQ,MAAM,iBAAiB,GAAG,EAAE;AACpC,cAAQ,MAAM,GAAG;AAAA,IACnB,CAAC;AAED,QAAI;AACF,WAAK,cAAc,GAAG,IAAI,uBAAuB,YAAY;AAC/D,QAAI;AACF,WAAK,aAAa,GAAG,IAAI,uBAAuB,WAAW;AAC7D,WAAO;AAAA,EACT;AAAA,EAEA,kBAAkB,MAAc;AAC9B,QAAI,WAAW,KAAK,MAAM,eAAe;AACzC,QAAI,iBAAiB,KAAK,MAAM,iBAAiB;AAEjD,QAAI,IAAI,SAAS,cAAc,QAAQ;AAGvC,QAAI,UAAU;AACZ,QAAE,OAAO,GAAG,KAAK,MAAM,EAAE,CAAC;AAAA;AAC1B,QAAE,aAAa,QAAQ,QAAQ;AAC/B,QAAE,cAAc;AAChB,UAAI,gBAAgB;AAClB,gBAAQ,IAAI,eAAe,CAAC,CAAC;AAC7B,UAAE,aAAa,OAAO,eAAe,CAAC,CAAC;AAAA,MACzC;AAAA,IACF,OAAO;AACL,QAAE,cAAc;AAChB,QAAE,OAAO;AACT,QAAE,OAAO;AACT,UAAI,gBAAgB;AAClB,gBAAQ,IAAI,eAAe,CAAC,CAAC;AAC7B,UAAE,aAAa,QAAQ,eAAe,CAAC,CAAC;AAAA,MAC1C;AAAA,IACF;AAEA,aAAS,KAAK,OAAO,CAAC;AAAA,EACxB;AAAA,EAEA,uBAAuB,SAAiB;AACtC,QAAI,QAAQ,QAAQ,MAAM,6BAA6B;AACvD,aAAS,QAAQ,OAAO;AACtB,UAAI,gBAAgB,KAAK,MAAM,mBAAmB;AAClD,UAAI,QAAQ,SAAS,cAAc,OAAO;AAE1C,YAAM,aAAa,QAAQ,UAAU;AACrC,UAAI,cAAe,OAAM,aAAa,QAAQ,cAAc,CAAC,CAAC;AAK9D,YAAM,YAAY,SAAS,eAAe,IAAI,CAAC;AAE/C,eAAS,KAAK,OAAO,KAAK;AAC1B,WAAK,YAAY,KAAK,KAAK;AAAA,IAC7B;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyFA,kBAAkB,KAAa;AAC7B,WAAO,IAAI,QAAQ,iBAAiB,EAAE,EAAE,QAAQ,iBAAiB,EAAE;AAAA,EACrE;AAAA,EAEA,cAAc,KAAa;AACzB,QAAI,WAAW,IAAI,MAAM,GAAG;AAC5B,QAAI,YAAY,SAAS,CAAC;AAC1B,QAAI,UAAU,SAAS,CAAC;AAExB,QAAI,aAAa,gBAAgB,aAAa,cAAc;AAC1D,aAAO,SAAS,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,IACnC;AACA,QAAI,aAAa,UAAU;AACzB,aAAO,GAAG,KAAK,KAAK,wBAAwB,GAAG,KAAK,KAAK,iBAAiB,WAAW,KAAK,KAAK,OAAO,uBAAuB,KAAK,kBAAkB,GAAG,KAAK,KAAK,UAAU,kBAAkB,EAAE;AAAA,IACjM;AACA,QAAI,aAAa,UAAU;AACzB,aAAO,SAAS,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,IACnC;AACA,QAAI,aAAa,QAAQ;AACvB,aAAO,GAAG,KAAK,KAAK,wBAAwB,GAAG,KAAK,KAAK,iBAAiB,WAAW,KAAK,KAAK,MAAM,OAAO,cAAc,KAAK,KAAK,MAAM,SAAS;AAAA,IACrJ;AACA,QAAI,aAAa,YAAY;AAC3B,UAAI,YAAoB,QAAQ,QAAQ,OAAO,GAAG,IAAI;AACtD,aAAO,GAAG,KAAK,KAAK,wBAAwB,GAAG,KAAK,KAAK,iBAAiB,IAAI,SAAS,MAAM,KAAK,KAAK,OAAO;AAAA,IAChH;AACA,QAAI,aAAa,OAAO;AACtB,UAAI,YAAoB,QAAQ,QAAQ,OAAO,GAAG;AAClD,aAAO,YAAY;AAAA,IACrB;AACA,QAAI,aAAa,QAAQ;AACvB,UAAI,CAAC,QAAQ,OAAO,QAAQ,OAAO,OAAO,IAAI,QAAQ,MAAM,GAAG;AAC/D,aAAO,GAAG,KAAK,KAAK,wBAAwB,GAAG,KAAK,KAAK,iBAAiB,SAAS,OAAO,MAAM,KAAK,KAAK,OAAO;AAAA,IACnH;AACA,QAAI,aAAa,SAAS;AACxB,UAAI,cAAc,QAAQ,MAAM,GAAG;AACnC,UAAI,OAAO,YAAY,CAAC;AACxB,UAAI,OAAO,YAAY,CAAC;AACxB,UAAI,OAAO,YAAY,CAAC;AAExB,UAAI,SAAS;AACb,UAAI,MAAM;AACR,YAAI,KAAK,QAAQ,GAAG,IAAI,IAAI;AAC1B,cAAI,IAAI,OAAO;AACf,oBAAW,SAAS,KAAK,UAAU,GAAG,KAAK,SAAS,CAAC,CAAC,IAAI,OAAQ,IAAK,IAAI,OAAQ;AAAA,QACrF;AACE,oBAAU,SAAS,IAAI;AAAA,MAC3B;AACE,kBAAU,OAAO;AAEnB,UAAI,MAAM;AACR,YAAI,QAAQ,KAAK,QAAQ,GAAG,IAAI,IAAI;AAClC,cAAI,IAAI,OAAO;AACf,oBAAW,SAAS,KAAK,UAAU,GAAG,KAAK,SAAS,CAAC,CAAC,IAAI,OAAQ,IAAK,IAAI,OAAQ;AAAA,QACrF;AACE,oBAAU,SAAS,IAAI;AAAA,MAC3B;AACE,kBAAU,OAAO;AAGnB,aAAO,GAAG,KAAK,KAAK,gBAAgB,QAAQ,mBAAmB,IAAI,CAAC,SAAS,IAAI,SAAS,IAAI;AAAA,IAChG;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAc;AACtB,QAAI,SAAS,OAAO;AACpB,QAAI,KAAK,SAAS,OAAO,MAAM,GAAG;AAClC,aAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,KAAK;AAClC,UAAI,IAAI,GAAG,CAAC;AACZ,aAAO,EAAE,OAAO,CAAC,MAAM,KAAK;AAC1B,YAAI,EAAE,UAAU,GAAG,EAAE,MAAM;AAAA,MAC7B;AACA,UAAI,EAAE,QAAQ,MAAM,MAAM,GAAG;AAC3B,eAAO,EAAE,UAAU,OAAO,QAAQ,EAAE,MAAM;AAAA,MAC5C;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,OAAO,KAAa,OAAe,YAAiC;AAClE,UAAM;AACN,QAAI;AACJ,QAAI,OAAO,aAAa,aAAa;AACnC;AAAA,IACF;AAGA,QAAI,UAAU,SAAS,GAAG;AACxB,mBAAa,OAAO,OAAO,EAAE,MAAM,IAAI,GAAG,UAAU;AAEpD,UAAI,OAAO,WAAW,YAAY,UAAU;AAC1C,YAAI,UAAU,oBAAI,KAAK;AACvB,gBAAQ;AAAA,UACN,QAAQ,gBAAgB,IAAI,WAAW,UAAU;AAAA,QACnD;AACA,mBAAW,UAAU;AAAA,MACvB;AAGA,iBAAW,UAAU,WAAW,UAC5B,WAAW,QAAQ,YAAY,IAC/B;AAEJ,cAAQ,KAAK,UAAU,KAAK;AAE5B,YAAM,mBAAmB,OAAO,GAAG,CAAC;AAEpC,UAAI,wBAAwB;AAC5B,eAAS,iBAAiB,YAAY;AACpC,YAAI,CAAC,WAAW,aAAa,GAAG;AAC9B;AAAA,QACF;AACA,iCAAyB,OAAO;AAChC,YAAI,WAAW,aAAa,MAAM,MAAM;AACtC;AAAA,QACF;AACA,iCAAyB,MAAM,WAAW,aAAa;AAAA,MACzD;AACA,aAAQ,SAAS,SAAS,MAAM,MAAM,QAAQ;AAAA,IAChD;AAIA,QAAI,CAAC,KAAK;AACR,eAAS,CAAC;AAAA,IACZ;AAKA,QAAI,UAAU,SAAS,SAAS,SAAS,OAAO,MAAM,IAAI,IAAI,CAAC;AAC/D,QAAI,UAAU;AAEd,QAAI,IAAI;AACR,WAAO,IAAI,QAAQ,QAAQ,KAAK;AAC9B,UAAI,QAAQ,QAAQ,CAAC,EAAE,MAAM,GAAG;AAChC,UAAI,SAAS,MAAM,MAAM,CAAC,EAAE,KAAK,GAAG;AAMpC,UAAI,OAAO,MAAM,CAAC,EAAE,QAAQ,SAAS,kBAAkB;AACvD,eAAS,OAAO,QAAQ,SAAS,kBAAkB;AAEnD,eAAS,KAAK,MAAM,MAAM;AAE1B,UAAI,QAAQ,MAAM;AAChB,iBAAS;AACT;AAAA,MACF;AAEA,UAAI,CAAC,KAAK;AACR,eAAO,IAAI,IAAI;AAAA,MACjB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,kBAAkB;AAChB,QAAI,KAAK,gBAAgB,KAAM;AAC/B,SAAK,YAAY,YAAY;AAAA,EAC/B;AAAA,EAEA,kBAAkB;AAChB,QAAI,KAAK,gBAAgB,KAAM;AAC/B,SAAK,YAAY,YAAY;AAAA,EAC/B;AACF;AAEO,IAAM,aAAN,MAAiB;AAAA,EACtB,oBAA4B;AAAA,EAC5B;AAAA,EACA,gBAAwB;AAAA,EACxB,oBAA4B;AAAA,EAC5B,0BAAkC;AAAA,EAClC,oBAA4B;AAAA,EAC5B,iBAAyB;AAAA,EACzB,cAAsB;AAAA,EACtB,UAAmB;AAAA,EACnB,cAAsB;AAAA,EACtB,iBAAyB;AAAA,EACzB,aAAqB;AAAA,EACrB;AAAA,EAEA,YAAY,SAAsB;AAChC,SAAK,UAAU;AACf,SAAK,cAAc,CAAC,cAAsB,KAAK,KAAK,SAAS;AAAA,EAC/D;AAAA,EAEA,OAAmB;AACjB,QAAI,KAAK,QAAS,QAAO;AACzB,SAAK,UAAU;AACf,SAAK,cAAc,KAAK,IAAI;AAC5B,WAAO,sBAAsB,KAAK,WAAW;AAC7C,WAAO;AAAA,EACT;AAAA,EAEA,KAAK,WAAmB;AACtB,QAAI,CAAC,KAAK,QAAS;AACnB,QAAK,YAAY,KAAK,aAAc,KAAK;AACvC,aAAO,OAAO,sBAAsB,KAAK,WAAW;AAEtD,SAAK,aAAa;AAElB,QAAI,KAAK,0BAA0B,KAAK,mBAAmB;AACzD,WAAK,2BAA2B,KAAK;AACrC,UAAI,cAAc,MAAK,MAAK,KAAK,0BAA0B,KAAK;AAChE,WAAK,QAAQ,MAAM,QAAQ,cAAc,MAAM;AAAA,IACjD;AACA,QAAI,cAAc,KAAK,IAAI,IAAI,KAAK;AACpC,QAAI,cAAc,MAAQ;AACxB,cAAQ,IAAI,uBAAuB;AACnC,WAAK,KAAK;AAAA,IACZ;AACA,QAAI,iBAAiB,UAAU,cAAc,KAAK;AAClD,QAAI,UAAU,KAAK,IAAI,KAAK,eAAe,KAAK,IAAI,cAAc;AAClE,SAAK,QAAQ,MAAM,UAAU;AAE7B,WAAO,sBAAsB,KAAK,WAAW;AAAA,EAC/C;AAAA,EAEA,MAAM,eAAmC;AACvC,SAAK,cAAc;AACnB,SAAK,iBAAiB;AACtB,SAAK,oBAAoB;AACzB,SAAK,gBAAgB;AACrB,SAAK,oBAAoB;AACzB,SAAK,0BAA0B;AAC/B,SAAK,oBAAoB;AACzB,SAAK,iBAAiB;AACtB,SAAK,UAAU;AACf,SAAK,aAAa;AAClB,WAAO;AAAA,EACT;AAAA,EAEA,OAAO;AACL,QAAI,CAAC,KAAK,QAAS;AACnB,SAAK,UAAU;AACf,YAAQ,IAAI,qBAAqB,KAAK,iBAAiB,UAAU;AACjE,SAAK,QAAQ,MAAM,UAAU;AAAA,EAC/B;AAAA,EAEA,QAAQ,OAAe;AACrB,SAAK,iBAAiB;AAAA,EACxB;AAAA,EAEA,YAAY,OAAe;AACzB,SAAK,qBAAqB;AAC1B,SAAK,qBAAqB,KAAK,oBAAoB,KAAK,2BAA2B,KAAK,oBAAoB,KAAK;AAAA,EACnH;AACF;;;AC9tBA,IAAI,cAAc,OAAO,UAAe;AACtC,MAAI,OAAO,KAAK;AAEd,QAAI,SAAS,MAAM,QAAQ,MAAM,KAAK,QAAQ,qBAAqB;AACjE,aAAO,IAAI;AAAA,QACT;AAAA,QACA;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAGA,QAAI,SAAS,MAAM,QAAQ,sBAAsB;AAC/C,aAAO,IAAI;AAAA,QACT;AAAA;AAAA,QAEA;AAAA,MACF,EACG,KAAK,MAAM;AACV,eAAO,IAAI,KAAK,MAAM;AACtB,eAAO,SAAS,OAAO;AAAA,MACzB,CAAC;AACH,aAAO;AAAA,IACT;AAGA,QAAI,MAAM,WAAW,iBAAiB;AACpC,aAAO,IAAI;AAAA,QACT;AAAA,QACA;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAAA,EACF;AAEA,SAAO;AACT;AAEA,OAAO,cAAc;AAErB,OAAO,UAAU,UAAU,SAAwB;AACjD,MAAI,QAAQ,KAAK,SAAS,KAAK,CAAC,IAAI;AACpC,MAAI,SAAS,MAAM,YAAY,KAAK,EAAG;AACvC,MAAI;AACF,WAAO,gBAAgB,KAAK;AAAA,EAC9B,SAAS,KAAK;AACZ,UAAM,+DAA+D;AACrE,YAAQ,IAAI,GAAG;AAAA,EACjB;AACF;AAEA,OAAO,iBAAiB,sBAAsB,eAAgB,OAAO;AACnE,MAAI,QAAQ,MAAM;AAClB,MAAI,SAAS,CAAC,CAAC,OAAO,OAAO,MAAM,YAAY,KAAK,GAAG;AACrD,UAAM,eAAe;AACrB,UAAM,gBAAgB;AACtB,UAAM,eAAe;AACrB;AAAA,EACF;AACA,MAAI;AACF,WAAO,gBAAgB,KAAK;AAAA,EAC9B,SAAS,KAAK;AACZ,UAAM,+DAA+D;AACrE,YAAQ,IAAI,GAAG;AAAA,EACjB;AACF,CAAC;;;AChED,IAAI,YAAsC;AAAA,EACxC,UAAU;AAAA,IACR,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,+BAA+B,MAAM,GAAG;AAAA,MACjD,EAAE,OAAO,mBAAmB,MAAM,GAAG;AAAA,MACrC,EAAE,OAAO,wBAAwB,MAAM,GAAG;AAAA,MAC1C,EAAE,OAAO,qBAAqB,MAAM,GAAG;AAAA,MACvC,EAAE,OAAO,gBAAgB,MAAM,GAAG;AAAA,MAClC,EAAE,OAAO,gDAAgD,MAAM,GAAG;AAAA,IACpE;AAAA,IACA,MAAM;AAAA,MACJ;AAAA,MACA;AAAA,IACF;AAAA,IACA,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,6BAA6B;AAAA,IAC3B,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,gCAAgC,MAAM,GAAG;AAAA,MAClD,EAAE,OAAO,0BAA0B,MAAM,GAAG;AAAA,MAC5C,EAAE,OAAO,0BAA0B,MAAM,GAAG;AAAA,MAC5C,EAAE,OAAO,qBAAqB,MAAM,GAAG;AAAA,MACvC,EAAE,OAAO,wBAAwB,MAAM,GAAG;AAAA,MAC1C,EAAE,OAAO,8CAA8C,MAAM,GAAG;AAAA,IAClE;AAAA,IACA,MAAM,CAAC,cAAc,SAAS,OAAO;AAAA,IACrC,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,wBAAwB;AAAA,IACtB,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,uBAAuB,MAAM,GAAG;AAAA,MACzC,EAAE,OAAO,wBAAwB,MAAM,GAAG;AAAA,MAC1C,EAAE,OAAO,mBAAmB,MAAM,GAAG;AAAA,MACrC,EAAE,OAAO,sBAAsB,MAAM,GAAG;AAAA,MACxC,EAAE,OAAO,oBAAoB,MAAM,GAAG;AAAA,MACtC,EAAE,OAAO,4CAA4C,MAAM,GAAG;AAAA,IAChE;AAAA,IACA,MAAM,CAAC,YAAY,MAAM;AAAA,IACzB,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,wBAAwB;AAAA,IACtB,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,8BAA8B,MAAM,GAAG;AAAA,MAChD,EAAE,OAAO,2BAA2B,MAAM,GAAG;AAAA,MAC7C,EAAE,OAAO,qBAAqB,MAAM,GAAG;AAAA,MACvC,EAAE,OAAO,oBAAoB,MAAM,GAAG;AAAA,MACtC,EAAE,OAAO,mCAAmC,MAAM,GAAG;AAAA,IACvD;AAAA,IACA,MAAM,CAAC,YAAY,QAAQ;AAAA,IAC3B,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,2BAA2B;AAAA,IACzB,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,8BAA8B,MAAM,GAAG;AAAA,MAChD,EAAE,OAAO,sBAAsB,MAAM,GAAG;AAAA,MACxC,EAAE,OAAO,mBAAmB,MAAM,GAAG;AAAA,MACrC,EAAE,OAAO,wBAAwB,MAAM,GAAG;AAAA,MAC1C,EAAE,OAAO,iDAAiD,MAAM,GAAG;AAAA,IACrE;AAAA,IACA,MAAM,CAAC,aAAa,SAAS;AAAA,IAC7B,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,+BAA+B;AAAA,IAC7B,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,kCAAkC,MAAM,GAAG;AAAA,MACpD,EAAE,OAAO,0BAA0B,MAAM,GAAG;AAAA,MAC5C,EAAE,OAAO,mBAAmB,MAAM,GAAG;AAAA,MACrC,EAAE,OAAO,uBAAuB,MAAM,GAAG;AAAA,MACzC,EAAE,OAAO,wBAAwB,MAAM,GAAG;AAAA,MAC1C,EAAE,OAAO,4CAA4C,MAAM,GAAG;AAAA,IAChE;AAAA,IACA,MAAM,CAAC,cAAc,MAAM;AAAA,IAC3B,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,yBAAyB;AAAA,IACvB,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,uBAAuB,MAAM,GAAG;AAAA,MACzC,EAAE,OAAO,0BAA0B,MAAM,GAAG;AAAA,MAC5C,EAAE,OAAO,uCAAuC,MAAM,GAAG;AAAA,MACzD,EAAE,OAAO,4CAA4C,MAAM,GAAG;AAAA,IAChE;AAAA,IACA,MAAM,CAAC,YAAY,OAAO;AAAA,IAC1B,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,+BAA+B;AAAA,IAC7B,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,0BAA0B,MAAM,GAAG;AAAA,MAC5C,EAAE,OAAO,oBAAoB,MAAM,GAAG;AAAA,MACtC,EAAE,OAAO,kBAAkB,MAAM,GAAG;AAAA,MACpC,EAAE,OAAO,gBAAgB,MAAM,GAAG;AAAA,MAClC,EAAE,OAAO,sBAAsB,MAAM,GAAG;AAAA,MACxC,EAAE,OAAO,6CAA6C,MAAM,GAAG;AAAA,IACjE;AAAA,IACA,MAAM,CAAC,SAAS,YAAY,QAAQ;AAAA,IACpC,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,+BAA+B;AAAA,IAC7B,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,iCAAiC,MAAM,GAAG;AAAA,MACnD,EAAE,OAAO,0BAA0B,MAAM,GAAG;AAAA,MAC5C,EAAE,OAAO,sBAAsB,MAAM,GAAG;AAAA,MACxC,EAAE,OAAO,wBAAwB,MAAM,GAAG;AAAA,MAC1C,EAAE,OAAO,gDAAgD,MAAM,GAAG;AAAA,IACpE;AAAA,IACA,MAAM,CAAC,gBAAgB,OAAO;AAAA,IAC9B,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,6BAA6B;AAAA,IAC3B,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,0BAA0B,MAAM,GAAG;AAAA,MAC5C,EAAE,OAAO,mBAAmB,MAAM,GAAG;AAAA,MACrC,EAAE,OAAO,sBAAsB,MAAM,GAAG;AAAA,MACxC,EAAE,OAAO,yBAAyB,MAAM,GAAG;AAAA,MAC3C,EAAE,OAAO,wBAAwB,MAAM,GAAG;AAAA,MAC1C,EAAE,OAAO,uDAAoD,MAAM,GAAG;AAAA,IACxE;AAAA,IACA,MAAM,CAAC,SAAS,SAAS,MAAM;AAAA,IAC/B,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA,wBAAwB;AAAA,IACtB,IAAI;AAAA,IACJ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,MAAM;AAAA,IACN,KAAK;AAAA,MACH,EAAE,OAAO,6BAA6B,MAAM,GAAG;AAAA,MAC/C,EAAE,OAAO,yBAAyB,MAAM,GAAG;AAAA,MAC3C,EAAE,OAAO,oBAAoB,MAAM,GAAG;AAAA,MACtC,EAAE,OAAO,uBAAuB,MAAM,GAAG;AAAA,MACzC,EAAE,OAAO,kBAAkB,MAAM,GAAG;AAAA,MACpC,EAAE,OAAO,uCAAuC,MAAM,GAAG;AAAA,IAC3D;AAAA,IACA,MAAM,CAAC,aAAa,MAAM;AAAA,IAC1B,MAAM;AAAA,IACN,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO;AAAA,EACT;AACF;AAEA,IAAM,MAAN,MAAU;AAAA,EACR,MAAM,gBAAgB,IAA2C;AAC/D,WAAO,UAAU,EAAE;AAAA,EACrB;AAAA,EACA,MAAM,aAAa,UAAkB,SAAsC;AACzE,UAAM,eAAe,OAAO,OAAO,SAAS;AAC5C,UAAM,QAAQ,UAAU;AACxB,UAAM,MAAM,QAAQ;AACpB,WAAO,aAAa,MAAM,OAAO,GAAG;AAAA,EACtC;AAAA,EAEA,MAAM,gBAAgB,MAcJ;AAChB,WAAO;AAAA,MACL,IAAI,KAAK;AAAA,MACT,OAAO,KAAK,aAAa;AAAA,MACzB,YAAY,KAAK,aAAa;AAAA,MAC9B,WAAW,KAAK,aAAa;AAAA,MAC7B,WAAW,KAAK,aAAa;AAAA,MAC7B,UAAU,KAAK,aAAa;AAAA,MAC5B,QAAQ,KAAK,aAAa;AAAA,MAC1B,WAAW,KAAK,aAAa;AAAA,MAC7B,WAAW,KAAK,aAAa;AAAA,MAC7B,MAAM,KAAK,aAAa;AAAA,IAC1B;AAAA,EACF;AACF;AAEO,IAAI,MAAM,IAAI,IAAI;;;AC9TzB,IAAI,UAAU;AAkBP,SAAS,KAAK,YAAkC,MAAwB;AAC7E,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,GAAG,MAAM;AAAE,WAAO;AAAG,QAAI,IAAI,KAAK,OAAQ,QAAO,KAAK,CAAC;AAAA,EAAE,CAAC;AAC3E,SAAO;AACT;AAEO,SAAS,IAAI,YAAkC,MAAwB;AAC5E,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,GAAG,MAAM;AAAE,WAAO;AAAG,QAAI,IAAI,KAAK,OAAQ,QAAO,KAAK,CAAC;AAAA,EAAE,CAAC;AAC3E,SAAO;AACT;AAGO,IAAM,QAAN,MAAY;AAAA,EACV;AAAA,EACA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAoB;AAAA,EACpB;AAAA,EACA,WAAoB;AAAA,EAE3B,YAAY,UAAmB;AAC7B,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,IAAI,CAAC;AAAA,EACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBO,KAAK,MAAc,OAAe;AACvC,SAAK,KAAK,KAAK,MAAM,KAAK;AAAA,EAC5B;AAAA;AAAA,EAGO,UAAU,OAAkC;AACjD,WAAO;AAAA,MACL,aAAa,GAAgB;AAC3B,eAAO,MAAM,CAAC;AAAA,MAChB;AAAA,MACA,gBAAgB,GAAgB;AAC9B,eAAO,MAAM,CAAC;AAAA,MAChB;AAAA,IACF;AAAA,EACF;AAAA,EAEO,OAAO,QAAgB;AAC5B,WAAO,OAAO,MAAM,MAAM;AAAA,EAC5B;AAAA,EAEO,IAAI,GAAW,GAAQ;AAC5B,SAAK,KAAK,IAAI,GAAG,CAAC;AAAA,EACpB;AAAA,EAEO,SAAS,IACd,SACA,eACA,QACA,UAAgC;AAChC,QAAI,KAAK,MAAM,KAAK,SAAS,IAAI,SAAS,eAAe,MAAM,QAAW,QAAQ;AAClF,YAAQ,GAAG,eAAe,EAAE;AAC5B,SAAK,SAAS,IAAI,SAAS,eAAe,OAAO,QAAQ,QAAQ;AAAA,EACnE;AAAA,EAEO,aAAa,IAAY;AAC9B,QAAI,YAAY,SAAS,KAAK,OAAO,SAAS,EAAE;AAChD,WAAO,KAAK,IAAI,KAAK,IAAI,SAAS;AAAA,EACpC;AAAA,EAEO,SAAS,IACd,SACA,eACA,SAAS,MACT,QACA,UAA+C;AAC/C,QAAI,YAAY,GAAG,EAAE;AACrB,QAAI,SAAS,WAAW,OAAO,SAAS,KAAK,IAAI,KAAK,IAAI,SAAS;AACnE,QAAI,OAAQ,UAAS,CAAC;AACtB,QAAI,QAAQ;AACV,cAAQ,SAAS,QAAQ;AACzB,cAAQ,YAAY,MAAM;AAC1B,oBAAc,KAAK;AAAA,IACrB,OAAO;AACL,cAAQ,SAAS,MAAM;AACvB,cAAQ,YAAY,QAAQ;AAC5B,oBAAc,KAAK;AAAA,IACrB;AACA,SAAK,IAAI,KAAK,IAAI,WAAW,MAAM;AACnC,WAAO,WAAW,SAAS,IAAI,QAAQ,QAAQ;AAAA,EACjD;AAAA;AAAA;AAAA;AAAA,EAMA,MAAa,QAAQ,GAAU;AAC7B,QAAI,CAAC,EAAG;AACR,MAAE,gBAAgB;AAClB,MAAE,eAAe;AAAA,EACnB;AAAA,EAEO,OAAc;AACnB,SAAK,KAAK,KAAK;AACf,WAAO;AAAA,EACT;AAAA,EAEO,OAAO,MAAsB;AAClC,QAAI;AACF,WAAK,KAAK,KAAK;AAAA;AAEf,WAAK,KAAK,KAAK;AAEjB,WAAO;AAAA,EACT;AAAA,EAEO,KAAKC,OAAc;AACxB,SAAK,KAAK,KAAKA,KAAI;AAAA,EACrB;AAAA;AAAA,EAGO,KAAK,UAAmB,YAAyB,SAA8B;AACpF,QAAI,aAAa,UAAa,OAAO,YAAY;AAC/C,YAAM,IAAI,MAAM,wDAAwD;AAC1E,SAAK,OAAO,KAAK,aAAa,qBAAqB,SAAS,KAAK,CAAC;AAGlE,QAAI,WAAW,QAAQ,OAAO;AAC5B,eAAS,IAAI,GAAG,IAAI,QAAQ,MAAM,QAAQ,KAAK;AAC7C,YAAI,OAAO,QAAQ,MAAM,CAAC;AAG1B,YAAI,KAAK,QAAQ,SAAS;AACxB,eAAK,KAAK,SAAS,KAAK,KAAK;AAAA,QAC/B,OAGK;AACH,eAAK,KAAK,KAAK,KAAK,MAAM,KAAK,KAAK;AAAA,QACtC;AAAA,MACF;AACA,aAAO,QAAQ;AAAA,IACjB;AAGA,aAAS,QAAQ,YAAY;AAG3B,UAAI,OAAO,WAAW,IAAI;AAG1B,UAAI,CAAC,MAAM,QAAQ,IAAI,GAAG;AACxB,YAAI,OAAa,KAAK,KAAK,KAAK,IAAI;AACpC,YAAI,KAAK,UAAU,GAAG;AACpB,kBAAQ,MAAM,GAAG,KAAK,YAAY,IAAI,yBAAyB,IAAI,OAAO,IAAI,GAAG;AAAA,QACnF;AACA,QAAC,KAAa,IAAI,IAAI;AACtB;AAAA,MACF;AAIA,UAAI,OAAO,KAAK,KAAK,KAAK,KAAK,CAAC,CAAC,EAAE,MAAM;AACzC,UAAI,CAAC,QAAQ,KAAK,UAAU,GAAG;AAC7B,gBAAQ,MAAM,GAAG,KAAK,YAAY,IAAI,yBAAyB,IAAI,QAAQ,KAAK,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,IAAI,GAAG;AAAA,MACzG,WAAW,KAAK,UAAU,GAAG;AAC3B,YAAI,eAAe,KAAK,aAAa,UAAU,KAAK,CAAC,GAAG,KAAK,KAAK,WAAW,GAAG,MAAM,KAAK,CAAC,CAAC;AACzF,QAAC,KAAa,IAAI,IAAI;AAC1B,YAAI,cAAc,KAAK,IAAI,CAAC;AAC5B,oBAAY,WAAY,aAAa,aAAa,KAAK,IAAI,CAAC,GAAI,WAAW;AAAA,MAC7E,OAAO;AACL,cAAM,IAAI,MAAM,4BAA4B,IAAI,EAAE;AAAA,MACpD;AAAA,IACF;AAEA,WAAO,KAAK;AAAA,EACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaO,MAAM,OAAY;AACvB,QAAI,OAAO,OAAO,KAAK,KAAK;AAC5B,aAAS,OAAO,OAAO,oBAAoB,KAAK,GAAG;AACjD,UAAI,QAAQ,MAAM,GAAG;AACrB,UAAI,OAAO,SAAS,YAAY;AAC9B;AAAA,MACF;AACA,UAAK,KAAa,GAAG,GAAG;AACtB,cAAM,IAAI;AAAA,UACR,UAAU,GAAG,SAAS,OAAO,IAAI,SAAS,GAAG;AAAA,QAC/C;AAAA,MACF;AACA,MAAC,KAAa,GAAG,IAAI;AAAA,IACvB;AAAA,EACF;AAAA,EAEO,OAAO,KAAa,KAAa;AACtC,WAAO,KAAK,OAAO,KAAK,MAAM,OAAO;AAAA,EACvC;AAAA,EAEO,UAAU,KAAa,KAAa;AACzC,WAAO,KAAK,MAAM,KAAK,OAAO,KAAK,MAAM,OAAO,GAAG;AAAA,EACrD;AAAA,EAEO,SAAe;AAAA,EAAE;AAAA,EAEjB,OAAc;AACnB,SAAK,KAAK,KAAK;AACf,WAAO;AAAA,EACT;AAAA,EAEO,OAAO,MAAsB;AAClC,QAAI;AACF,WAAK,KAAK,KAAK;AAAA;AAEf,WAAK,KAAK,KAAK;AAEjB,WAAO;AAAA,EACT;AAAA,EAEO,WAAW,GAAmB;AACnC,QAAI,CAAC,KAAK;AACR,aAAO;AACT,QAAI,CAAC,KAAK,QAAQ,CAAC;AACjB,aAAO;AACT,QAAI,UAAU,KAAK,QAAQ,CAAC;AAC5B,WAAO,KAAK,QAAQ,CAAC;AACrB,aAAS,WAAW;AAClB,cAAQ;AAEV,WAAO,QAAQ;AAAA,EACjB;AAAA,EAEO,WAAW,GAA0B;AAC1C,QAAI,CAAC,KAAK;AACR,WAAK,UAAU,CAAC;AAClB,QAAI,CAAC,KAAK,QAAQ,CAAC,GAAG;AACpB,WAAK,QAAQ,CAAC,IAAI,CAAC;AAAA,IACrB;AAEA,WAAO,IAAI,QAAc,CAAC,SAAS,WAAW;AAC5C,WAAK,QAAS,CAAC,EAAE,KAAK,OAAO;AAAA,IAC/B,CAAC;AAAA,EACH;AAAA;AAAA,EAGO,MAAM,IAAY;AACvB,WAAO,IAAI,QAAQ,aAAW,WAAW,SAAS,EAAE,CAAC;AAAA,EACvD;AAAA,EAEO,OAAO,KAAa,OAAe,OAAY;AACpD,QAAI,KAAU;AACd,QAAI,WAAW,IAAI,MAAM,GAAG;AAC5B,WAAO,SAAS,SAAS,GAAG;AAC1B,gBAAU,SAAS,MAAM;AACzB,YAAO,KAAa,OAAQ;AAC5B,UAAI,QAAQ,QAAW;AACrB,cAAM,CAAC;AAAA,MACT,WAAW,OAAO,OAAO,UAAU;AACjC,cAAM,IAAI,MAAM,0CAA0C;AAAA,MAC5D;AAAA,IACF;AAEA,cAAU,SAAS,MAAM;AACzB,QAAI,MAAO,KAAa,OAAQ;AAChC,QAAI,QAAQ,QAAW;AACrB,YAAO,KAAa,OAAQ,IAAI,CAAC;AAAA,IACnC,WAAW,CAAC,MAAM,QAAQ,GAAG,GAAG;AAC9B,YAAM,IAAI,MAAM,yCAAyC;AAAA,IAC3D;AAEA,QAAI,KAAK,IAAI;AAAA,EACf;AAAA,EAEO,KAAK,MAAc;AACxB,SAAK,KAAK,KAAK,IAAI;AAAA,EACrB;AACF;;;AC7TO,IAAM,kBAAN,cAA8B,MAAM;AAAA,EAOjC;AAAA,EACA;AAAA,EACA;AAAA,EAED,KAAK,UAAkB,OAAmB,SAA6B;AAC5E,eAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBX,UAAM,KAAK,UAAU;AAAA,MACnB,mBAAmB;AAAA,MACnB,aAAa;AAAA,MACb,YAAY;AAAA,IACd,GAAG,OAAO;AAGV,SAAK,kBAAmB,GAAG,eAAe,MAAM,KAAK,EAAE,cAAc,CAAC;AACtE,SAAK,YAAa,GAAG,eAAe,MAAM,KAAK,EAAE,QAAQ,CAAC;AAC1D,SAAK,WAAY,GAAG,eAAe,MAAM,KAAK,EAAE,OAAO,CAAC;AACxD,WAAO,KAAK;AAAA,EACd;AACF;;;ACvCA,OAAO,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAcxB;AAEM,IAAM,iBAAN,cAA6B,MAAM;AAAA,EAOjC,KAAK,UAAkB,OAAmB,SAA6B;AAC5E,eAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUX,UAAM,KAAK,UAAU,CACrB,GAAG,OAAO;AAGV,WAAO,KAAK;AAAA,EACd;AACF;;;ACxCA,OAAO,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CA+DtB;AAEM,IAAM,eAAN,cAA2B,MAAM;AAAA,EAG/B,KAAK,UAAkB,OAAmB,SAA6B;AAC5E,eAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBX,UAAM,KAAK,UAAU,CAAC,GAAG,OAAO;AAGhC,WAAO,KAAK;AAAA,EACd;AACF;;;ACjGO,IAAM,WAAN,MAAe;AAAA,EACb;AAAA,EACA;AAAA,EAEP,cAAc;AAAA,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQT,GAAG,UAAkB,YAA4D;AACtF,WAAO,IAAI,gBAAgB;AACzB,UAAI,WAAqC,CAAC;AAC1C,UAAI,KAAK,YAAY,KAAK,SAAS,KAAK;AACtC,aAAK,SAAS,KAAK,EAAE,QAAQ,SAAU,SAAS;AAAE,mBAAS,KAAK,QAAQ,GAAG,YAAY,GAAG,WAAW,CAAC;AAAA,QAAE,CAAC;AAC3G,aAAO,QAAQ,IAAI,QAAQ;AAAA,IAC7B;AAAA,EACF;AAAA,EAEO,IAAI,OAAe,WAAmB;AAC3C,QAAI,CAAC,KAAK,SAAU,MAAK,WAAW,CAAC;AACrC,QAAI,CAAC,KAAK,aAAc,MAAK,eAAe,CAAC;AAE7C,QAAI,UAAU,KAAK,aAAa,SAAS;AAEzC,QAAI,SAAS,MAAM,MAAM,KAAK;AAC9B,SAAK,SAAS,QAAQ;AACpB,UAAI,CAAC,KAAK,SAAS,KAAK,EAAG;AAC3B,UAAI,SAAS;AACX,YAAI,QAAQ,KAAK,SAAS,KAAK,EAAE,QAAQ,OAAO;AAChD,YAAI,SAAS,GAAI;AACjB,aAAK,SAAS,KAAK,EAAE,OAAO,OAAO,CAAC;AAAA,MACtC,OAAO;AACL,aAAK,SAAS,KAAK,IAAI,CAAC;AAAA,MAC1B;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGO,GAAG,OAAe,SAAuB,WAAoB;AAClE,QAAI,CAAC,KAAK,SAAU,MAAK,WAAW,CAAC;AACrC,QAAI,CAAC,KAAK,aAAc,MAAK,eAAe,CAAC;AAE7C,QAAI,UAAW,MAAK,aAAa,SAAS,IAAI;AAE9C,QAAI,SAAS,MAAM,MAAM,KAAK;AAC9B,SAAK,SAAS,QAAQ;AACpB,UAAI,CAAC,KAAK,SAAS,KAAK,GAAG;AACzB,aAAK,SAAS,KAAK,IAAI,CAAC;AAAA,MAC1B;AAEA,WAAK,SAAS,KAAK,EAAE,KAAK,OAAO;AAAA,IACnC;AAAA,EACF;AAAA,EAEO,MAAM,UAAyC;AACpD,aAAS,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,QAAQ,GAAG;AACjD,WAAK,GAAG,KAAK,KAAK;AAAA,IACpB;AAAA,EACF;AACF;;;AC/DO,SAASC,KAAI,YAAkC,MAAwB;AAC5E,SAAO,QAAQ,CAAC;AAIlB;AAEO,SAAS,SAAS,GAAW,GAAW;AAC7C,QAAM,QAAQ,SAAS,cAAc,OAAO;AAC5C,QAAM,cAAc;AACpB,QAAM,QAAQ;AACd,WAAS,KAAK,YAAY,KAAK;AACjC;;;ACTA,SAAS,UAAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAUlB;AA4CM,IAAM,SAAN,cAAqB,SAAS;AAAA,EAC5B;AAAA,EAIA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,aAAsB;AAAA,EACtB,UAAmB;AAAA,EACnB;AAAA,EACA;AAAA,EACA,YAAoB;AAAA,EACpB;AAAA,EACA;AAAA,EAEP,YAAY,KAAU;AACpB,UAAM;AACN,SAAK,MAAM;AACX,SAAK,QAAS,QAAQ,SAAS,QAAQ,MAAM,SAAU;AACvD,SAAK,mBAAmB,CAAC;AACzB,SAAK,IAAI,EAAE,UAAU,YAAY;AAAA,IAAE,EAAE;AACrC,SAAK,YAAY;AACjB,SAAK,SAAS,CAAC;AAEf,QAAI,SAAS;AACb,YAAQ,oBAAoB;AAC5B,WAAO,aAAa,SAAqC,IAAyB;AAChF,aAAO,IAAI,YAAY;AACvB,aAAO,gBAAgB;AACvB,aAAO,UAAU;AAAA,IACnB;AAAA,EACF;AAAA,EAEA,OAAc,aAAa,GAAgC;AACzD,aAAS,KAAK,EAAG,KAAI,EAAE,CAAC,MAAM,OAAW,QAAO,EAAE,CAAC;AACnD,QAAI,OAAO,KAAK,CAAC,EAAE,UAAU,EAAG,QAAO;AACvC,QAAI,kBAAkB,IAAI,gBAAgB,CAAoB;AAC9D,oBAAgB,KAAK;AACrB,WAAO,gBAAgB,SAAS;AAAA,EAClC;AAAA,EAEO,SAAS,KAAa,eAAwB,OAAa;AAChE,WAAO,KAAK,QAAQ,KAAK,cAAc,MAAM;AAAA,EAC/C;AAAA,EAEO,cAAc,OAAe,MAAc;AAChD,QAAI,CAAC,MAAO;AAEZ,UAAM,KAAK,KAAK,MAAM,IAAI;AAE1B,QAAI,WAAW;AAEf,QAAI,QAAQ,iBAAiB;AAC3B,YAAM,KAAK,IAAI;AAAA,QACb,UAAU;AAAA,QACV,KAAK;AAAA,QACL,MAAM,KAAK;AAAA,QACX,SAAS;AAAA,MACX,CAAC;AACD,YAAM,KACH,KAAK,MAAM,IAAI,EACf,QAAQ,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,SAAS,GAAG,QAAQ,EACjD,KAAK,MAAM,MAAM,KAAK,IAAI,YAAY,EAAE,CAAC;AAAA,IAC9C,WAAW,QAAQ,gBAAgB;AACjC,YAAM,KAAK,IAAI;AAAA,QACb,UAAU;AAAA,QACV,KAAK;AAAA,QACL,MAAM,CAAC,KAAK;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AACD,YAAM,KACH,KAAK,MAAM,IAAI,EACf,QAAQ,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,SAAS,GAAG,QAAQ,EACjD,KAAK,MAAM,MAAM,KAAK,IAAI,YAAY,EAAE,CAAC;AAAA,IAC9C,WAAW,QAAQ,eAAe;AAChC,YAAM,KAAK,IAAI;AAAA,QACb,UAAU;AAAA,QACV,KAAK,CAAC,KAAK;AAAA,QACX,MAAM;AAAA,QACN,SAAS;AAAA,MACX,CAAC;AACD,YAAM,KACH,KAAK,MAAM,IAAI,EACf,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,SAAS,GAAG,QAAQ,EAC/C,KAAK,MAAM,MAAM,KAAK,IAAI,YAAY,EAAE,CAAC;AAAA,IAC9C,WAAW,QAAQ,kBAAkB;AACnC,YAAM,KAAK,IAAI;AAAA,QACb,UAAU;AAAA,QACV,KAAK,KAAK;AAAA,QACV,MAAM;AAAA,QACN,SAAS;AAAA,MACX,CAAC;AACD,YAAM,KACH,KAAK,MAAM,IAAI,EACf,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,SAAS,GAAG,QAAQ,EAC/C,KAAK,MAAM,MAAM,KAAK,IAAI,YAAY,EAAE,CAAC;AAAA,IAC9C,WAAW,QAAQ,gBAAgB;AACjC,YAAM,KAAK,IAAI,YAAY,UAAU;AACrC,YAAM,KACH,KAAK,MAAM,IAAI,EACf;AAAA,QACC,EAAE,MAAM,CAAC,KAAK,YAAa;AAAA,QAC3B,EAAE,MAAM,SAAS;AAAA,QACjB;AAAA,MAAQ,EACT,KAAK,MAAM;AAAE,cAAM,KAAK,KAAK;AAAG,cAAM,IAAI,YAAY,EAAE;AAAA,MAAE,CAAC;AAAA,IAChE,WAAW,QAAQ,iBAAiB;AAClC,YAAM,KAAK,IAAI,YAAY,UAAU;AACrC,YAAM,KACH,KAAK,MAAM,IAAI,EACf;AAAA,QACC,EAAE,MAAM,KAAK,YAAY;AAAA,QACzB,EAAE,MAAM,SAAS;AAAA,QACjB;AAAA,MACF,EACC,KAAK,MAAM;AAAE,cAAM,KAAK,KAAK;AAAG,cAAM,IAAI,YAAY,EAAE;AAAA,MAAE,CAAC;AAAA,IAChE,WAAW,QAAQ,eAAe;AAChC,YAAM,KACH,KAAK,MAAM,IAAI,EACf;AAAA,QACC,EAAE,KAAK,CAAC,KAAK,aAAc;AAAA,QAC3B,EAAE,KAAK,SAAS;AAAA,QAChB;AAAA,MACF,EAAE,KAAK,MAAM;AAAE,cAAM,KAAK,KAAK;AAAG,cAAM,IAAI,YAAY,EAAE;AAAA,MAAE,CAAC;AAAA,IACjE,WAAW,QAAQ,kBAAkB;AACnC,YAAM,KACH,KAAK,MAAM,IAAI,EACf;AAAA,QACC,EAAE,KAAK,KAAK,aAAa;AAAA,QACzB,EAAE,KAAK,SAAS;AAAA,QAChB;AAAA,MAAQ,EACT,KAAK,MAAM;AAAE,cAAM,KAAK,KAAK;AAAG,cAAM,IAAI,YAAY,EAAE;AAAA,MAAE,CAAC;AAAA,IAChE,WAAW,QAAQ,UAAU;AAC3B,YAAM,KAAK,IAAI;AAAA,QACb,UAAU;AAAA,QACV,KAAK;AAAA,QACL,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,YAAM,KACH,KAAK,MAAM,IAAI,EACf;AAAA,QACC,EAAE,SAAS,EAAE;AAAA,QACb,EAAE,SAAS,SAAS;AAAA,QACpB;AAAA,MAAQ,EACT,KAAK,MAAM;AAAE,cAAM,KAAK,IAAI,WAAW,EAAE;AAAG,cAAM,IAAI,YAAY,EAAE;AAAA,MAAE,CAAC;AAAA,IAC5E,WAAW,QAAQ,WAAW;AAC5B,YAAM,KAAK,IAAI;AAAA,QACb,UAAU;AAAA,QACV,KAAK;AAAA,QACL,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,YAAM,KACH,KAAK,MAAM,IAAI,EACf;AAAA,QACC,EAAE,SAAS,EAAE;AAAA,QACb,EAAE,SAAS,SAAS;AAAA,QACpB;AAAA,MAAQ,EACT,KAAK,MAAM;AACV,cAAM,KAAK,KAAK;AAChB,cAAM,KAAK,IAAI,WAAW,EAAE;AAC5B,cAAM,IAAI,YAAY,EAAE;AAAA,MAC1B,CAAC;AAAA,IACL;AAAA,EACF;AAAA,EAEO,UAAgB;AAErB,YAAQ,KAAK;AAAA,EACf;AAAA;AAAA,EAGO,QAAQ,KAAa,eAAwB,OAAO,aAAqC,OAAO,YAA2B,MAAY;AAC5I,QAAI,CAAC,UAAU,MAAM,IAAI,KAAK,SAAS,GAAG;AAC1C,QAAI,YAAY,KAAK,SAAS,QAAQ;AACtC,QAAI,UAAU,UAAU,QAAQ,QAAQ,QAAQ,GAAG;AAEnD,QAAI,KAAK,cAAc,QAAQ,SAAS,QAAQ,MAAM,OAAO,SAAS;AAAE;AAAA,IAAO;AAC/E,SAAK,aAAa;AAClB,QAAI,QAAQ,KAAK;AACjB,QAAI,aAAc,SAAQ,aAAa,EAAE,OAAO,aAAa,OAAO,eAAe,YAAY,IAAI,GAAG,IAAI,GAAG;AAAA,QACxG,SAAQ,UAAU,EAAE,OAAO,aAAc,QAAQ,GAAI,eAAe,YAAY,IAAI,GAAG,IAAI,GAAG;AAGnG,SAAK,UAAU;AAAA,EACjB;AAAA,EAEA,MAAa,WAA0B;AACrC,QAAI,KAAK,iBAAiB,UAAU,EAAG;AACvC,QAAI,KAAK,QAAS;AAGlB,QAAI,OAAO,KAAK,iBAAiB,MAAM;AACvC,QAAI,CAAC,KAAM;AAEX,SAAK,UAAU;AACf,SAAK;AAEL,QAAI,KAAK,SAAS,KAAM,MAAK,QAAQ,EAAE,OAAO,EAAE;AAIhD,QAAI,KAAK,mBAAmB,KAAK,gBAAgB,OAAO,KAAK,KAAK;AAChE,WAAK,UAAU;AACf;AAAA,IACF;AAGA,QAAI,QAAiB,KAAK,MAAM,OAAO,IAAI,KAAK;AAGhD,QAAI,CAAC,UAAU,UAAU,IAAI,KAAK,SAAS,KAAK,GAAG;AACnD,QAAI,YAAY,KAAK,SAAS,QAAQ;AAEtC,QAAI;AACF,UAAI,eAAe,CAAC,YAA4B;AAAE,YAAI,QAAS,OAAM;AAAA,MAAQ;AAG7E,eAAS,MAAM,UAAU,IAAK,OAAM,GAAG,KAAK,GAAG,EAAE;AAGjD,UAAI,KAAK;AACP,YAAI,SAAS,EAAG,OAAM,KAAK,UAAU,QAAQ,UAAU,EAAE,KAAK,YAAY;AAAA,YACrE,OAAM,KAAK,UAAU,QAAQ,UAAU,EAAE,KAAK,YAAY;AAGjE,UAAI,SAAS,EAAG,OAAM,UAAU,QAAQ,UAAU,UAAU,EAAE,KAAK,YAAY;AAAA,UAC1E,OAAM,UAAU,QAAQ,UAAU,UAAU,EAAE,KAAK,YAAY;AAIpE,UAAI,KAAK,WAAW;AAClB,YAAI,SAAS,EAAG,OAAM,KAAK,UAAU,QAAQ,QAAQ;AAAA,YAChD,OAAM,KAAK,UAAU,QAAQ,QAAQ;AAAA,MAC5C;AAWA,UAAI,YAAY,KAAK;AACrB,WAAK,YAAY;AAGjB,WAAK,QAAQ,KAAK,MAAM,OAAO;AAC/B,WAAK,kBAAkB;AACvB,WAAK,WAAW;AAGhB,UAAI,SAAS,EAAG,OAAM,UAAU,QAAQ,QAAQ,UAAU;AAAA,UACrD,OAAM,UAAU,QAAQ,QAAQ,UAAU;AAI/C,eAAS,QAAQ,UAAU,QAAQ,SAAS;AAC5C,gBAAU,QAAQ,OAAO;AACzB,YAAM,KAAK,eAAe,KAAK,YAAY,WAAW,SAAS;AAC/D,WAAK,YAAY;AACjB,WAAK,UAAU;AAGf,UAAI,KAAK,iBAAiB,SAAS,GAAG;AACpC,eAAO,KAAK,SAAS;AAAA,MACvB,OAAO;AACL,aAAK,EAAE,SAAS;AAAA,MAClB;AAAA,IACF,SAAS,KAAU;AACjB,WAAK,UAAU;AACf,UAAI,IAAI,UAAU,OAAO;AAEvB,aAAK,QAAQ,KAAK,MAAM,OAAO;AAC/B,aAAK,kBAAkB;AACvB,aAAK,WAAW;AAChB,eAAO,KAAK,QAAQ,IAAI,KAAK,OAAO,KAAK,UAAU;AAAA,MACrD;AAAE,UAAI,IAAI,UAAU,YAAY;AAC9B,eAAO,KAAK,QAAQ,IAAI,KAAK,MAAM,KAAK,YAAY,KAAK,MAAM,OAAO,CAAC;AAAA,MACzE,WAAW,IAAI,UAAU,OAAO;AAE9B,YAAI,KAAK,MAAM,OAAO,KAAK,EAAG,QAAO,KAAK,QAAQ,KAAK,MAAM,KAAK,UAAU;AAAA,YACvE,QAAO,KAAK,QAAQ;AAAA,MAC3B,WAAW,IAAI,UAAU,SAAS;AAEhC,gBAAQ,GAAG,CAAC,KAAK;AACjB;AAAA,MAEF;AACA,YAAM;AAAA,IACR,UACA;AAAA,IAOA;AAAA,EACF;AAAA,EAEO,eAAe,WAAmC,WAAiC,WAAiD;AAIzI,QAAI,aAAa,WAAW;AAAE,aAAO,QAAQ,QAAQ;AAAA,IAAE;AAEvD,WAAO,IAAI;AAAA,MACT,CAAC,SAAS,WAAW;AACnB,YAAI,aAAa,UAAU,WAAW,UAAU,WAAW,UAAU,QAAS,SAAQ;AAEtF,aAAK,cAAc,OAAO;AAC1B,aAAK,eAAe,OAAO;AAC3B,aAAK,YAAY,KAAK,IAAI,iBAAiB,UAAU;AAErD,YAAI,WAAW;AAGf,YAAI,aAAa,QAAQ;AACvB,eAAK,IAAI,iBACN,KAAK,MAAM,IAAI,EACf;AAAA,YACC,EAAE,WAAW,EAAE;AAAA,YACf,EAAE,WAAW,SAAS;AAAA,UACxB;AACF,cAAI,aAAa,UAAU,SAAS;AAClC,iBAAK,cAAc,UAAU,QAAQ,QAAQ,SAAS;AAAA,UACxD;AAEA,eAAK,cAAc,UAAU,QAAQ,QAAQ,QAAQ;AAAA,QACvD,WAAW,aAAa,OAAO;AAC7B,eAAK,IAAI,iBAAiB,SAAS,eAAe;AAGlD,cAAI,YAAa,aAAa,UAAU,UAAW,UAAU,QAAQ,SAAS;AAC9E,cAAI,WAAW;AAEb,sBAAU,YAAY,KAAK;AAC3B,sBAAU,KAAK,IAAI;AAAA,cACjB,WAAW;AAAA,cACX,SAAS;AAAA,cACT,QAAQ,KAAK,YAAY,KAAK;AAAA,cAC9B,UAAU;AAAA,cACV,UAAU;AAAA,cACV,KAAK;AAAA,YACP,CAAC;AAAA,UACH;AAGA,cAAI,YAAY,UAAU,QAAQ;AAClC,oBAAU,YAAY,UAAU,aAAa;AAC7C,oBAAU,KAAK,IAAI;AAAA,YACjB,WAAW;AAAA,YACX,SAAS;AAAA,YACT,UAAU;AAAA,YACV,KAAK,KAAK,YAAY,KAAK,eAAe,UAAU;AAAA,UACtD,CAAC;AAGD,eAAK,IAAI,iBACN,KAAK,MAAM,IAAI,EACf;AAAA,YACC,EAAE,WAAW,KAAK,YAAY,KAAK,aAAa;AAAA,YAChD,EAAE,WAAW,gBAAgB;AAAA,YAC7B;AAAA,UACF,EACC,KAAK,MAAM;AAEV,gBAAI,WAAW;AACb,wBAAU,KAAK,IAAI;AAAA,gBACjB,WAAW;AAAA,gBACX,SAAS;AAAA,gBACT,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,cACP,CAAC;AAAA,YACH;AAGA,sBAAU,KAAK,IAAI;AAAA,cACjB,WAAW;AAAA,cACX,SAAS;AAAA,cACT,KAAK;AAAA,YACP,CAAC;AAGD,iBAAK,YAAY,UAAU;AAC3B,iBAAK,IAAI,iBAAiB,UAAU,UAAU,SAAS;AACvD,iBAAK,IAAI,iBAAiB,YAAY,eAAe;AACrD,oBAAQ;AAAA,UACV,CAAC;AAAA,QACL,WAAW,aAAa,OAAO;AAC7B,eAAK,IAAI,iBAAiB,SAAS,eAAe;AAGlD,cAAI,YAAY,UAAU,QAAQ;AAClC,oBAAU,YAAY,UAAU,aAAa;AAG7C,cAAI,YAAa,aAAa,UAAU,UAAW,UAAU,QAAQ,SAAS;AAC9E,cAAI,WAAW;AAEb,sBAAU,YAAY,KAAK;AAC3B,sBAAU,KAAK,IAAI;AAAA,cACjB,WAAW;AAAA,cACX,SAAS;AAAA,cACT,KAAK,UAAU,YAAY,KAAK,eAAe,UAAU;AAAA,YAC3D,CAAC;AACD,iBAAK,IAAI,iBAAiB,UAAU,UAAU,YAAY,KAAK,YAAY;AAAA,UAC7E;AAGA,oBAAU,KAAK,IAAI;AAAA,YACjB,WAAW;AAAA,YACX,SAAS;AAAA,YACT,QAAQ,UAAU,YAAY,KAAK;AAAA,YACnC,UAAU;AAAA,YACV,KAAK;AAAA,UACP,CAAC;AAID,eAAK,IAAI,iBACN,KAAK,MAAM,IAAI,EACf;AAAA,YACC,EAAE,WAAW,UAAU,UAAU;AAAA,YACjC,EAAE,WAAW,gBAAgB;AAAA,YAC7B;AAAA;AAAA;AAAA;AAAA;AAAA,UAKF,EACC,KAAK,MAAM;AAEV,gBAAI;AACF,wBAAU,KAAK,IAAI;AAAA,gBACjB,WAAW;AAAA,gBACX,SAAS;AAAA,gBACT,KAAK;AAAA;AAAA,cAEP,CAAC;AAGH,sBAAU,KAAK,IAAI;AAAA,cACjB,WAAW;AAAA,cACX,SAAS;AAAA,cACT,QAAQ;AAAA,cACR,UAAU;AAAA,cACV,KAAK;AAAA;AAAA,YAEP,CAAC;AAKD,iBAAK,IAAI,iBAAiB,YAAY,eAAe;AACrD,oBAAQ;AAAA,UACV,CAAC;AAAA,QACL;AAAA,MACF;AAAA,IAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,YAAkB;AACvB,QAAI,aACD,KAAK,SAAS,QAAQ,SAAS,QAAQ,KAAK,QAAQ,QAAQ,MAAM,OAAO,IAAK,QAAQ;AAGzF,QAAI,QAAQ,KAAK,MAAM,KAAK,UAAU,QAAQ,KAAK,CAAC;AACpD,QAAI,cAA2B;AAAA,MAC7B,KAAK,OAAO,SAAS,WAAW,OAAO,SAAS;AAAA,MAChD;AAAA,MACA;AAAA,IACF;AACA,SAAK,iBAAiB,KAAK,WAAW;AAGtC,SAAK,SAAS;AACd;AAAA,EACF;AAAA,EAEO,WAAW;AAChB,SAAK,WAAW,QAAQ,OAAO;AAAA,EACjC;AAAA,EAEO,SAAS,eAAuB,KAAW,SAAkB;AAClE,QAAI,YAAY,OAAW,OAAM,IAAI,MAAM,8CAA8C;AACzF,QAAI,SAAS,IAAI,OAAO,IAAI,aAAa,GAAG;AAC5C,SAAK,OAAO,KAAK,EAAE,eAAe,QAAQ,KAAK,QAAiB,CAAC;AAAA,EACnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA0BO,SAAS,UAAkC;AAChD,QAAI,KAAK,eAAe,SAAS,WAAW,KAAK,WAAW;AAC1D,iBAAW,SAAS,MAAM,KAAK,YAAY,MAAM;AAEnD,QAAI,iBAAmC,CAAC;AACxC,aAAS,SAAS,KAAK,OAAQ,KAAI,SAAS,MAAM,MAAM,MAAM,EAAG,gBAAe,KAAK,KAAK;AAC1F,QAAI,eAAe,UAAU,EAAG,OAAM,IAAI,MAAM,yBAAyB,QAAQ,EAAE;AAAA,aAC1E,eAAe,SAAS,EAAG,OAAM,IAAI,MAAM,gCAAgC,QAAQ,EAAE;AAC9F,QAAI,YAAY,eAAe,CAAC;AAChC,WAAO;AAAA,EACT;AAAA,EAEO,YAAY,KAAa,MAAkC;AAChE,QAAI,OAAO,OAAW,QAAO;AAC7B,QAAI,WAAW,IAAI,QAAQ,GAAG;AAC9B,QAAI,YAAY,GAAI,QAAO;AAC3B,QAAI,gBAAgB,IAAI,UAAU,WAAW,CAAC;AAC9C,QAAI,iBAAiB,GAAI,QAAO;AAChC,QAAI,IAAI,IAAI,gBAAgB,aAAa,EAAE,IAAI,IAAI;AACnD,QAAI,KAAK,OAAQ,QAAO;AACxB,QAAI,MAAM,KAAM,QAAO;AACvB,QAAI,KAAK,YAAa,QAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEO,YAAY,GAAW,GAAiB;AAC7C,QAAI,kBAAkB,OAAO,IAAI,OAAO;AACxC,QAAI,OAAO,gBAAgB;AAC3B,QAAI,WAAW,gBAAgB,IAAI,QAAQ,GAAG;AAC9C,QAAI,cAAe,YAAY,KAAM,KAAK,gBAAgB,IAAI,UAAU,WAAW,CAAC;AACpF,QAAI,OAAQ,YAAY,KAAM,gBAAgB,MAAM,gBAAgB,IAAI,UAAU,GAAG,QAAQ;AAE7F,QAAI,kBAAkB,IAAI,gBAAgB,WAAW;AACrD,oBAAgB,IAAI,GAAG,CAAC;AAExB,oBAAgB,MAAM,OAAO,MAAM,gBAAgB,SAAS;AAC5D,YAAQ,aAAa,gBAAgB,OAAO,KAAK,WAAW,QAAQ,SAAS,KAAK,IAAI,gBAAgB,GAAG;AAAA,EAC3G;AAAA,EAEO,SAAS,KAAqD;AACnE,QAAI,MAAM,IAAI,QAAQ,GAAG;AACzB,QAAI,OAAQ,OAAO,KAAM,MAAM,IAAI,UAAU,GAAG,GAAG;AACnD,QAAI,KAAK,WAAW,GAAG,EAAG,QAAO,KAAK,UAAU,CAAC;AAGjD,QAAI,IAAyB,CAAC;AAC9B,QAAI,WAAW,IAAI,QAAQ,GAAG;AAC9B,QAAI,WAAW,IAAI;AACjB,UAAI,gBAAgB,IAAI,UAAU,WAAW,CAAC;AAC9C,UAAI,iBAAiB,IAAI;AACvB,YAAI,eAAe,IAAI,gBAAgB,aAAa;AACpD,qBAAa,QAAQ,CAAC,GAAG,MAAM;AAC7B,cAAI,KAAK,QAAS,GAAE,CAAC,IAAI;AAAA,mBAChB,KAAK,OAAQ,GAAE,CAAC,IAAI;AAAA,mBACpB,KAAK,OAAQ,GAAE,CAAC,IAAI;AAAA,mBACpB,KAAK,YAAa,GAAE,CAAC,IAAI;AAAA,cAC7B,GAAE,CAAC,IAAI;AAAA,QACd,CAAC;AAAA,MACH;AAAA,IACF;AACA,WAAO,CAAC,MAAM,CAAC;AAAA,EACjB;AACF;AAEO,IAAe,gBAAf,MAAgD;AAAA,EAC9C;AAAA,EACA;AAAA,EAEP,YAAY,QAAgB,MAA2B;AACrD,SAAK,SAAS;AACd,SAAK,OAAO;AAAA,EACd;AAAA,EAEA,MAAa,QAAQ,GAA0B;AAAA,EAAE;AAAA,EAEjD,MAAa,UAAU,GAA6B;AAClD,WAAO;AAAA,MACL,QAAQ;AAAA,MACR,KAAK,KAAK,QAAQ,GAAG,MAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,MAAa,QAAQ,GAA0B;AAAA,EAAE;AAAA,EAEjD,MAAa,UAAU,GAA6B;AAClD,WAAO;AAAA,MACL,QAAQ;AAAA,MACR,KAAK,KAAK,QAAQ,GAAG,MAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEO,SAAS;AAAA,EAAE;AAAA,EAKlB,MAAa,OAAsB;AAAA,EAAE;AAAA,EAErC,MAAa,UAAyB;AACpC,UAAM,EAAE,MAAM,YAAY;AAAA,EAC5B;AAAA,EAEA,MAAa,YAA0C;AAAE;AAAA,EAAO;AAAA,EAEhE,MAAa,UAAyB;AACpC,UAAM,EAAE,MAAM,YAAY;AAAA,EAC5B;AAAA,EAEA,MAAa,YAA0C;AAAE;AAAA,EAAO;AAGlE;;;ACxrBO,IAAM,cAAN,MAAqC;AAAA,EACnC;AAAA,EACA;AAAA,EAEP,YAAY,KAAU,QAAgB;AAAE,SAAK,MAAM;AAAK,SAAK,SAAS;AAAA,EAAO;AAAA,EAEtE,QAAQ,GAA0B;AAAE,WAAO,KAAK,OAAO,QAAQ,CAAC;AAAA,EAAE;AAAA,EAElE,UAAU,GAAoC;AAAE,WAAO,KAAK,OAAO,UAAU,CAAC;AAAA,EAAE;AAAA,EAEhF,QAAQ,GAA0B;AAAE,WAAO,KAAK,OAAO,QAAQ,CAAC;AAAA,EAAE;AAAA,EAElE,UAAU,GAAoC;AAAE,WAAO,KAAK,OAAO,UAAU,CAAC;AAAA,EAAE;AAAA,EAEhF,SAAS;AAAE,SAAK,OAAO,OAAO;AAAA,EAAE;AAAA,EAEhC,QAAQ,GAAW,KAAqB;AAAE,WAAO;AAAA,EAAI;AAAA,EAErD,UAAyB;AAAE,WAAO,KAAK,OAAO,QAAQ;AAAA,EAAE;AAAA,EAExD,YAAqC;AAAE,WAAO,KAAK,OAAO,UAAU;AAAA,EAAE;AAAA,EAEtE,UAAyB;AAAE,WAAO,KAAK,OAAO,QAAQ;AAAA,EAAE;AAAA,EAExD,YAAqC;AAAE,WAAO,KAAK,OAAO,UAAU;AAAA,EAAE;AAAA,EAEtE,WAAmB;AAAE,WAAO,KAAK,OAAO,SAAS;AAAA,EAAE;AAC5D;AAGO,IAAe,SAAf,cAA8B,MAAM;AAAA,EAClC,KAAK,GAAuB;AAAE,WAAO,QAAQ,QAAQ;AAAA,EAAE;AAAA,EAEvD,QAAQ,GAAuB;AAAE,WAAO,KAAK,KAAK,CAAC;AAAA,EAAE;AAAA,EAErD,UAAU,GAAiC;AAAE,WAAO,QAAQ,QAAQ;AAAA,EAAE;AAAA,EAEtE,QAAQ,GAAuB;AAAE,WAAO,KAAK,KAAK,CAAC;AAAA,EAAE;AAAA,EAErD,UAAU,GAAiC;AAAE,WAAO,QAAQ,QAAQ;AAAA,EAAE;AAAA,EAEtE,OAAsB;AAAE,WAAO,QAAQ,QAAQ;AAAA,EAAE;AAAA,EAEjD,UAAyB;AAAE,WAAO,KAAK,KAAK;AAAA,EAAE;AAAA,EAE9C,YAAqC;AAAE,WAAO,QAAQ,QAAQ;AAAA,EAAE;AAAA,EAEhE,UAAyB;AAAE,WAAO,KAAK,KAAK;AAAA,EAAE;AAAA,EAE9C,YAAqC;AAAE,WAAO,QAAQ,QAAQ;AAAA,EAAE;AAAA,EAEhE,WAAmB;AAAE,WAAO;AAAA,EAAa;AAClD;;;AC1CA,OAAO,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAsH3B;AAKM,IAAM,oBAAN,cAAgC,OAAO;AAAA,EAC5C,OAAc,IAAI,GAA2B;AAC3C,WAAO,gBAAgB,OAAO,aAAa,CAAC,CAAC;AAAA,EAC/C;AAAA,EAKQ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAER,KAAK,UAAkB,OAAmB,SAA6B;AAErE,QAAI,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6Cf,UAAM,KAAK,UAAU;AAAA,MACnB,gBAAgB,CAAC,mBAAmB,YAAY;AAAA,MAChD,YAAY,CAAC,eAAe,cAAc;AAAA,MAC1C,aAAa,CAAC,gBAAgB,eAAe;AAAA,MAC7C,OAAO;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,MACT,KAAK;AAAA,MACL,OAAO;AAAA,MACP,OAAO;AAAA,IACT,GAAG,OAAO;AAEV,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,MAAM,KAAK,GAA2B;AACpC,SAAK,IAAI;AACT,QAAI,WAAW,MAAM,IAAI,gBAAgB,KAAK,EAAE,EAAE;AAClD,QAAI,YAAY,QAAW;AACzB,YAAM,IAAI,MAAM,gBAAgB;AAAA,IAClC;AACA,SAAK,WAAW;AAAA,EAClB;AAAA,EAEA,SAAS;AAEP,SAAK,MAAM,KAAK,KAAK,SAAS,KAAK;AACnC,SAAK,KAAK,KAAK,KAAK,SAAS,IAAI;AACjC,SAAK,QAAQ,KAAK,OAAO,KAAK,SAAS,OAAO;AAC9C,SAAK,QAAQ,KAAK,OAAO,KAAK,SAAS,KAAK;AAC5C,SAAK,MAAM,KAAK,KAAK,SAAS,KAAK;AAGnC,SAAK,IAAI,MAAM;AACf,SAAK,SAAS,IAAI,QAAQ,gBAAc;AACtC,YAAM,KAAK,WAAW,OAClB,gBAAgB,WAAW,IAAI,qBAAqB,WAAW,KAAK,cACpE,OAAO,WAAW,KAAK;AAC3B,WAAK,IAAI,OAAO,EAAE;AAAA,IACpB,CAAC;AAGD,SAAK,MAAM,MAAM;AACjB,SAAK,SAAS,MAAM,QAAQ,UAAQ;AAClC,WAAK,MAAM,OAAO,OAAO,IAAI,OAAO;AAAA,IACtC,CAAC;AAAA,EACH;AACF;;;ACnPA,OAAO,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CA4HvB;AAEM,IAAM,gBAAN,cAA4B,MAAM;AAAA;AAAA,EAO/B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAED,KAAK,UAAkB,OAAmB,SAA6B;AAC5E,eAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCX,UAAM,KAAK,UAAU;AAAA,MACnB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,MAAM;AAAA,MACN,cAAc;AAAA,MACd,UAAU;AAAA,MACV,aAAa;AAAA,MACb,SAAS;AAAA,MACT,aAAa;AAAA,IACf,GAAG,OAAO;AAGV,SAAK,KAAK,GAAG,SAAS,YAAY;AAChC,UAAI,KAAK,EAAE,SAAS;AAClB,cAAM,KAAK,EAAE,QAAQ,KAAK,EAAE,QAAQ;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,MAAM,KAAK,UAAoB;AAC7B,SAAK,EAAE,WAAW;AAClB,SAAK,OAAO;AAAA,EACd;AAAA,EAEA,SAAS;AACP,QAAI,CAAC,KAAK,EAAE,SAAU;AAGtB,SAAK,MAAM,KAAK,KAAK,EAAE,SAAS,KAAK;AACrC,SAAK,KAAK,KAAK,KAAK,EAAE,SAAS,IAAI;AACnC,SAAK,QAAQ,KAAK,OAAO,KAAK,EAAE,SAAS,OAAO;AAChD,SAAK,QAAQ,KAAK,OAAO,KAAK,EAAE,SAAS,KAAK;AAI9C,SAAK,aAAa,KAAK,QAAG;AAC1B,SAAK,SAAS,KAAK,KAAK,EAAE,SAAS,IAAI;AAEvC,SAAK,YAAY,KAAK,WAAI;AAC1B,SAAK,QAAQ,KAAK,KAAK,EAAE,SAAS,MAAM,KAAK,GAAG,CAAC;AAEjD,SAAK,YAAY,KAAK,kBAAkB;AAAA,EAC1C;AACF;;;AClOA,OAAO,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiCjB;AAEG,IAAM,aAAN,cAAyB,MAAM;AAAA,EAIpC;AAAA,EACA;AAAA,EACA;AAAA,EAEA,cAAc;AACZ,UAAM;AAAA,EACR;AAAA,EAEA,KAAK,UAAkB,OAAmB,SAA6B;AACrE,QAAI,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgDf,UAAM,KAAK,UAAU;AAAA,MACnB,aAAa;AAAA,MACb,eAAe;AAAA,MACf,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,iBAAiB;AAAA,MACjB,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,SAAS;AAAA,MACT,eAAe;AAAA,IACjB,GAAG,OAAO;AAIV,SAAK,YAAY,GAAG,eAAe,OAAK,KAAK,IAAI,KAAK,KAAK,CAAC;AAC5D,SAAK,aAAa,GAAG,eAAe,OAAK,KAAK,IAAI,KAAK,KAAK,CAAC;AAE7D,SAAK,cAAc,GAAG,eAAe,OAAK,KAAK,IAAI,OAAO,QAAQ,cAAc,IAAI,CAAC,CAAC,CAAC,CAAC;AACxF,SAAK,YAAY,GAAG,eAAe,OAAK,KAAK,IAAI,KAAK,KAAK,CAAC;AAC5D,SAAK,aAAa,GAAG,eAAe,OAAK,KAAK,IAAI,KAAK,KAAK,CAAC;AAC7D,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,SAAS;AACP,QAAI,KAAK,IAAI,KAAK,WAAW,MAAM;AACjC,WAAK,cAAc,KAAK;AACxB,WAAK,YAAY,KAAK;AACtB,WAAK,aAAa,KAAK;AAAA,IACzB,OAAO;AACL,WAAK,cAAc,KAAK;AACxB,WAAK,YAAY,KAAK;AACtB,WAAK,aAAa,KAAK;AAAA,IACzB;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,KAAa;AAChB,SAAK,YAAY;AACjB,SAAK,IAAI,OAAO,QAAQ,GAAG;AAAA,EAC7B;AAAA,EAEA,gBAAgB;AACd,QAAI,KAAK,gBAAgB;AACvB,UAAI,KAAK,gBAAgB;AACvB,eAAO,aAAa,KAAK,cAAc;AACvC,aAAK,iBAAiB;AAAA,MACxB;AACA,WAAK,iBAAiB;AACtB,WAAK,QAAQ,YAAY,aAAa;AACtC,WAAK,QAAQ,SAAS,eAAe;AAAA,IACvC,OAAO;AACL,WAAK,iBAAiB,OAAO,WAAW,MAAM,KAAK,cAAc,GAAG,GAAK;AACzE,WAAK,iBAAiB;AACtB,WAAK,QAAQ,YAAY,eAAe;AACxC,WAAK,QAAQ,SAAS,aAAa;AAAA,IACrC;AAAA,EACF;AACF;;;ACxJO,IAAM,OAAN,cAA0F,MAAM;AAAA,EAY9F;AAAA,EACA;AAAA,EAEP,cAAc;AACZ,UAAM;AACN,SAAK,aAAa,CAAC;AAAA,EACrB;AAAA,EAEO,KAAK,UAAmB,OAAoB,SAA8B;AAC/E,eAAW;AAAA;AAEX,UAAM,KAAK,UAAU,OAAO,OAAO;AAEnC,SAAK,EAAE,OAAO,CAAC;AACf,SAAK,UAAU,KAAK,KAAK,IAAI,CAAC;AAC9B,WAAO,KAAK;AAAA,EACd;AAAA,EAEO,aAAa,GAAc;AAChC,QAAI,KAAK,WAAW,CAAC,EAAG,QAAO,KAAK,WAAW,CAAC;AAGhD,QAAI,QAAW,KAAK,aAAa,UAAa,KAAK,EAAE,KAAK,OAAO,QAAW,QAAW,KAAK,EAAE,KAAK,OAAO;AAG1G,QAAI,KAAK,EAAE,KAAK;AACd,eAAS,OAAO,OAAO,KAAK,KAAK,EAAE,KAAK,CAAC;AACvC,cAAM,EAAE,GAAG,IAAI,KAAK,EAAE,KAAK,EAAE,GAAG;AAGpC,SAAK,QAAQ,OAAO,MAAM,KAAK,IAAI,CAAC,CAAgB;AACpD,SAAK,WAAW,CAAC,IAAI;AACrB,WAAO;AAAA,EACT;AAAA,EAEO,UAAU;AACf,QAAI,IAAI;AACR,WAAO,IAAI,KAAK,EAAE,KAAK,QAAQ,KAAK;AAClC,YAAM,YAAY,KAAK,aAAa,CAAC;AACrC,gBAAU,OAAO;AAAA,IACnB;AAAA,EACF;AAAA,EAEO,SAA0B;AAC/B,QAAI,WAA4B,CAAC;AACjC,QAAI,OAAO,KAAK,EAAE;AAGlB,QAAI,IAAI;AACR,WAAO,IAAI,KAAK,QAAQ,KAAK;AAC3B,YAAM,YAAY,KAAK,aAAa,CAAC;AACrC,YAAM,IAAI;AACV,WAAK,EAAE,KAAK,OAAO,WAAW,KAAK,CAAC,CAAC;AACrC,gBAAU,KAAK,KAAK;AACpB,eAAS,KAAK,KAAK,EAAE,KAAK,OAAO,SAAS,CAAC;AAAA,IAC7C;AACA,WAAO,IAAI,KAAK,WAAW,QAAQ;AACjC,WAAK,WAAW,CAAC,EAAE,KAAK,KAAK;AAE/B,WAAO,QAAQ,IAAI,QAAQ;AAAA,EAC7B;AAAA,EAEA,MAAa,uBAAuB;AAAA,EACpC;AACF;;;AC/EO,IAAM,SAAN,MAAoF;AAAA;AAAA,EAGlF,UAAmB;AAAA,EACnB;AAAA,EACA,cAAuB;AAAA,EACvB;AAAA,EACA,WAAmB;AAAA,EACnB,kBAA2B;AAAA,EAC3B,oBAAmC,CAAC,QAAe;AAAE,SAAK,OAAO,GAAc;AAAA,EAAE;AAAA,EACjF;AAAA,EACA;AAAA,EAEP,YAAY,kBAAwB,MAAsB,SAAsC;AAC9F,SAAK,mBAAmB;AACxB,SAAK,OAAO;AACZ,SAAK,UAAU;AAAA,EACjB;AAAA,EAEO,OAAO;AACZ,WAAO;AAAA,EACT;AAAA,EAEA,MAAa,cAA6B;AACxC,SAAK,cAAc;AACnB,QAAI,KAAK,mBAAmB,CAAC,KAAK,QAAS;AAC3C,SAAK,kBAAkB;AAEvB,QAAI,SAAS,MAAM,KAAK,QAAQ,KAAK,QAAQ;AAC7C,SAAK,kBAAkB;AACvB,QAAI,OAAO,UAAU,GAAG;AACtB,WAAK,UAAU;AACf;AAAA,IACF;AACA,SAAK;AACL,SAAK,KAAK,EAAE,KAAK,OAAO,KAAK,KAAK,EAAE,KAAK,QAAQ,GAAG,GAAG,MAAM;AAC7D,SAAK,KAAK,OAAO;AAAA,EACnB;AAAA,EAEA,MAAa,OAAsB;AAEjC,WAAO,iBAAiB,UAAU,KAAK,iBAAiB;AAAA,EAC1D;AAAA,EAEO,SAAS;AACd,SAAK,KAAK,OAAO;AAAA,EACnB;AAAA,EAEA,MAAa,QAAuB;AAClC,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,cAAc;AACnB,QAAI,KAAK,KAAK,EAAE,QAAQ,KAAK,KAAK,EAAE,KAAK,QAAQ;AAC/C,WAAK,KAAK,EAAE,OAAO,CAAC;AACpB,YAAM,KAAK,KAAK,OAAO;AAAA,IACzB,OAAO;AACL,WAAK,KAAK,EAAE,OAAO,CAAC;AAAA,IACtB;AAAA,EACF;AAAA,EAEO,OAAO,KAAc;AAC1B,QAAK,KAAK,iBAAiB,UAAU,IAAI,IAAI,OAAO,cAAe,SAAS,KAAK,cAAc;AAC7F;AAAA,IACF;AAEA,SAAK,YAAY;AAAA,EACnB;AAAA,EAEO,OAAO;AACZ,WAAO,oBAAoB,UAAU,KAAK,iBAAiB;AAAA,EAC7D;AACF;;;AC5DA,OAAO,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAazB;AAEM,IAAM,kBAAN,cAA8B,OAAO;AAAA,EAC1C,OAAc,IAAI,GAAyB;AACzC,WAAO,aAAa,OAAO,aAAa,CAAC,CAAC;AAAA,EAC5C;AAAA,EAIQ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAGR,KAAK,UAAkB,OAAmB,SAA6B;AACrE,QAAI,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAOf,UAAM,KAAK,UAAU;AAAA,MACnB,YAAY,CAAC,wBAAwB,UAAU;AAAA,MAC/C,UAAU,CAAC,4BAA4B,YAAY;AAAA,MACnD,MAAM,CAAC,wBAAwB,IAAI;AAAA,IACrC,GAAG,OAAO;AAEV,SAAK,KAAK,IAAI;AAAA,MACZ,MAAM,CAAC;AAAA,MACP,MAAM;AAAA,QACJ,OAAO;AAAA,QACP,QAAQ,CAAC,OAAsB,QAAkB,MAAM,EAAE,WAAW;AAAA,QACpE,GAAG;AAAA,UACD,UAAU,CAAC;AAAA,UACX,SAAS,OAAO,MAAgB;AAC9B,iBAAK,IAAI,OAAO,QAAQ,kBAAkB,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;AAAA,UAC7D;AAAA,QACF;AAAA,QACA,QAAQ,CAAC,UAAyB,MAAM,KAAK,MAAM,EAAE,QAAQ,EAAE,KAAK,MAAM,MAAM,OAAO,CAAC;AAAA,MAC1F;AAAA,IACF;AAEA,SAAK,QAAQ,IAAI;AAAA,MACf,KAAK,IAAI;AAAA,MACT,KAAK;AAAA,MACL,OAAK,KAAK,YAAY,CAAC;AAAA,IACzB,EAAE,KAAK;AAEP,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,MAAM,KAAK,GAAyB;AAClC,UAAM,KAAK,MAAM,KAAK;AACtB,SAAK,MAAM,MAAM;AACjB,SAAK,MAAM,YAAY;AAAA,EACzB;AAAA,EAEA,MAAM,OAAO;AACX,SAAK,MAAM,KAAK;AAAA,EAClB;AAAA,EAEA,SAAS;AAAA,EACT;AAAA,EAEO,YAAY,MAAmC;AACpD,WAAO,IAAI,aAAa,IAAI,IAAI;AAAA,EAClC;AACF;;;AC7EO,IAAM,aAAN,cAAyB,MAAM;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,UAAmB;AAAA,EACnB;AAAA,EACA;AAAA,EAEA,WAAW;AAChB,QAAI,KAAK,WAAW,KAAK,MAAM,UAAU,EAAG;AAC5C,SAAK,UAAU;AAEf,QAAI,MAAM,KAAK,MAAM,KAAK,MAAM,MAAM;AACtC,QAAI,CAAC,IAAK;AACV,QAAI;AAAA,MACF;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,mBAAmB;AAAA,MACnB,YAAY;AAAA,MACZ,eAAe;AAAA,IACjB,IAAI,KAAK;AAET,QAAI,UAAW,MAAK,IAAI,UAAU;AAGlC,SAAK,QAAQ,SAAS,EAAE,OAAO;AAC/B,QAAI,OAAO,eAAe;AACxB,WAAK,QAAQ,KAAK,WAAW;AAAA,SAC1B;AACH,UAAI,QAAQ;AACZ,WAAK,QAAQ,OAAO,MAAM,IAAI;AAAA,IAChC;AAGA,QAAI,mBAAmB;AACrB,WAAK,cAAc,KAAK;AACxB,WAAK,cAAc,KAAK,iBAAiB;AAAA,IAC3C,OAAO;AACL,WAAK,cAAc,KAAK;AAAA,IAC1B;AAGA,QAAI,qBAAqB;AACvB,WAAK,gBAAgB,KAAK;AAC1B,WAAK,gBAAgB,KAAK,mBAAmB;AAC7C,WAAK,OAAO,KAAK;AAAA,IACnB,OAAO;AACL,WAAK,gBAAgB,KAAK;AAC1B,WAAK,OAAO,KAAK;AAAA,IACnB;AAGA,SAAK,UAAU,WAAW,QAAQ;AAClC,SAAK,KAAK,YAAY,QAAQ;AAAA,EAChC;AAAA;AAAA,EAGO,UACL,aACA,mBACA,qBACA,mBAA4B,MAC5B,YAAqB,MACrB,cACA,gBAAyB,OACD;AACxB,QAAI,UAAU,IAAI,QAAuB,CAAC,SAAS,WAAW;AAC5D,UAAI,MAAW;AAAA,QACb;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AACA,WAAK,MAAM,KAAK,GAAG;AACnB,WAAK,SAAS;AAAA,IAChB,CAAC;AAED,WAAO;AAAA,EACT;AAAA;AAAA,EAGO,eACL,IACA,YACA,aACA,mBACA,qBACA,kBACA,YAAqB,MACrB,cACwB;AACxB,QAAI,CAAC,KAAK,YAAY,IAAI,UAAU,EAAG,QAAO,QAAQ,QAAQ,iBAAqB;AACnF,SAAK,IAAI,KAAK,IAAI,QAAQ,EAAE,IAAI,KAAK,IAAI,CAAC;AAC1C,WAAO,KAAK;AAAA,MACV;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEO,cAAc,GAAU;AAC7B,SAAK,QAAQ,CAAC;AAEd,QAAI,MAAM,KAAK;AACf,QAAI;AACF,UAAI,IAAI,aAAc,KAAI,aAAa,aAAiB;AAAA,IAC1D,SAAS,KAAK;AACZ,WAAK,IAAI,OAAO,iBAAiB,GAAG;AAAA,IACtC;AACA,SAAK,QAAQ,aAAiB;AAAA,EAChC;AAAA,EAEO,kBAAkB,GAAU;AACjC,SAAK,QAAQ,CAAC;AAEd,QAAI;AACF,UAAI,MAAM,KAAK;AACf,UAAI,IAAI,aAAc,KAAI,aAAa,iBAAqB;AAAA,IAC9D,SAAS,KAAK;AACZ,WAAK,IAAI,OAAO,iBAAiB,GAAG;AAAA,IACtC;AACA,SAAK,QAAQ,iBAAqB;AAAA,EACpC;AAAA,EAEO,KAAK,UAAmB,OAAoB,SAA8B;AAC/E,eAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBX,UAAM,KAAK,UAAU;AAAA,MACnB,iBAAiB;AAAA,MACjB,QAAQ;AAAA,MACR,eAAe;AAAA,MACf,SAAS;AAAA,MACT,WAAW;AAAA,IACb,GAAG,OAAO;AAEV,SAAK,QAAQ,CAAC;AACd,SAAK,cAAc,GAAG,eAAe,OAAK,KAAK,kBAAkB,CAAC,CAAC;AACnE,SAAK,cAAc,GAAG,WAAW,OAAK,KAAK,kBAAkB,CAAC,CAAC;AAC/D,SAAK,gBAAgB,GAAG,eAAe,OAAK,KAAK,cAAc,CAAC,CAAC;AACjE,SAAK,gBAAgB,GAAG,WAAW,OAAK,KAAK,cAAc,CAAC,CAAC;AAE7D,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,MAAa,QAAQ,QAAuB;AAC1C,QAAI,CAAC,KAAK,QAAS;AACnB,SAAK,UAAU,WAAW,SAAS;AACnC,SAAK,UAAU;AACf,SAAK,KAAK,SAAS,QAAQ;AAE3B,QAAI,MAAM,KAAK;AACf,QAAI,IAAI,oBAAoB,KAAK,MAAM,UAAU,EAAG,MAAK,IAAI,UAAU;AACvE,SAAK,SAAS;AACd,QAAI,QAAQ,MAAM;AAAA,EACpB;AAAA;AAAA,EAGO,YAAY,IAAY,YAA6B;AAC1D,QAAI,MAAM,QAAQ,EAAE;AACpB,QAAI,aAAa,KAAK,IAAI,KAAK,IAAI,GAAG;AACtC,QAAI,aAAa,cAAc;AAC/B,QAAI,MAAM,KAAK,IAAI;AACnB,QAAI,MAAM,aAAa,WAAY,QAAO;AAC1C,WAAO;AAAA,EACT;AACF;;;ACnNO,IAAM,gBAAN,MAAuC;AAAA,EACrC;AAAA,EAEA,SAAiB;AAAA,EAExB,cAAc;AAEZ,SAAK,QAAQ,CAAC;AACd,QAAI,KAAK,SAAS,OAAO,MAAM,GAAG;AAClC,aAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,KAAK;AAClC,UAAI,IAAI,GAAG,CAAC;AAGZ,aAAO,EAAE,OAAO,CAAC,KAAK,IAAK,KAAI,EAAE,UAAU,GAAG,EAAE,MAAM;AAGtD,UAAI,QAAQ,EAAE,QAAQ,GAAG;AACzB,UAAI,MAAM,EAAE,UAAU,GAAG,KAAK;AAG9B,UAAI,QAAQ,mBAAmB,EAAE,UAAU,QAAQ,GAAG,EAAE,MAAM,CAAC;AAG/D,WAAK,MAAM,GAAG,IAAI;AAAA,IACpB;AAAA,EACF;AAAA,EAEO,QAAc;AACnB,SAAK,QAAQ,CAAC;AACd,SAAK,KAAK;AAAA,EACZ;AAAA,EAEO,QAAQ,KAA4B;AACzC,WAAO,KAAK,MAAM,GAAG;AAAA,EACvB;AAAA,EAEO,IAAI,OAA8B;AACvC,WAAO,KAAK,KAAK,EAAE,KAAK;AAAA,EAC1B;AAAA,EAEO,OAAO;AACZ,WAAO,OAAO,KAAK,KAAK,KAAK;AAAA,EAC/B;AAAA,EAEO,WAAW,KAAmB;AACnC,WAAO,KAAK,MAAM,GAAG;AACrB,SAAK,KAAK;AAAA,EACZ;AAAA,EAEO,OAAO;AACZ,QAAI,QAAkB,CAAC;AACvB,aAAS,OAAO,KAAK;AACnB,YAAM,KAAK,GAAG,GAAG,IAAI,mBAAmB,KAAK,MAAM,GAAG,CAAC,CAAC,EAAE;AAC5D,aAAS,SAAS,MAAM,KAAK,GAAG,IAAI;AAAA,EACtC;AAAA;AAAA,EAGO,QAAQ,KAAa,OAAqB;AAC/C,SAAK,MAAM,GAAG,IAAI;AAClB,SAAK,KAAK;AAAA,EACZ;AACF;AAEO,IAAM,aAAN,MAAiB;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA,oBAA6B;AAAA,EAEpC,YAAY,QAAgB,WAAW;AACrC,SAAK,QAAQ;AAGb,QAAI;AACF,UAAI,IAAI,SAAS,KAAK,IAAI;AAC1B,mBAAa,QAAQ,GAAG,CAAC;AACzB,UAAI,IAAI,aAAa,QAAQ,CAAC;AAC9B,mBAAa,WAAW,CAAC;AACzB,UAAI,MAAM,GAAG;AACX,cAAM,IAAI,MAAM;AAAA,MAClB;AACA,WAAK,KAAK;AACV,WAAK,oBAAoB;AAAA,IAC3B,SAAS,WAAW;AAElB,cAAQ,IAAI,SAAS;AACrB,WAAK,KAAK,IAAI,cAAc;AAAA,IAC9B;AAEA,SAAK,SAAS;AAEd,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKO,QAAQ;AACb,QAAI,OAAO,KAAK,oBAAoB,OAAO,KAAK,KAAK,EAAE,IAAI,KAAK,GAAG,KAAK;AACxE,QAAI,SAAS,GAAG,KAAK,MAAM,KAAK,KAAK,KAAK;AAC1C,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,UAAI,MAAM,KAAK,CAAC;AAChB,UAAI,IAAI,QAAQ,MAAM,KAAK,EAAG,MAAK,GAAG,WAAW,GAAG;AAAA,IACtD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKO,IAAI,KAAkB;AAC3B,UAAM,GAAG,KAAK,KAAK,KAAK,GAAG;AAC3B,QAAI,QAAQ,KAAK,GAAG,QAAQ,GAAG,KAAK,MAAM,KAAK,GAAG,EAAE;AACpD,QAAI,SAAS,eAAe,SAAS,UAAU,UAAU,UAAa,UAAU;AAC9E,aAAO;AAAA,SACJ;AACH,aAAO,KAAK,MAAM,KAAK;AAAA,IACzB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMO,IAAI,KAAa,OAAqB;AAC3C,QAAI,UAAU,KAAK,IAAI,GAAG;AAC1B,QAAI,WAAW,MAAO,QAAO;AAE7B,QAAI,WAAW,GAAG,KAAK,KAAK,KAAK,GAAG;AACpC,QAAI,OAAO,KAAK,UAAU,KAAK;AAC/B,SAAK,GAAG,QAAQ,GAAG,KAAK,MAAM,KAAK,QAAQ,IAAI,IAAI;AACnD,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA,EAOO,OAAO,KAAmB;AAC/B,QAAI,WAAW,GAAG,KAAK,KAAK,KAAK,GAAG;AACpC,SAAK,GAAG,WAAW,GAAG,KAAK,MAAM,KAAK,QAAQ,EAAE;AAAA,EAClD;AACF;;;AC5IA,IAAAC,mBAAiB;;;ACHjB,sBAAiB;AAwCjB,IAAM,WAAN,MAAM,UAAS;AAAA,EACL,WAAsC,CAAC;AAAA,EACvC,QAAqB,CAAC;AAAA,EACtB,QAAuB;AAAA;AAAA,EACvB,UAAmB;AAAA,EAC3B,OAAe;AAAA,EACR,YAA4C,CAAC;AAAA,EAE5C,cAAc;AAAA,EAAE;AAAA,EAExB,OAAc,OAAiB;AAC7B,QAAI,CAAC,UAAS,UAAU;AACtB,gBAAS,WAAW,IAAI,UAAS;AAAA,IACnC;AACA,WAAO,UAAS;AAAA,EAClB;AAAA,EAEO,eAAe,MAAc,MAA4B;AAC9D,SAAK,UAAU,IAAI,IAAI;AAAA,EACzB;AAAA,EAEO,KACL,SACA,YACA,SACA,UACA,MACA,UACM;AACN,SAAK,QAAQ,EAAE,SAAS,YAAY,SAAS,UAAU,OAAO,GAAG,eAAe,CAAC,GAAG,MAAM,SAAS,CAAC;AAAA,EACtG;AAAA,EAEO,QAAQ,WAA4B;AAEzC,cAAU,UAAU,UAAU,WAAW,CAAC;AAC1C,WAAO,KAAK,UAAU,UAAU,EAAE,QAAQ,cAAY;AACpD,gBAAU,QAAQ,QAAQ,IAAI,UAAU,QAAQ,QAAQ,KAAK;AAAA,IAC/D,CAAC;AAED,QAAI,CAAC,KAAK,SAAS;AACjB,WAAK,UAAU;AACf,WAAK,QAAQ,sBAAsB,KAAK,KAAK,KAAK,IAAI,CAAC;AAAA,IACzD;AAEA,cAAU,QAAQ,YAAY,IAAI;AAClC,cAAU,gBAAgB,CAAC;AAC3B,eAAW,YAAY,UAAU,YAAY;AAC3C,UAAI,YAAY,eAAe,YAAY,cAAc;AACvD,kBAAU,cAAc,QAAQ,IAAI,UAAU,QAAQ,QAAQ;AAAA,MAChE,OAAO;AACL,cAAM,gBAAgB,iBAAiB,UAAU,OAAO,EAAE,iBAAiB,QAAQ;AACnF,kBAAU,cAAc,QAAQ,IAAI,WAAW,aAAa,KAAK;AAAA,MACnE;AACA,WAAK,MAAM,KAAK,SAAS;AAAA,IAC3B;AAAA,EACF;AAAA,EAEO,QAAQ,SAA4B;AACzC,SAAK,QAAQ,KAAK,MAAM;AAAA,MACtB,eAAa,UAAU,YAAY;AAAA,IACrC;AAEA,QAAI,KAAK,MAAM,WAAW,KAAK,KAAK,UAAU,MAAM;AAClD,2BAAqB,KAAK,KAAK;AAC/B,WAAK,UAAU;AACf,WAAK,QAAQ;AAAA,IACf;AAAA,EACF;AAAA,EAEQ,KAAK,WAAyB;AACpC,SAAK,QAAQ,sBAAsB,KAAK,KAAK,KAAK,IAAI,CAAC;AACvD,UAAM,qBAA+B,CAAC;AACtC,SAAK,MAAM,QAAQ,CAAC,WAAW,UAAU;AACvC,YAAM,EAAE,SAAS,YAAY,SAAS,UAAU,OAAO,eAAe,SAAS,IAAI;AACnF,YAAM,UAAU,YAAY;AAC5B,YAAM,WAAW,KAAK,IAAI,UAAU,UAAU,CAAC;AAE/C,iBAAW,YAAY,YAAY;AACjC,cAAM,aAAa,QAAQ,QAAQ;AACnC,cAAM,aAAa,KAAK,UAAU,UAAU;AAE5C,cAAM,eAAe,cAAc,QAAQ;AAC3C,cAAM,SAAS,WAAW,QAAQ,IAAI;AACtC,cAAM,gBAAgB,WAAW,QAAQ;AACzC,cAAM,eAAe,eAAe,SAAS;AAC7C,YAAI,UAAU,QAAQ,MAAM;AAC1B,oBAAU,KAAK,YAAY;AAAA,QAC7B,WAAW,aAAa,aAAa;AACnC,kBAAQ,YAAY;AAAA,QACtB,WAAW,aAAa,cAAc;AACpC,kBAAQ,aAAa;AAAA,QACvB,OAAO;AACL,kBAAQ,MAAM,QAAe,IAAI,aAAa,SAAS;AAAA,QACzD;AAAA,MACF;AAEA,UAAI,WAAW,UAAU;AACvB,2BAAmB,QAAQ,KAAK;AAChC,YAAI,SAAU,UAAS;AAAA,MACzB;AAAA,IACF,CAAC;AAED,uBAAmB,QAAQ,CAAC,UAAU;AACpC,WAAK,MAAM,OAAO,OAAO,CAAC;AAAA,IAC5B,CAAC;AAED,QAAI,KAAK,MAAM,WAAW,GAAG;AAC3B,2BAAqB,KAAK,KAAM;AAChC,WAAK,UAAU;AACf,WAAK,QAAQ;AAAA,IACf;AAAA,EACF;AACF;AAEA,IAAI,MAAM,KAAK;AAAf,IACE,OAAO,KAAK;AADd,IAEE,MAAM,KAAK;AAFb,IAGE,MAAM,KAAK;AAHb,IAIE,KAAK,KAAK;AAJZ,IAKE,KAAK;AALP,IAME,KAAK,KAAK;AANZ,IAOE,KAAK,KAAK;AAPZ,IAQE,KAAM,IAAI,KAAM;AARlB,IASE,KAAM,IAAI,KAAM;AAElB,SAAS,UAAU,GAAW;AAC5B,MAAI,KAAK,QACP,KAAK;AACP,MAAI,IAAI,IAAI,IAAI;AACd,WAAO,KAAK,IAAI;AAAA,EAClB,WAAW,IAAI,IAAI,IAAI;AACrB,WAAO,MAAM,KAAM,MAAM,MAAO,IAAI;AAAA,EACtC,WAAW,IAAI,MAAM,IAAI;AACvB,WAAO,MAAM,KAAM,OAAO,MAAO,IAAI;AAAA,EACvC,OAAO;AACL,WAAO,MAAM,KAAM,QAAQ,MAAO,IAAI;AAAA,EACxC;AACF;AAIA,IAAI,WAAW,SAAS,KAAK;AAC7B,SAAS,YAAY;AAAA,EACnB,YAAY,SAAU,GAAG;AACvB,WAAO,IAAI;AAAA,EACb;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,KAAK,IAAI,MAAM,IAAI;AAAA,EAC5B;AAAA,EACA,eAAe,SAAU,GAAG;AAC1B,WAAO,IAAI,MACT,IAAI,IAAI,IACR,IAAI,IAAI,KAAK,IAAI,GAAG,CAAC,IAAI;AAAA,EAC7B;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,IAAI,IAAI;AAAA,EACjB;AAAA,EACA,cAAc,SAAU,GAAG;AACzB,WAAO,IAAI,IAAI,IAAI,GAAG,CAAC;AAAA,EACzB;AAAA,EACA,gBAAgB,SAAU,GAAG;AAC3B,WAAO,IAAI,MACT,IAAI,IAAI,IAAI,IACZ,IAAI,IAAI,KAAK,IAAI,GAAG,CAAC,IAAI;AAAA,EAC7B;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,IAAI,IAAI,IAAI;AAAA,EACrB;AAAA,EACA,cAAc,SAAU,GAAG;AACzB,WAAO,IAAI,IAAI,IAAI,GAAG,CAAC;AAAA,EACzB;AAAA,EACA,gBAAgB,SAAU,GAAG;AAC3B,WAAO,IAAI,MACT,IAAI,IAAI,IAAI,IAAI,IAChB,IAAI,IAAI,KAAK,IAAI,GAAG,CAAC,IAAI;AAAA,EAC7B;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,IAAI,IAAI,IAAI,IAAI;AAAA,EACzB;AAAA,EACA,cAAc,SAAU,GAAG;AACzB,WAAO,IAAI,IAAI,IAAI,GAAG,CAAC;AAAA,EACzB;AAAA,EACA,gBAAgB,SAAU,GAAG;AAC3B,WAAO,IAAI,MACT,KAAK,IAAI,IAAI,IAAI,IAAI,IACrB,IAAI,IAAI,KAAK,IAAI,GAAG,CAAC,IAAI;AAAA,EAC7B;AAAA,EACA,YAAY,SAAU,GAAG;AACvB,WAAO,IAAI,IAAI,IAAI,KAAK,CAAC;AAAA,EAC3B;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,IAAI,IAAI,KAAK,CAAC;AAAA,EACvB;AAAA,EACA,eAAe,SAAU,GAAG;AAC1B,WAAO,EAAE,IAAI,KAAK,CAAC,IAAI,KAAK;AAAA,EAC9B;AAAA,EACA,YAAY,SAAU,GAAG;AACvB,WAAO,MAAM,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,EAAE;AAAA,EACzC;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,MAAM,IAAI,IAAI,IAAI,IAAI,GAAG,MAAM,CAAC;AAAA,EACzC;AAAA,EACA,eAAe,SAAU,GAAG;AAC1B,WAAO,MAAM,IAAI,IAAI,MAAM,IAAI,IAAI,IAAI,MACrC,IAAI,GAAG,KAAK,IAAI,EAAE,IAAI,KACrB,IAAI,IAAI,GAAG,MAAM,IAAI,EAAE,KAAK;AAAA,EACjC;AAAA,EACA,YAAY,SAAU,GAAG;AACvB,WAAO,IAAI,KAAK,IAAI,IAAI,GAAG,CAAC,CAAC;AAAA,EAC/B;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,KAAK,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC;AAAA,EAC/B;AAAA,EACA,eAAe,SAAU,GAAG;AAC1B,WAAO,IAAI,OACR,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC,KAAK,KAC/B,KAAK,IAAI,IAAI,KAAK,IAAI,GAAG,CAAC,CAAC,IAAI,KAAK;AAAA,EACzC;AAAA,EACA,eAAe,SAAU,GAAG;AAC1B,WAAO,MAAM,IAAI,IAAI,MAAM,IAAI,IAC7B,CAAC,IAAI,GAAG,KAAK,IAAI,EAAE,IAAI,KAAK,IAAI,KAAK,SAAS,EAAE;AAAA,EACpD;AAAA,EACA,gBAAgB,SAAU,GAAG;AAC3B,WAAO,MAAM,IAAI,IAAI,MAAM,IAAI,IAC7B,IAAI,GAAG,MAAM,CAAC,IAAI,KAAK,IAAI,KAAK,QAAQ,EAAE,IAAI;AAAA,EAClD;AAAA,EACA,kBAAkB,SAAU,GAAG;AAC7B,WAAO,MAAM,IAAI,IAAI,MAAM,IAAI,IAAI,IAAI,MACrC,EAAE,IAAI,GAAG,KAAK,IAAI,EAAE,IAAI,KAAK,KAAK,IAAI,UAAU,EAAE,KAAK,IACvD,IAAI,GAAG,MAAM,IAAI,EAAE,IAAI,KAAK,KAAK,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,EAC7D;AAAA,EACA,YAAY,SAAU,GAAG;AACvB,WAAO,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI;AAAA,EACnC;AAAA,EACA,aAAa,SAAU,GAAG;AACxB,WAAO,IAAI,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,GAAG,CAAC;AAAA,EACnD;AAAA,EACA,eAAe,SAAU,GAAG;AAC1B,WAAO,IAAI,MACR,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,KAAK,IAAI,IAAI,MAAO,KAC3C,IAAI,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,MAAM,IAAI,IAAI,KAAK,MAAM,KAAK;AAAA,EAC9D;AAAA,EACA,cAAc,SAAU,GAAG;AACzB,WAAO,IAAI,UAAU,IAAI,CAAC;AAAA,EAC5B;AAAA,EACA,eAAe;AAAA,EACf,iBAAiB,SAAU,GAAG;AAC5B,WAAO,IAAI,OACR,IAAI,UAAU,IAAI,IAAI,CAAC,KAAK,KAC5B,IAAI,UAAU,IAAI,IAAI,CAAC,KAAK;AAAA,EACjC;AAEF;AASA,gBAAAC,QAAK,GAAG,UAAU,SAChB,YACA,SACA,WAAmB,KACnB,MACe;AACf,MAAI,KAAK,KAAK,IAAI,CAAC;AACnB,QAAMC,YAAW,SAAS,KAAK;AAC/B,SAAO,IAAI,QAAc,CAAC,SAAS,WAAW;AAC5C,IAAAA,UAAS,KAAK,IAAmB,YAAY,SAAS,UAAU,MAAM,OAAO;AAAA,EAC/E,CAAC;AACH;AAEA,gBAAAD,QAAK,GAAG,aAAa,SAAU,eAAe,UAAyB;AACrE,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,QAAI,eAAe;AACnB,QAAIA,QAAO,KAAK,SAAS,cAAc,aAAa;AACpD,IAAAA,MAAK,GAAG,cAAc,MAAM;AAC1B,cAAQ;AACR,WAAK,YAAY,cAAc,aAAa;AAAA,IAE9C,CAAC;AAAA,EACH,CAAC;AACH;AAEA,gBAAAA,QAAK,GAAG,YAAY,SAAsB,KAAqB;AAC7D,MAAI,KAAK,KAAK,IAAI,CAAC;AACnB,MAAI,QAAQ,QAAW;AAAE,WAAO,GAAG;AAAA,EAAU;AAC7C,KAAG,YAAY;AACf,SAAO;AACT;AAEA,gBAAAA,QAAK,GAAG,QAAQ,WAA4B;AAC1C,MAAI,KAAK,KAAK,IAAI,CAAC;AACnB,KAAG,MAAM;AACT,SAAO;AACT;AAEA,gBAAAA,QAAK,GAAG,OAAO,SAAsB,YAAqB,WAA0B;AAClF,WAAS,QAAQ,KAAK,IAAI,CAAC,CAAE;AAC7B,SAAO;AACT;AAEA,gBAAAA,QAAK,GAAG,SAAS,SAAsB,MAAe;AACpD,MAAI,KAAM,MAAK,KAAK;AAAA,MACf,MAAK,KAAK;AACf,SAAO;AACT;AAEA,gBAAAA,QAAK,GAAG,SAAS,SAAsB,MAAe;AACpD,MAAI,KAAM,MAAK,KAAK;AAAA,MACf,MAAK,KAAK;AACf,SAAO;AACT;AAEA,gBAAAA,QAAK,GAAG,WAAW,SAAsB,QAAuB;AAC9D,SAAO,KAAK,IAAI,CAAC,EAAG,SAAS,OAAO,IAAI,CAAC,CAAE;AAC7C;AAMA,gBAAAA,QAAK,GAAG,uBAAuB,SAAsB,QAAqB;AACxE,QAAM,QAAQ,KAAK,IAAI,CAAC;AACxB,QAAM,QAAQ,OAAO,IAAI,CAAC;AAG1B,MAAI,aAAa,MAAM,YAAY,MAAM;AACzC,QAAM,gBAAgB,MAAM;AAG5B,QAAM,gBAAgB,aAAa;AAGnC,QAAM,WAAW,gBAAgB,MAAM;AAGvC,QAAM,gBAAgB,MAAM;AAG5B,MAAI,WAAW,iBAAkB,gBAAiB,gBAAgB,MAAM,cAAgB;AACtF,UAAM,SAAS;AAAA,MACb,KAAK;AAAA,MACL,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AACF;AAEA,gBAAAA,QAAK,GAAG,uBAAuB,SAAsB,QAAoB;AACvE,QAAM,QAAQ,KAAK,IAAI,CAAC;AACxB,QAAM,QAAQ,OAAO,IAAI,CAAC;AAG1B,MAAI,aAAa,MAAM,YAAY,MAAM;AACzC,QAAM,gBAAgB,MAAM;AAG5B,QAAM,gBAAgB,aAAa,gBAAgB;AAGnD,QAAM,WAAW,gBAAgB,MAAM,eAAe;AAGtD,QAAM,gBAAgB,MAAM;AAG5B,MAAI,KAAK,IAAI,gBAAgB,QAAQ,IAAI,GAAG;AAC1C,UAAM,SAAS;AAAA,MACb,KAAK;AAAA,MACL,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AACF;AAMA,gBAAAA,QAAK,GAAG,oBAAoB,SAAsB,QAAoB;AACpE,QAAM,QAAQ,KAAK,IAAI,CAAC;AACxB,QAAM,QAAQ,OAAO,IAAI,CAAC;AAG1B,MAAI,aAAa,MAAM,YAAY,MAAM;AAGzC,QAAM,gBAAgB,MAAM;AAG5B,MAAI,aAAa,iBAAkB,aAAc,gBAAgB,MAAM,cAAgB;AAErF,UAAM,SAAS;AAAA,MACb,KAAK;AAAA,MACL,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AACF;;;AD7aO,IAAM,MAAN,cAAkB,MAAM;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEP,cAAc;AACZ,UAAM;AACN,SAAK,SAAS,IAAI,OAAO,IAAI;AAC7B,SAAK,OAAO,IAAI,WAAW,MAAM;AACjC,SAAK,uBAAmB,iBAAAE,SAAK,SAAS,oBAAoB,SAAS,eAAe;AAAA,EAEpF;AAAA,EAEA,KAAK,UAAmB,OAAoB,SAA8B;AACxE,SAAK,aAAa,KAAK;AACvB,UAAM,KAAK,UAAU,OAAO,OAAO;AACnC,WAAO,KAAK;AAAA,EACd;AAAA,EAGA,MACE,aACA,mBACA,qBACA,mBAA4B,MAC5B,YAAqB,MACrB,eAAkD,YAAY;AAAA,EAAE,GAChE,gBAAyB,OAAO;AAChC,WAAO,KAAK,WAAW;AAAA,MACrB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAGA,YAAY,WAAoB;AAC9B,gBAAY,aAAa,KAAK,iBAAiB,UAAU;AACzD,SAAK,aAAa,IAAI,OAAQ,YAAY,KAAM,IAAI;AACpD,WAAO,WAAW,MAAM;AACtB,WAAK,aAAa,MAAM;AAAA,IAC1B,GAAG,EAAE;AAAA,EACP;AAAA,EAEA,YAAY;AAEV,QAAI,IAAI,OAAO;AACf,aAAS,gBAAgB,MAAM,MAAM,IAAI,CAAC;AAC1C,aAAS,gBAAgB,MAAM,WAAW;AAI1C,SAAK,SAAS,KAAK,MAAM,IAAI;AAC7B,SAAK,SAAS,IAAI,WAAW,OAAO;AACpC,SAAK,SAAS,QAAQ,EAAE,SAAS,IAAK,GAAG,EAAE,SAAS,aAAa,CAAC;AAAA,EACpE;AAAA,EAEA,YAAY;AAEV,UAAM,UAAU,SAAS,gBAAgB,MAAM;AAC/C,aAAS,gBAAgB,MAAM,WAAW;AAC1C,aAAS,gBAAgB,MAAM,sBAAsB;AACrD,aAAS,gBAAgB,MAAM,MAAM;AACrC,WAAO,SAAS,GAAG,SAAS,WAAW,GAAG,IAAI,EAAE;AAEhD,SAAK,SAAS,KAAK,MAAM,IAAI;AAC7B,SAAK,SAAS;AAAA,MACZ,EAAE,SAAS,EAAE;AAAA,MACb,EAAE,SAAS,aAAa;AAAA,MACxB;AAAA,MACA,MAAM;AAAE,aAAK,SAAS,KAAK;AAAA,MAAE;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,cAAc;AACZ,SAAK,iBACF,KAAK,MAAM,IAAI,EACf;AAAA,MACC,EAAE,WAAW,EAAE;AAAA,MACf,EAAE,WAAW,SAAS;AAAA,IACxB;AAAA,EACJ;AACF;;;AE/FA,IAAAC,mBAAiB;AAgBV,IAAM,eAAN,MAAmB;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AAAA,EAEP,YAAY,UAAuB;AACjC,SAAK,WAAW;AAAA,EAClB;AAAA,EAEO,qBAAqB,UAAwB;AAClD,QAAI;AACF,WAAK,eAAe,YAAY;AAAA,IAClC,SAAS,KAAK;AACZ,cAAQ,MAAM,iBAAiB;AAC/B,cAAQ,IAAI,QAAQ;AAAA,IACtB;AACA,WAAO,KAAK,YAAY,SAAS;AAAA,EACnC;AAAA,EAEA,UACE,OACA,eACA,MACA,SAA2B;AAE3B,QAAI,CAAC,OAAO;AACV,YAAM,IAAI,MAAM,qBAAqB;AAAA,IACvC;AAGA,QAAI,QAAW,IAAI,MAAM;AAGzB,WAAO,OAAO,OAAO,KAAK,QAAQ;AAClC,UAAM,eAAe;AAGrB,QAAI,CAAC,MAAM,MAAM;AACf,cAAQ,IAAI,qBAAqB;AACjC,cAAQ,IAAI,YAAY,KAAK,EAAE;AAC/B,YAAM,IAAI,MAAM,qBAAqB;AAAA,IACvC;AAGA,QAAI,SAAS,QAAW;AAEtB,UAAI,YAAY,KAAK,IAAI,CAAC,EAAG;AAC7B,UAAI,WAAW;AAEb,YAAI,CAAC,SAAS;AACZ,oBAAU,EAAE,OAAO,UAAU;AAAA,QAC/B,OAAO;AACL,kBAAQ,OAAO,IAAI;AAAA,QACrB;AAAA,MACF;AAAA,IACF;AAGA,UAAM,KAAK,QAAW,QAAW,OAAO;AAGxC,QAAI,eAAe;AACjB,eAAS,gBAAgB,eAAe;AACtC,YAAI,sBAAkB,iBAAAC,SAAK,YAAY,EAAE,KAAK,SAAS;AACvD,YAAI,CAAC,gBAAiB,OAAM,IAAI,MAAM,+CAA+C,eAAe,EAAE;AACtG,cAAM,KAAK,KAAK,eAAe,EAAE,YAAY,YAAY;AAAA,MAC3D;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAEO,OAAO;AACZ,SAAK,kBAAc,iBAAAA,SAAK,SAAS,cAAc,KAAK,CAAC;AACrD,SAAK,iBAAiB,KAAK,YAAY,IAAI,CAAC;AAAA,EAC9C;AACF;;;AC1FO,IAAM,OAAN,MAAW;AAAA,EAChB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,UAAkB,UAAkB,QAAoB;AAClE,SAAK,SAAS;AACd,SAAK,OAAO,IAAI,UAAU,UAAU,QAAQ;AAC5C,SAAK,KAAK,GAAG,iBAAiB,CAAC,eAAe;AAE5C,WAAK,KAAK,YAAY,WAAW,aAAa,CAAC,OAAO,YAAY;AAChE,YAAI,OAAO;AACT,gBAAM,KAAK;AAEX,gBAAM;AAAA,QACR;AAGA,aAAK,cAAc,WAAW;AAC9B,aAAK,UAAU;AAEf,aAAK,OAAO;AAAA,MACd,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA,EAEA,OAAO;AACL,SAAK,KAAK,KAAK;AAAA,EACjB;AACF;;;ACjCO,SAAS,QAAQ,QAAuB,QAAqB;AAClE,MAAI,MAAW,IAAIC,KAAI;AACvB,MAAI,OAAO;AAEX,MAAI,SAAS;AACb,MAAI,SAAS;AACb,MAAI,eAAe,IAAI,aAAa,EAAE,KAAU,MAAM,KAAK,KAAK,IAAI,KAAK,OAAO,CAAC;AACjF,SAAO;AACT;AAiBA,OAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,CAId;AAID,IAAM,oBAAN,cAAgC,cAAc;AAAA,EACrC,QAAQ,GAAW,KAAqB;AAC7C,WAAO,gBAAgB,IAAI,CAAC,CAAC;AAAA,EAC/B;AAAA,EAEO,WAAmB;AACxB,WAAO;AAAA,EACT;AACF;AAEO,IAAMA,OAAN,cAAkB,IAAK;AAAA;AAAA,EAErB,WAAmB;AAAA,EACnB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAGP,cAAc;AACZ,UAAM;AAAA,EACR;AAAA,EAEO,KAAK,UAAmB,OAAoB,SAA8B;AAC/E,eAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaX,UAAM,KAAK,UAAU;AAAA,MACnB,YAAY,CAAC,eAAe,UAAU;AAAA,MACtC,cAAc;AAAA,MACd,UAAU;AAAA,MAEV,mBAAmB,CAAC,sBAAsB,iBAAiB;AAAA,MAC3D,iBAAiB,CAAC,oBAAoB,eAAe;AAAA,IACvD,GAAG,OAAO;AAGV,SAAK,WAAW,OAAO,WAAW;AAClC,SAAK,OAAO,SAAS,IAAI,CAAC,GAAG,IAAI,kBAAkB,KAAK,QAAQ,KAAK,IAAI,CAAC;AAC1E,SAAK,OAAO,SAAS,gBAAgB,CAAC,GAAG,IAAI,YAAY,MAAM,KAAK,iBAAiB,CAAC;AACtF,SAAK,OAAO,SAAS,aAAa,CAAC,GAAG,IAAI,YAAY,MAAM,KAAK,eAAe,CAAC;AAEjF,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,MAAM,OAAO;AAEX,QAAI,WAAW;AACf,QAAI,WAAW;AACf,SAAK,OAAO,IAAI,KAAK,UAAU,UAAU,MAAM,KAAK,OAAO,CAAC;AAC5D,SAAK,KAAK,cAAc,KAAK,KAAK,IAAI,aAAa;AACnD,SAAK,KAAK,UAAU,KAAK,KAAK,IAAI,SAAS;AAC3C,QAAI,MAAiC;AACnC,WAAK,KAAK,cAAc;AACxB,WAAK,KAAK,UAAU;AAAA,QAClB,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS;AAAA,QACT,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,OAAO;AAAA,QACP,gBAAgB;AAAA,QAChB,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,YAAY,CAAC;AAAA,QACb,aAAY,oBAAI,KAAK,GAAE,YAAY;AAAA,QACnC,aAAY,oBAAI,KAAK,GAAE,YAAY;AAAA,QACnC,KAAK;AAAA,QACL,eAAe;AAAA,QACf,cAAc;AAAA,MAChB;AAAA,IACF;AACA,QAAI,KAAK,KAAK,aAAa;AACzB,YAAM,KAAK,OAAO;AAAA,IACpB;AAEA,UAAM,KAAK,OAAO,QAAQ,EAAE;AAAA,EAC9B;AAAA,EAEA,MAAM,SAAS;AACb,SAAK,KAAK,IAAI,eAAe,KAAK,KAAM,WAAW;AACnD,SAAK,KAAK,IAAI,WAAW,KAAK,KAAM,OAAO;AAC3C,UAAM,KAAK,QAAQ;AACnB,SAAK,OAAO;AAAA,EACd;AAAA,EAEA,MAAM,UAAU;AACd,QAAI,IAAI,KAAK,KAAM;AACnB,QAAI,MAAM,MAAM,IAAI,gBAAgB;AAAA,MAClC,QAAQ,KAAK,KAAM,QAAS;AAAA,MAC5B,cAAc;AAAA,QACZ,QAAQ,KAAK,KAAM,QAAS;AAAA,QAC5B,OAAO,EAAE;AAAA,QACT,YAAY,EAAE;AAAA,QACd,WAAW,EAAE;AAAA,QACb,QAAQ,EAAE;AAAA,QACV,WAAW,EAAE;AAAA,QACb,WAAW,EAAE;AAAA,QACb,MAAM;AAAA,MACR;AAAA,IACF,CAAC;AACD,SAAK,OAAO;AAAA,EACd;AACF;",
  "names": ["Cash", "cash", "i", "attr", "text", "style", "matches", "html", "filtered", "doc", "css", "fn", "docEle", "data", "eventFullName", "ele", "value", "Loader", "html", "css", "css", "import_cash_dom", "cash", "animator", "cash", "import_cash_dom", "cash", "App"]
}
