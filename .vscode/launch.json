{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Client",
      "request": "launch",
      "smartStep": true,
      "sourceMaps": true,
      "trace": true,
      "type": "chrome",
      "runtimeExecutable": "/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",
      "url": "https://0.0.0.0:8443",
      "showAsyncStacks": true,
      "webRoot": "${workspaceFolder}/tiers/client/bundle",
      "sourceMapPathOverrides": {
        // "../../../src/*": "${webRoot}/src/*",
        // "../../../../server/api/*": "${workspaceFolder}/tiers/server/api",
      },
      "runtimeArgs": [
        "--disable-web-security",
        "--no-sandbox",
        // "--user-data-dir=/tmp/chromium_dev"
      ]
      // "preLaunchTask": "tsc: apps/store/src"
    },
    {
      "name": "Deploy",
      "type": "node-terminal",
      "request": "launch",
      "command": "${workspaceFolder}/deploy/cloud.sh",
      "cwd": "${workspaceFolder}",
      "presentation": {
        "close": true,
        "reveal": "silent"
      }
    },
    {
      "name": "Server",
      "type": "lldb",
      "request": "launch",
      "program": "${workspaceFolder}/tiers/server/target/debug/${workspaceFolderBasename}",
      "args": [],
      "cwd": "${workspaceFolder}/tiers/server",
      "preLaunchTask": "build with cargo",
      "postDebugTask": "",
      "internalConsoleOptions": "neverOpen",
      "stopOnEntry": false,
      "sourceLanguages": [
        "rust"
      ],
      "env": {
        "DEBUG": "1",
        "DYLD_LIBRARY_PATH": "/opt/homebrew/lib:${workspaceFolder}/tiers/server/lib",
        "GST_DEBUG": "*:3",
        "OMP_NUM_THREADS": "4",
        "RUST_BACKTRACE": "1",
        "RUST_LOG": "debug", // Enable debug logging
        "ENABLE_HTTPS": "true",
        "HTTP_PORT": "8080",
        "HTTPS_PORT": "8443",
      },
      "console": "integratedTerminal"
    }
  ]
}